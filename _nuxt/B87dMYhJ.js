const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./oaTMXc0e.js","./CXtTLMyC.js","./Molegame.Bzlvbn-m.css","./DChCstzg.js","./test.DDai5LI7.css","./CzZVpk6W.js","./index.qcfLdyL5.css","./Kfxj7LQ4.js","./ChMIpIcq.js","./error-404.4oxyXxx0.css","./Xp9OHAO7.js","./error-500.CZqNkBuR.css"])))=>i.map(i=>d[i]);
var AE=Object.defineProperty;var RE=(t,e,n)=>e in t?AE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var zn=(t,e,n)=>RE(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function gu(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const De={},hs=[],cn=()=>{},SE=()=>!1,Zi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),mu=t=>t.startsWith("onUpdate:"),tt=Object.assign,_u=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},CE=Object.prototype.hasOwnProperty,Ce=(t,e)=>CE.call(t,e),oe=Array.isArray,fs=t=>js(t)==="[object Map]",za=t=>js(t)==="[object Set]",Sf=t=>js(t)==="[object Date]",PE=t=>js(t)==="[object RegExp]",he=t=>typeof t=="function",Me=t=>typeof t=="string",fn=t=>typeof t=="symbol",Oe=t=>t!==null&&typeof t=="object",bg=t=>(Oe(t)||he(t))&&he(t.then)&&he(t.catch),Ag=Object.prototype.toString,js=t=>Ag.call(t),kE=t=>js(t).slice(8,-1),Rg=t=>js(t)==="[object Object]",yu=t=>Me(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ds=gu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Wa=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},OE=/-(\w)/g,jt=Wa(t=>t.replace(OE,(e,n)=>n?n.toUpperCase():"")),NE=/\B([A-Z])/g,qr=Wa(t=>t.replace(NE,"-$1").toLowerCase()),Ka=Wa(t=>t.charAt(0).toUpperCase()+t.slice(1)),Uc=Wa(t=>t?`on${Ka(t)}`:""),ir=(t,e)=>!Object.is(t,e),ps=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Sg=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},aa=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Cg=t=>{const e=Me(t)?Number(t):NaN;return isNaN(e)?t:e};let Cf;const Ga=()=>Cf||(Cf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Qa(t){if(oe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Me(r)?ME(r):Qa(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Me(t)||Oe(t))return t}const DE=/;(?![^(]*\))/g,VE=/:([^]+)/,xE=/\/\*[^]*?\*\//g;function ME(t){const e={};return t.replace(xE,"").split(DE).forEach(n=>{if(n){const r=n.split(VE);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ja(t){let e="";if(Me(t))e=t;else if(oe(t))for(let n=0;n<t.length;n++){const r=Ja(t[n]);r&&(e+=r+" ")}else if(Oe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function LE(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Me(e)&&(t.class=Ja(e)),n&&(t.style=Qa(n)),t}const FE="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",UE=gu(FE);function Pg(t){return!!t||t===""}function BE(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Ya(t[r],e[r]);return n}function Ya(t,e){if(t===e)return!0;let n=Sf(t),r=Sf(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=fn(t),r=fn(e),n||r)return t===e;if(n=oe(t),r=oe(e),n||r)return n&&r?BE(t,e):!1;if(n=Oe(t),r=Oe(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const c=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(c&&!l||!c&&l||!Ya(t[o],e[o]))return!1}}return String(t)===String(e)}function jE(t,e){return t.findIndex(n=>Ya(n,e))}const kg=t=>!!(t&&t.__v_isRef===!0),HE=t=>Me(t)?t:t==null?"":oe(t)||Oe(t)&&(t.toString===Ag||!he(t.toString))?kg(t)?HE(t.value):JSON.stringify(t,Og,2):String(t),Og=(t,e)=>kg(e)?Og(t,e.value):fs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[Bc(r,i)+" =>"]=s,n),{})}:za(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Bc(n))}:fn(e)?Bc(e):Oe(e)&&!oe(e)&&!Rg(e)?String(e):e,Bc=(t,e="")=>{var n;return fn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let At;class Ng{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=At,!e&&At&&(this.index=(At.scopes||(At.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=At;try{return At=this,e()}finally{At=n}}}on(){++this._on===1&&(this.prevScope=At,At=this)}off(){this._on>0&&--this._on===0&&(At=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function $E(t){return new Ng(t)}function Dg(){return At}let Ve;const jc=new WeakSet;class Vg{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,At&&At.active&&At.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,jc.has(this)&&(jc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Mg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Pf(this),Lg(this);const e=Ve,n=Yt;Ve=this,Yt=!0;try{return this.fn()}finally{Fg(this),Ve=e,Yt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Tu(e);this.deps=this.depsTail=void 0,Pf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?jc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){_l(this)&&this.run()}get dirty(){return _l(this)}}let xg=0,mi,_i;function Mg(t,e=!1){if(t.flags|=8,e){t.next=_i,_i=t;return}t.next=mi,mi=t}function vu(){xg++}function Eu(){if(--xg>0)return;if(_i){let e=_i;for(_i=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;mi;){let e=mi;for(mi=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Lg(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Fg(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Tu(r),qE(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function _l(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ug(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ug(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ni)||(t.globalVersion=Ni,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!_l(t))))return;t.flags|=2;const e=t.dep,n=Ve,r=Yt;Ve=t,Yt=!0;try{Lg(t);const s=t.fn(t._value);(e.version===0||ir(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Ve=n,Yt=r,Fg(t),t.flags&=-3}}function Tu(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Tu(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function qE(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Yt=!0;const Bg=[];function kn(){Bg.push(Yt),Yt=!1}function On(){const t=Bg.pop();Yt=t===void 0?!0:t}function Pf(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ve;Ve=void 0;try{e()}finally{Ve=n}}}let Ni=0;class zE{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class wu{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ve||!Yt||Ve===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ve)n=this.activeLink=new zE(Ve,this),Ve.deps?(n.prevDep=Ve.depsTail,Ve.depsTail.nextDep=n,Ve.depsTail=n):Ve.deps=Ve.depsTail=n,jg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ve.depsTail,n.nextDep=void 0,Ve.depsTail.nextDep=n,Ve.depsTail=n,Ve.deps===n&&(Ve.deps=r)}return n}trigger(e){this.version++,Ni++,this.notify(e)}notify(e){vu();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Eu()}}}function jg(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)jg(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ca=new WeakMap,Nr=Symbol(""),yl=Symbol(""),Di=Symbol("");function mt(t,e,n){if(Yt&&Ve){let r=ca.get(t);r||ca.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new wu),s.map=r,s.key=n),s.track()}}function In(t,e,n,r,s,i){const o=ca.get(t);if(!o){Ni++;return}const c=l=>{l&&l.trigger()};if(vu(),e==="clear")o.forEach(c);else{const l=oe(t),h=l&&yu(n);if(l&&n==="length"){const u=Number(r);o.forEach((d,g)=>{(g==="length"||g===Di||!fn(g)&&g>=u)&&c(d)})}else switch((n!==void 0||o.has(void 0))&&c(o.get(n)),h&&c(o.get(Di)),e){case"add":l?h&&c(o.get("length")):(c(o.get(Nr)),fs(t)&&c(o.get(yl)));break;case"delete":l||(c(o.get(Nr)),fs(t)&&c(o.get(yl)));break;case"set":fs(t)&&c(o.get(Nr));break}}Eu()}function WE(t,e){const n=ca.get(t);return n&&n.get(e)}function ns(t){const e=Ae(t);return e===t?e:(mt(e,"iterate",Di),Ut(t)?e:e.map(at))}function Xa(t){return mt(t=Ae(t),"iterate",Di),t}const KE={__proto__:null,[Symbol.iterator](){return Hc(this,Symbol.iterator,at)},concat(...t){return ns(this).concat(...t.map(e=>oe(e)?ns(e):e))},entries(){return Hc(this,"entries",t=>(t[1]=at(t[1]),t))},every(t,e){return vn(this,"every",t,e,void 0,arguments)},filter(t,e){return vn(this,"filter",t,e,n=>n.map(at),arguments)},find(t,e){return vn(this,"find",t,e,at,arguments)},findIndex(t,e){return vn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return vn(this,"findLast",t,e,at,arguments)},findLastIndex(t,e){return vn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return vn(this,"forEach",t,e,void 0,arguments)},includes(...t){return $c(this,"includes",t)},indexOf(...t){return $c(this,"indexOf",t)},join(t){return ns(this).join(t)},lastIndexOf(...t){return $c(this,"lastIndexOf",t)},map(t,e){return vn(this,"map",t,e,void 0,arguments)},pop(){return ai(this,"pop")},push(...t){return ai(this,"push",t)},reduce(t,...e){return kf(this,"reduce",t,e)},reduceRight(t,...e){return kf(this,"reduceRight",t,e)},shift(){return ai(this,"shift")},some(t,e){return vn(this,"some",t,e,void 0,arguments)},splice(...t){return ai(this,"splice",t)},toReversed(){return ns(this).toReversed()},toSorted(t){return ns(this).toSorted(t)},toSpliced(...t){return ns(this).toSpliced(...t)},unshift(...t){return ai(this,"unshift",t)},values(){return Hc(this,"values",at)}};function Hc(t,e,n){const r=Xa(t),s=r[e]();return r!==t&&!Ut(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const GE=Array.prototype;function vn(t,e,n,r,s,i){const o=Xa(t),c=o!==t&&!Ut(t),l=o[e];if(l!==GE[e]){const d=l.apply(t,i);return c?at(d):d}let h=n;o!==t&&(c?h=function(d,g){return n.call(this,at(d),g,t)}:n.length>2&&(h=function(d,g){return n.call(this,d,g,t)}));const u=l.call(o,h,r);return c&&s?s(u):u}function kf(t,e,n,r){const s=Xa(t);let i=n;return s!==t&&(Ut(t)?n.length>3&&(i=function(o,c,l){return n.call(this,o,c,l,t)}):i=function(o,c,l){return n.call(this,o,at(c),l,t)}),s[e](i,...r)}function $c(t,e,n){const r=Ae(t);mt(r,"iterate",Di);const s=r[e](...n);return(s===-1||s===!1)&&Au(n[0])?(n[0]=Ae(n[0]),r[e](...n)):s}function ai(t,e,n=[]){kn(),vu();const r=Ae(t)[e].apply(t,n);return Eu(),On(),r}const QE=gu("__proto__,__v_isRef,__isVue"),Hg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(fn));function JE(t){fn(t)||(t=String(t));const e=Ae(this);return mt(e,"has",t),e.hasOwnProperty(t)}class $g{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?oT:Kg:i?Wg:zg).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=oe(e);if(!s){let l;if(o&&(l=KE[n]))return l;if(n==="hasOwnProperty")return JE}const c=Reflect.get(e,n,Je(e)?e:r);return(fn(n)?Hg.has(n):QE(n))||(s||mt(e,"get",n),i)?c:Je(c)?o&&yu(n)?c:c.value:Oe(c)?s?Gg(c):_r(c):c}}class qg extends $g{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=Nn(i);if(!Ut(r)&&!Nn(r)&&(i=Ae(i),r=Ae(r)),!oe(e)&&Je(i)&&!Je(r))return l?!1:(i.value=r,!0)}const o=oe(e)&&yu(n)?Number(n)<e.length:Ce(e,n),c=Reflect.set(e,n,r,Je(e)?e:s);return e===Ae(s)&&(o?ir(r,i)&&In(e,"set",n,r):In(e,"add",n,r)),c}deleteProperty(e,n){const r=Ce(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&In(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!fn(n)||!Hg.has(n))&&mt(e,"has",n),r}ownKeys(e){return mt(e,"iterate",oe(e)?"length":Nr),Reflect.ownKeys(e)}}class YE extends $g{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const XE=new qg,ZE=new YE,eT=new qg(!0);const vl=t=>t,Oo=t=>Reflect.getPrototypeOf(t);function tT(t,e,n){return function(...r){const s=this.__v_raw,i=Ae(s),o=fs(i),c=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,h=s[t](...r),u=n?vl:e?la:at;return!e&&mt(i,"iterate",l?yl:Nr),{next(){const{value:d,done:g}=h.next();return g?{value:d,done:g}:{value:c?[u(d[0]),u(d[1])]:u(d),done:g}},[Symbol.iterator](){return this}}}}function No(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function nT(t,e){const n={get(s){const i=this.__v_raw,o=Ae(i),c=Ae(s);t||(ir(s,c)&&mt(o,"get",s),mt(o,"get",c));const{has:l}=Oo(o),h=e?vl:t?la:at;if(l.call(o,s))return h(i.get(s));if(l.call(o,c))return h(i.get(c));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&mt(Ae(s),"iterate",Nr),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=Ae(i),c=Ae(s);return t||(ir(s,c)&&mt(o,"has",s),mt(o,"has",c)),s===c?i.has(s):i.has(s)||i.has(c)},forEach(s,i){const o=this,c=o.__v_raw,l=Ae(c),h=e?vl:t?la:at;return!t&&mt(l,"iterate",Nr),c.forEach((u,d)=>s.call(i,h(u),h(d),o))}};return tt(n,t?{add:No("add"),set:No("set"),delete:No("delete"),clear:No("clear")}:{add(s){!e&&!Ut(s)&&!Nn(s)&&(s=Ae(s));const i=Ae(this);return Oo(i).has.call(i,s)||(i.add(s),In(i,"add",s,s)),this},set(s,i){!e&&!Ut(i)&&!Nn(i)&&(i=Ae(i));const o=Ae(this),{has:c,get:l}=Oo(o);let h=c.call(o,s);h||(s=Ae(s),h=c.call(o,s));const u=l.call(o,s);return o.set(s,i),h?ir(i,u)&&In(o,"set",s,i):In(o,"add",s,i),this},delete(s){const i=Ae(this),{has:o,get:c}=Oo(i);let l=o.call(i,s);l||(s=Ae(s),l=o.call(i,s)),c&&c.call(i,s);const h=i.delete(s);return l&&In(i,"delete",s,void 0),h},clear(){const s=Ae(this),i=s.size!==0,o=s.clear();return i&&In(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=tT(s,t,e)}),n}function Iu(t,e){const n=nT(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Ce(n,s)&&s in r?n:r,s,i)}const rT={get:Iu(!1,!1)},sT={get:Iu(!1,!0)},iT={get:Iu(!0,!1)};const zg=new WeakMap,Wg=new WeakMap,Kg=new WeakMap,oT=new WeakMap;function aT(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function cT(t){return t.__v_skip||!Object.isExtensible(t)?0:aT(kE(t))}function _r(t){return Nn(t)?t:bu(t,!1,XE,rT,zg)}function An(t){return bu(t,!1,eT,sT,Wg)}function Gg(t){return bu(t,!0,ZE,iT,Kg)}function bu(t,e,n,r,s){if(!Oe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=cT(t);if(i===0)return t;const o=s.get(t);if(o)return o;const c=new Proxy(t,i===2?r:n);return s.set(t,c),c}function Dr(t){return Nn(t)?Dr(t.__v_raw):!!(t&&t.__v_isReactive)}function Nn(t){return!!(t&&t.__v_isReadonly)}function Ut(t){return!!(t&&t.__v_isShallow)}function Au(t){return t?!!t.__v_raw:!1}function Ae(t){const e=t&&t.__v_raw;return e?Ae(e):t}function lT(t){return!Ce(t,"__v_skip")&&Object.isExtensible(t)&&Sg(t,"__v_skip",!0),t}const at=t=>Oe(t)?_r(t):t,la=t=>Oe(t)?Gg(t):t;function Je(t){return t?t.__v_isRef===!0:!1}function Cn(t){return Qg(t,!1)}function Vi(t){return Qg(t,!0)}function Qg(t,e){return Je(t)?t:new uT(t,e)}class uT{constructor(e,n){this.dep=new wu,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ae(e),this._value=n?e:at(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Ut(e)||Nn(e);e=r?e:Ae(e),ir(e,n)&&(this._rawValue=e,this._value=r?e:at(e),this.dep.trigger())}}function Be(t){return Je(t)?t.value:t}function hT(t){return he(t)?t():Be(t)}const fT={get:(t,e,n)=>e==="__v_raw"?t:Be(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Je(s)&&!Je(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Jg(t){return Dr(t)?t:new Proxy(t,fT)}class dT{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return WE(Ae(this._object),this._key)}}class pT{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function gT(t,e,n){return Je(t)?t:he(t)?new pT(t):Oe(t)&&arguments.length>1?mT(t,e,n):Cn(t)}function mT(t,e,n){const r=t[e];return Je(r)?r:new dT(t,e,n)}class _T{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new wu(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ni-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ve!==this)return Mg(this,!0),!0}get value(){const e=this.dep.track();return Ug(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function yT(t,e,n=!1){let r,s;return he(t)?r=t:(r=t.get,s=t.set),new _T(r,s,n)}const Do={},ua=new WeakMap;let Rr;function vT(t,e=!1,n=Rr){if(n){let r=ua.get(n);r||ua.set(n,r=[]),r.push(t)}}function ET(t,e,n=De){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:c,call:l}=n,h=k=>s?k:Ut(k)||s===!1||s===0?bn(k,1):bn(k);let u,d,g,m,E=!1,A=!1;if(Je(t)?(d=()=>t.value,E=Ut(t)):Dr(t)?(d=()=>h(t),E=!0):oe(t)?(A=!0,E=t.some(k=>Dr(k)||Ut(k)),d=()=>t.map(k=>{if(Je(k))return k.value;if(Dr(k))return h(k);if(he(k))return l?l(k,2):k()})):he(t)?e?d=l?()=>l(t,2):t:d=()=>{if(g){kn();try{g()}finally{On()}}const k=Rr;Rr=u;try{return l?l(t,3,[m]):t(m)}finally{Rr=k}}:d=cn,e&&s){const k=d,V=s===!0?1/0:s;d=()=>bn(k(),V)}const O=Dg(),D=()=>{u.stop(),O&&O.active&&_u(O.effects,u)};if(i&&e){const k=e;e=(...V)=>{k(...V),D()}}let N=A?new Array(t.length).fill(Do):Do;const T=k=>{if(!(!(u.flags&1)||!u.dirty&&!k))if(e){const V=u.run();if(s||E||(A?V.some((F,w)=>ir(F,N[w])):ir(V,N))){g&&g();const F=Rr;Rr=u;try{const w=[V,N===Do?void 0:A&&N[0]===Do?[]:N,m];l?l(e,3,w):e(...w),N=V}finally{Rr=F}}}else u.run()};return c&&c(T),u=new Vg(d),u.scheduler=o?()=>o(T,!1):T,m=k=>vT(k,!1,u),g=u.onStop=()=>{const k=ua.get(u);if(k){if(l)l(k,4);else for(const V of k)V();ua.delete(u)}},e?r?T(!0):N=u.run():o?o(T.bind(null,!0),!0):u.run(),D.pause=u.pause.bind(u),D.resume=u.resume.bind(u),D.stop=D,D}function bn(t,e=1/0,n){if(e<=0||!Oe(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Je(t))bn(t.value,e,n);else if(oe(t))for(let r=0;r<t.length;r++)bn(t[r],e,n);else if(za(t)||fs(t))t.forEach(r=>{bn(r,e,n)});else if(Rg(t)){for(const r in t)bn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&bn(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function eo(t,e,n,r){try{return r?t(...r):t()}catch(s){Hs(s,e,n)}}function Zt(t,e,n,r){if(he(t)){const s=eo(t,e,n,r);return s&&bg(s)&&s.catch(i=>{Hs(i,e,n)}),s}if(oe(t)){const s=[];for(let i=0;i<t.length;i++)s.push(Zt(t[i],e,n,r));return s}}function Hs(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||De;if(e){let c=e.parent;const l=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const u=c.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,h)===!1)return}c=c.parent}if(i){kn(),eo(i,null,10,[t,l,h]),On();return}}TT(t,n,s,r,o)}function TT(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const wt=[];let rn=-1;const gs=[];let Gn=null,ss=0;const Yg=Promise.resolve();let ha=null;function As(t){const e=ha||Yg;return t?e.then(this?t.bind(this):t):e}function wT(t){let e=rn+1,n=wt.length;for(;e<n;){const r=e+n>>>1,s=wt[r],i=xi(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function Ru(t){if(!(t.flags&1)){const e=xi(t),n=wt[wt.length-1];!n||!(t.flags&2)&&e>=xi(n)?wt.push(t):wt.splice(wT(e),0,t),t.flags|=1,Xg()}}function Xg(){ha||(ha=Yg.then(Zg))}function El(t){oe(t)?gs.push(...t):Gn&&t.id===-1?Gn.splice(ss+1,0,t):t.flags&1||(gs.push(t),t.flags|=1),Xg()}function Of(t,e,n=rn+1){for(;n<wt.length;n++){const r=wt[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;wt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function fa(t){if(gs.length){const e=[...new Set(gs)].sort((n,r)=>xi(n)-xi(r));if(gs.length=0,Gn){Gn.push(...e);return}for(Gn=e,ss=0;ss<Gn.length;ss++){const n=Gn[ss];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Gn=null,ss=0}}const xi=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Zg(t){try{for(rn=0;rn<wt.length;rn++){const e=wt[rn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),eo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;rn<wt.length;rn++){const e=wt[rn];e&&(e.flags&=-2)}rn=-1,wt.length=0,fa(),ha=null,(wt.length||gs.length)&&Zg()}}let It=null,em=null;function da(t){const e=It;return It=t,em=t&&t.type.__scopeId||null,e}function tm(t,e=It,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&qf(-1);const i=da(e);let o;try{o=t(...s)}finally{da(i),r._d&&qf(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function EN(t,e){if(It===null)return t;const n=rc(It),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,c,l=De]=e[s];i&&(he(i)&&(i={mounted:i,updated:i}),i.deep&&bn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:c,modifiers:l}))}return t}function sn(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const c=s[o];i&&(c.oldValue=i[o].value);let l=c.dir[r];l&&(kn(),Zt(l,n,8,[t.el,c,t,e]),On())}}const IT=Symbol("_vte"),nm=t=>t.__isTeleport,Qn=Symbol("_leaveCb"),Vo=Symbol("_enterCb");function bT(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Cu(()=>{t.isMounted=!0}),ro(()=>{t.isUnmounting=!0}),t}const xt=[Function,Array],rm={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xt,onEnter:xt,onAfterEnter:xt,onEnterCancelled:xt,onBeforeLeave:xt,onLeave:xt,onAfterLeave:xt,onLeaveCancelled:xt,onBeforeAppear:xt,onAppear:xt,onAfterAppear:xt,onAppearCancelled:xt},sm=t=>{const e=t.subTree;return e.component?sm(e.component):e},AT={name:"BaseTransition",props:rm,setup(t,{slots:e}){const n=nc(),r=bT();return()=>{const s=e.default&&am(e.default(),!0);if(!s||!s.length)return;const i=im(s),o=Ae(t),{mode:c}=o;if(r.isLeaving)return qc(i);const l=Nf(i);if(!l)return qc(i);let h=Tl(l,o,r,n,d=>h=d);l.type!==Ke&&Rs(l,h);let u=n.subTree&&Nf(n.subTree);if(u&&u.type!==Ke&&!Wt(l,u)&&sm(n).type!==Ke){let d=Tl(u,o,r,n);if(Rs(u,d),c==="out-in"&&l.type!==Ke)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},qc(i);c==="in-out"&&l.type!==Ke?d.delayLeave=(g,m,E)=>{const A=om(r,u);A[String(u.key)]=u,g[Qn]=()=>{m(),g[Qn]=void 0,delete h.delayedLeave,u=void 0},h.delayedLeave=()=>{E(),delete h.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function im(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Ke){e=n;break}}return e}const RT=AT;function om(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Tl(t,e,n,r,s){const{appear:i,mode:o,persisted:c=!1,onBeforeEnter:l,onEnter:h,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:g,onLeave:m,onAfterLeave:E,onLeaveCancelled:A,onBeforeAppear:O,onAppear:D,onAfterAppear:N,onAppearCancelled:T}=e,k=String(t.key),V=om(n,t),F=(y,I)=>{y&&Zt(y,r,9,I)},w=(y,I)=>{const P=I[1];F(y,I),oe(y)?y.every(S=>S.length<=1)&&P():y.length<=1&&P()},v={mode:o,persisted:c,beforeEnter(y){let I=l;if(!n.isMounted)if(i)I=O||l;else return;y[Qn]&&y[Qn](!0);const P=V[k];P&&Wt(t,P)&&P.el[Qn]&&P.el[Qn](),F(I,[y])},enter(y){let I=h,P=u,S=d;if(!n.isMounted)if(i)I=D||h,P=N||u,S=T||d;else return;let b=!1;const ge=y[Vo]=ye=>{b||(b=!0,ye?F(S,[y]):F(P,[y]),v.delayedLeave&&v.delayedLeave(),y[Vo]=void 0)};I?w(I,[y,ge]):ge()},leave(y,I){const P=String(t.key);if(y[Vo]&&y[Vo](!0),n.isUnmounting)return I();F(g,[y]);let S=!1;const b=y[Qn]=ge=>{S||(S=!0,I(),ge?F(A,[y]):F(E,[y]),y[Qn]=void 0,V[P]===t&&delete V[P])};V[P]=t,m?w(m,[y,b]):b()},clone(y){const I=Tl(y,e,n,r,s);return s&&s(I),I}};return v}function qc(t){if(no(t))return t=Dn(t),t.children=null,t}function Nf(t){if(!no(t))return nm(t.type)&&t.children?im(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&he(n.default))return n.default()}}function Rs(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Rs(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function am(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const c=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===kt?(o.patchFlag&128&&s++,r=r.concat(am(o.children,e,c))):(e||o.type!==Ke)&&r.push(c!=null?Dn(o,{key:c}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function to(t,e){return he(t)?tt({name:t.name},e,{setup:t}):t}function Su(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Mi(t,e,n,r,s=!1){if(oe(t)){t.forEach((E,A)=>Mi(E,e&&(oe(e)?e[A]:e),n,r,s));return}if(Vr(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Mi(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?rc(r.component):r.el,o=s?null:i,{i:c,r:l}=t,h=e&&e.r,u=c.refs===De?c.refs={}:c.refs,d=c.setupState,g=Ae(d),m=d===De?()=>!1:E=>Ce(g,E);if(h!=null&&h!==l&&(Me(h)?(u[h]=null,m(h)&&(d[h]=null)):Je(h)&&(h.value=null)),he(l))eo(l,c,12,[o,u]);else{const E=Me(l),A=Je(l);if(E||A){const O=()=>{if(t.f){const D=E?m(l)?d[l]:u[l]:l.value;s?oe(D)&&_u(D,i):oe(D)?D.includes(i)||D.push(i):E?(u[l]=[i],m(l)&&(d[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else E?(u[l]=o,m(l)&&(d[l]=o)):A&&(l.value=o,t.k&&(u[t.k]=o))};o?(O.id=-1,it(O,n)):O()}}}let Df=!1;const rs=()=>{Df||(console.error("Hydration completed but contains mismatches."),Df=!0)},ST=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",CT=t=>t.namespaceURI.includes("MathML"),xo=t=>{if(t.nodeType===1){if(ST(t))return"svg";if(CT(t))return"mathml"}},us=t=>t.nodeType===8;function PT(t){const{mt:e,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:c,insert:l,createComment:h}}=t,u=(T,k)=>{if(!k.hasChildNodes()){n(null,T,k),fa(),k._vnode=T;return}d(k.firstChild,T,null,null,null),fa(),k._vnode=T},d=(T,k,V,F,w,v=!1)=>{v=v||!!k.dynamicChildren;const y=us(T)&&T.data==="[",I=()=>A(T,k,V,F,w,y),{type:P,ref:S,shapeFlag:b,patchFlag:ge}=k;let ye=T.nodeType;k.el=T,ge===-2&&(v=!1,k.dynamicChildren=null);let te=null;switch(P){case Mr:ye!==3?k.children===""?(l(k.el=s(""),o(T),T),te=T):te=I():(T.data!==k.children&&(rs(),T.data=k.children),te=i(T));break;case Ke:N(T)?(te=i(T),D(k.el=T.content.firstChild,T,V)):ye!==8||y?te=I():te=i(T);break;case vi:if(y&&(T=i(T),ye=T.nodeType),ye===1||ye===3){te=T;const ue=!k.children.length;for(let ee=0;ee<k.staticCount;ee++)ue&&(k.children+=te.nodeType===1?te.outerHTML:te.data),ee===k.staticCount-1&&(k.anchor=te),te=i(te);return y?i(te):te}else I();break;case kt:y?te=E(T,k,V,F,w,v):te=I();break;default:if(b&1)(ye!==1||k.type.toLowerCase()!==T.tagName.toLowerCase())&&!N(T)?te=I():te=g(T,k,V,F,w,v);else if(b&6){k.slotScopeIds=w;const ue=o(T);if(y?te=O(T):us(T)&&T.data==="teleport start"?te=O(T,T.data,"teleport end"):te=i(T),e(k,ue,null,V,F,xo(ue),v),Vr(k)&&!k.type.__asyncResolved){let ee;y?(ee=ze(kt),ee.anchor=te?te.previousSibling:ue.lastChild):ee=T.nodeType===3?Hm(""):ze("div"),ee.el=T,k.component.subTree=ee}}else b&64?ye!==8?te=I():te=k.type.hydrate(T,k,V,F,w,v,t,m):b&128&&(te=k.type.hydrate(T,k,V,F,xo(o(T)),w,v,t,d))}return S!=null&&Mi(S,null,F,k),te},g=(T,k,V,F,w,v)=>{v=v||!!k.dynamicChildren;const{type:y,props:I,patchFlag:P,shapeFlag:S,dirs:b,transition:ge}=k,ye=y==="input"||y==="option";if(ye||P!==-1){b&&sn(k,null,V,"created");let te=!1;if(N(T)){te=Pm(null,ge)&&V&&V.vnode.props&&V.vnode.props.appear;const ee=T.content.firstChild;te&&ge.beforeEnter(ee),D(ee,T,V),k.el=T=ee}if(S&16&&!(I&&(I.innerHTML||I.textContent))){let ee=m(T.firstChild,k,T,V,F,w,v);for(;ee;){Mo(T,1)||rs();const Le=ee;ee=ee.nextSibling,c(Le)}}else if(S&8){let ee=k.children;ee[0]===`
`&&(T.tagName==="PRE"||T.tagName==="TEXTAREA")&&(ee=ee.slice(1)),T.textContent!==ee&&(Mo(T,0)||rs(),T.textContent=k.children)}if(I){if(ye||!v||P&48){const ee=T.tagName.includes("-");for(const Le in I)(ye&&(Le.endsWith("value")||Le==="indeterminate")||Zi(Le)&&!ds(Le)||Le[0]==="."||ee)&&r(T,Le,null,I[Le],void 0,V)}else if(I.onClick)r(T,"onClick",null,I.onClick,void 0,V);else if(P&4&&Dr(I.style))for(const ee in I.style)I.style[ee]}let ue;(ue=I&&I.onVnodeBeforeMount)&&Rt(ue,V,k),b&&sn(k,null,V,"beforeMount"),((ue=I&&I.onVnodeMounted)||b||te)&&Mm(()=>{ue&&Rt(ue,V,k),te&&ge.enter(T),b&&sn(k,null,V,"mounted")},F)}return T.nextSibling},m=(T,k,V,F,w,v,y)=>{y=y||!!k.dynamicChildren;const I=k.children,P=I.length;for(let S=0;S<P;S++){const b=y?I[S]:I[S]=Ot(I[S]),ge=b.type===Mr;T?(ge&&!y&&S+1<P&&Ot(I[S+1]).type===Mr&&(l(s(T.data.slice(b.children.length)),V,i(T)),T.data=b.children),T=d(T,b,F,w,v,y)):ge&&!b.children?l(b.el=s(""),V):(Mo(V,1)||rs(),n(null,b,V,null,F,w,xo(V),v))}return T},E=(T,k,V,F,w,v)=>{const{slotScopeIds:y}=k;y&&(w=w?w.concat(y):y);const I=o(T),P=m(i(T),k,I,V,F,w,v);return P&&us(P)&&P.data==="]"?i(k.anchor=P):(rs(),l(k.anchor=h("]"),I,P),P)},A=(T,k,V,F,w,v)=>{if(Mo(T.parentElement,1)||rs(),k.el=null,v){const P=O(T);for(;;){const S=i(T);if(S&&S!==P)c(S);else break}}const y=i(T),I=o(T);return c(T),n(null,k,I,y,V,F,xo(I),w),V&&(V.vnode.el=k.el,tc(V,k.el)),y},O=(T,k="[",V="]")=>{let F=0;for(;T;)if(T=i(T),T&&us(T)&&(T.data===k&&F++,T.data===V)){if(F===0)return i(T);F--}return T},D=(T,k,V)=>{const F=k.parentNode;F&&F.replaceChild(T,k);let w=V;for(;w;)w.vnode.el===k&&(w.vnode.el=w.subTree.el=T),w=w.parent},N=T=>T.nodeType===1&&T.tagName==="TEMPLATE";return[u,d]}const Vf="data-allow-mismatch",kT={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Mo(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(Vf);)t=t.parentElement;const n=t&&t.getAttribute(Vf);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:n.split(",").includes(kT[e])}}Ga().requestIdleCallback;Ga().cancelIdleCallback;function OT(t,e){if(us(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(us(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const Vr=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function xf(t){he(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:c=!0,onError:l}=t;let h=null,u,d=0;const g=()=>(d++,h=null,m()),m=()=>{let E;return h||(E=h=e().catch(A=>{if(A=A instanceof Error?A:new Error(String(A)),l)return new Promise((O,D)=>{l(A,()=>O(g()),()=>D(A),d+1)});throw A}).then(A=>E!==h&&h?h:(A&&(A.__esModule||A[Symbol.toStringTag]==="Module")&&(A=A.default),u=A,A)))};return to({name:"AsyncComponentWrapper",__asyncLoader:m,__asyncHydrate(E,A,O){const D=i?()=>{const N=i(O,T=>OT(E,T));N&&(A.bum||(A.bum=[])).push(N)}:O;u?D():m().then(()=>!A.isUnmounted&&D())},get __asyncResolved(){return u},setup(){const E=Ge;if(Su(E),u)return()=>zc(u,E);const A=T=>{h=null,Hs(T,E,13,!r)};if(c&&E.suspense||Ps)return m().then(T=>()=>zc(T,E)).catch(T=>(A(T),()=>r?ze(r,{error:T}):null));const O=Cn(!1),D=Cn(),N=Cn(!!s);return s&&setTimeout(()=>{N.value=!1},s),o!=null&&setTimeout(()=>{if(!O.value&&!D.value){const T=new Error(`Async component timed out after ${o}ms.`);A(T),D.value=T}},o),m().then(()=>{O.value=!0,E.parent&&no(E.parent.vnode)&&E.parent.update()}).catch(T=>{A(T),D.value=T}),()=>{if(O.value&&u)return zc(u,E);if(D.value&&r)return ze(r,{error:D.value});if(n&&!N.value)return ze(n)}}})}function zc(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=ze(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const no=t=>t.type.__isKeepAlive,NT={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=nc(),r=n.ctx;if(!r.renderer)return()=>{const N=e.default&&e.default();return N&&N.length===1?N[0]:N};const s=new Map,i=new Set;let o=null;const c=n.suspense,{renderer:{p:l,m:h,um:u,o:{createElement:d}}}=r,g=d("div");r.activate=(N,T,k,V,F)=>{const w=N.component;h(N,T,k,0,c),l(w.vnode,N,T,k,w,c,V,N.slotScopeIds,F),it(()=>{w.isDeactivated=!1,w.a&&ps(w.a);const v=N.props&&N.props.onVnodeMounted;v&&Rt(v,w.parent,N)},c)},r.deactivate=N=>{const T=N.component;ga(T.m),ga(T.a),h(N,g,null,1,c),it(()=>{T.da&&ps(T.da);const k=N.props&&N.props.onVnodeUnmounted;k&&Rt(k,T.parent,N),T.isDeactivated=!0},c)};function m(N){Wc(N),u(N,n,c,!0)}function E(N){s.forEach((T,k)=>{const V=Pl(T.type);V&&!N(V)&&A(k)})}function A(N){const T=s.get(N);T&&(!o||!Wt(T,o))?m(T):o&&Wc(o),s.delete(N),i.delete(N)}_s(()=>[t.include,t.exclude],([N,T])=>{N&&E(k=>hi(N,k)),T&&E(k=>!hi(T,k))},{flush:"post",deep:!0});let O=null;const D=()=>{O!=null&&(ma(n.subTree.type)?it(()=>{s.set(O,Lo(n.subTree))},n.subTree.suspense):s.set(O,Lo(n.subTree)))};return Cu(D),hm(D),ro(()=>{s.forEach(N=>{const{subTree:T,suspense:k}=n,V=Lo(T);if(N.type===V.type&&N.key===V.key){Wc(V);const F=V.component.da;F&&it(F,k);return}m(N)})}),()=>{if(O=null,!e.default)return o=null;const N=e.default(),T=N[0];if(N.length>1)return o=null,N;if(!Cs(T)||!(T.shapeFlag&4)&&!(T.shapeFlag&128))return o=null,T;let k=Lo(T);if(k.type===Ke)return o=null,k;const V=k.type,F=Pl(Vr(k)?k.type.__asyncResolved||{}:V),{include:w,exclude:v,max:y}=t;if(w&&(!F||!hi(w,F))||v&&F&&hi(v,F))return k.shapeFlag&=-257,o=k,T;const I=k.key==null?V:k.key,P=s.get(I);return k.el&&(k=Dn(k),T.shapeFlag&128&&(T.ssContent=k)),O=I,P?(k.el=P.el,k.component=P.component,k.transition&&Rs(k,k.transition),k.shapeFlag|=512,i.delete(I),i.add(I)):(i.add(I),y&&i.size>parseInt(y,10)&&A(i.values().next().value)),k.shapeFlag|=256,o=k,ma(T.type)?T:k}}},DT=NT;function hi(t,e){return oe(t)?t.some(n=>hi(n,e)):Me(t)?t.split(",").includes(e):PE(t)?(t.lastIndex=0,t.test(e)):!1}function cm(t,e){um(t,"a",e)}function lm(t,e){um(t,"da",e)}function um(t,e,n=Ge){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Za(e,r,n),n){let s=n.parent;for(;s&&s.parent;)no(s.parent.vnode)&&VT(r,e,n,s),s=s.parent}}function VT(t,e,n,r){const s=Za(e,t,r,!0);fm(()=>{_u(r[e],s)},n)}function Wc(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Lo(t){return t.shapeFlag&128?t.ssContent:t}function Za(t,e,n=Ge,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{kn();const c=so(n),l=Zt(e,n,t,o);return c(),On(),l});return r?s.unshift(i):s.push(i),i}}const Fn=t=>(e,n=Ge)=>{(!Ps||t==="sp")&&Za(t,(...r)=>e(...r),n)},xT=Fn("bm"),Cu=Fn("m"),MT=Fn("bu"),hm=Fn("u"),ro=Fn("bum"),fm=Fn("um"),LT=Fn("sp"),FT=Fn("rtg"),UT=Fn("rtc");function dm(t,e=Ge){Za("ec",t,e)}const pm="components";function TN(t,e){return mm(pm,t,!0,e)||t}const gm=Symbol.for("v-ndc");function BT(t){return Me(t)?mm(pm,t,!1)||t:t||gm}function mm(t,e,n=!0,r=!1){const s=It||Ge;if(s){const i=s.type;{const c=Pl(i,!1);if(c&&(c===e||c===jt(e)||c===Ka(jt(e))))return i}const o=Mf(s[t]||i[t],e)||Mf(s.appContext[t],e);return!o&&r?i:o}}function Mf(t,e){return t&&(t[e]||t[jt(e)]||t[Ka(jt(e))])}function wN(t,e,n,r){let s;const i=n,o=oe(t);if(o||Me(t)){const c=o&&Dr(t);let l=!1,h=!1;c&&(l=!Ut(t),h=Nn(t),t=Xa(t)),s=new Array(t.length);for(let u=0,d=t.length;u<d;u++)s[u]=e(l?h?la(at(t[u])):at(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let c=0;c<t;c++)s[c]=e(c+1,c,void 0,i)}else if(Oe(t))if(t[Symbol.iterator])s=Array.from(t,(c,l)=>e(c,l,void 0,i));else{const c=Object.keys(t);s=new Array(c.length);for(let l=0,h=c.length;l<h;l++){const u=c[l];s[l]=e(t[u],u,l,i)}}else s=[];return s}const wl=t=>t?$m(t)?rc(t):wl(t.parent):null,yi=tt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>wl(t.parent),$root:t=>wl(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ym(t),$forceUpdate:t=>t.f||(t.f=()=>{Ru(t.update)}),$nextTick:t=>t.n||(t.n=As.bind(t.proxy)),$watch:t=>aw.bind(t)}),Kc=(t,e)=>t!==De&&!t.__isScriptSetup&&Ce(t,e),jT={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:c,appContext:l}=t;let h;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Kc(r,e))return o[e]=1,r[e];if(s!==De&&Ce(s,e))return o[e]=2,s[e];if((h=t.propsOptions[0])&&Ce(h,e))return o[e]=3,i[e];if(n!==De&&Ce(n,e))return o[e]=4,n[e];Il&&(o[e]=0)}}const u=yi[e];let d,g;if(u)return e==="$attrs"&&mt(t.attrs,"get",""),u(t);if((d=c.__cssModules)&&(d=d[e]))return d;if(n!==De&&Ce(n,e))return o[e]=4,n[e];if(g=l.config.globalProperties,Ce(g,e))return g[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Kc(s,e)?(s[e]=n,!0):r!==De&&Ce(r,e)?(r[e]=n,!0):Ce(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let c;return!!n[o]||t!==De&&Ce(t,o)||Kc(e,o)||(c=i[0])&&Ce(c,o)||Ce(r,o)||Ce(yi,o)||Ce(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ce(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Lf(t){return oe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Il=!0;function HT(t){const e=ym(t),n=t.proxy,r=t.ctx;Il=!1,e.beforeCreate&&Ff(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:c,provide:l,inject:h,created:u,beforeMount:d,mounted:g,beforeUpdate:m,updated:E,activated:A,deactivated:O,beforeDestroy:D,beforeUnmount:N,destroyed:T,unmounted:k,render:V,renderTracked:F,renderTriggered:w,errorCaptured:v,serverPrefetch:y,expose:I,inheritAttrs:P,components:S,directives:b,filters:ge}=e;if(h&&$T(h,r,null),o)for(const ue in o){const ee=o[ue];he(ee)&&(r[ue]=ee.bind(n))}if(s){const ue=s.call(n,n);Oe(ue)&&(t.data=_r(ue))}if(Il=!0,i)for(const ue in i){const ee=i[ue],Le=he(ee)?ee.bind(n,n):he(ee.get)?ee.get.bind(n,n):cn,qt=!he(ee)&&he(ee.set)?ee.set.bind(n):cn,Dt=Kt({get:Le,set:qt});Object.defineProperty(r,ue,{enumerable:!0,configurable:!0,get:()=>Dt.value,set:Fe=>Dt.value=Fe})}if(c)for(const ue in c)_m(c[ue],r,n,ue);if(l){const ue=he(l)?l.call(n):l;Reflect.ownKeys(ue).forEach(ee=>{ms(ee,ue[ee])})}u&&Ff(u,t,"c");function te(ue,ee){oe(ee)?ee.forEach(Le=>ue(Le.bind(n))):ee&&ue(ee.bind(n))}if(te(xT,d),te(Cu,g),te(MT,m),te(hm,E),te(cm,A),te(lm,O),te(dm,v),te(UT,F),te(FT,w),te(ro,N),te(fm,k),te(LT,y),oe(I))if(I.length){const ue=t.exposed||(t.exposed={});I.forEach(ee=>{Object.defineProperty(ue,ee,{get:()=>n[ee],set:Le=>n[ee]=Le})})}else t.exposed||(t.exposed={});V&&t.render===cn&&(t.render=V),P!=null&&(t.inheritAttrs=P),S&&(t.components=S),b&&(t.directives=b),y&&Su(t)}function $T(t,e,n=cn){oe(t)&&(t=bl(t));for(const r in t){const s=t[r];let i;Oe(s)?"default"in s?i=Nt(s.from||r,s.default,!0):i=Nt(s.from||r):i=Nt(s),Je(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Ff(t,e,n){Zt(oe(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function _m(t,e,n,r){let s=r.includes(".")?Nm(n,r):()=>n[r];if(Me(t)){const i=e[t];he(i)&&_s(s,i)}else if(he(t))_s(s,t.bind(n));else if(Oe(t))if(oe(t))t.forEach(i=>_m(i,e,n,r));else{const i=he(t.handler)?t.handler.bind(n):e[t.handler];he(i)&&_s(s,i,t)}}function ym(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,c=i.get(e);let l;return c?l=c:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(h=>pa(l,h,o,!0)),pa(l,e,o)),Oe(e)&&i.set(e,l),l}function pa(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&pa(t,i,n,!0),s&&s.forEach(o=>pa(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const c=qT[o]||n&&n[o];t[o]=c?c(t[o],e[o]):e[o]}return t}const qT={data:Uf,props:Bf,emits:Bf,methods:fi,computed:fi,beforeCreate:Tt,created:Tt,beforeMount:Tt,mounted:Tt,beforeUpdate:Tt,updated:Tt,beforeDestroy:Tt,beforeUnmount:Tt,destroyed:Tt,unmounted:Tt,activated:Tt,deactivated:Tt,errorCaptured:Tt,serverPrefetch:Tt,components:fi,directives:fi,watch:WT,provide:Uf,inject:zT};function Uf(t,e){return e?t?function(){return tt(he(t)?t.call(this,this):t,he(e)?e.call(this,this):e)}:e:t}function zT(t,e){return fi(bl(t),bl(e))}function bl(t){if(oe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Tt(t,e){return t?[...new Set([].concat(t,e))]:e}function fi(t,e){return t?tt(Object.create(null),t,e):e}function Bf(t,e){return t?oe(t)&&oe(e)?[...new Set([...t,...e])]:tt(Object.create(null),Lf(t),Lf(e??{})):e}function WT(t,e){if(!t)return e;if(!e)return t;const n=tt(Object.create(null),t);for(const r in e)n[r]=Tt(t[r],e[r]);return n}function vm(){return{app:null,config:{isNativeTag:SE,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let KT=0;function GT(t,e){return function(r,s=null){he(r)||(r=tt({},r)),s!=null&&!Oe(s)&&(s=null);const i=vm(),o=new WeakSet,c=[];let l=!1;const h=i.app={_uid:KT++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:Ow,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&he(u.install)?(o.add(u),u.install(h,...d)):he(u)&&(o.add(u),u(h,...d))),h},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),h},component(u,d){return d?(i.components[u]=d,h):i.components[u]},directive(u,d){return d?(i.directives[u]=d,h):i.directives[u]},mount(u,d,g){if(!l){const m=h._ceVNode||ze(r,s);return m.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),d&&e?e(m,u):t(m,u,g),l=!0,h._container=u,u.__vue_app__=h,rc(m.component)}},onUnmount(u){c.push(u)},unmount(){l&&(Zt(c,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(u,d){return i.provides[u]=d,h},runWithContext(u){const d=xr;xr=h;try{return u()}finally{xr=d}}};return h}}let xr=null;function ms(t,e){if(Ge){let n=Ge.provides;const r=Ge.parent&&Ge.parent.provides;r===n&&(n=Ge.provides=Object.create(r)),n[t]=e}}function Nt(t,e,n=!1){const r=Ge||It;if(r||xr){const s=xr?xr._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&he(e)?e.call(r&&r.proxy):e}}function Pu(){return!!(Ge||It||xr)}const Em={},Tm=()=>Object.create(Em),wm=t=>Object.getPrototypeOf(t)===Em;function QT(t,e,n,r=!1){const s={},i=Tm();t.propsDefaults=Object.create(null),Im(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:An(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function JT(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,c=Ae(s),[l]=t.propsOptions;let h=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let g=u[d];if(ec(t.emitsOptions,g))continue;const m=e[g];if(l)if(Ce(i,g))m!==i[g]&&(i[g]=m,h=!0);else{const E=jt(g);s[E]=Al(l,c,E,m,t,!1)}else m!==i[g]&&(i[g]=m,h=!0)}}}else{Im(t,e,s,i)&&(h=!0);let u;for(const d in c)(!e||!Ce(e,d)&&((u=qr(d))===d||!Ce(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=Al(l,c,d,void 0,t,!0)):delete s[d]);if(i!==c)for(const d in i)(!e||!Ce(e,d))&&(delete i[d],h=!0)}h&&In(t.attrs,"set","")}function Im(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,c;if(e)for(let l in e){if(ds(l))continue;const h=e[l];let u;s&&Ce(s,u=jt(l))?!i||!i.includes(u)?n[u]=h:(c||(c={}))[u]=h:ec(t.emitsOptions,l)||(!(l in r)||h!==r[l])&&(r[l]=h,o=!0)}if(i){const l=Ae(n),h=c||De;for(let u=0;u<i.length;u++){const d=i[u];n[d]=Al(s,l,d,h[d],t,!Ce(h,d))}}return o}function Al(t,e,n,r,s,i){const o=t[n];if(o!=null){const c=Ce(o,"default");if(c&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&he(l)){const{propsDefaults:h}=s;if(n in h)r=h[n];else{const u=so(s);r=h[n]=l.call(null,e),u()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!c?r=!1:o[1]&&(r===""||r===qr(n))&&(r=!0))}return r}const YT=new WeakMap;function bm(t,e,n=!1){const r=n?YT:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},c=[];let l=!1;if(!he(t)){const u=d=>{l=!0;const[g,m]=bm(d,e,!0);tt(o,g),m&&c.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return Oe(t)&&r.set(t,hs),hs;if(oe(i))for(let u=0;u<i.length;u++){const d=jt(i[u]);jf(d)&&(o[d]=De)}else if(i)for(const u in i){const d=jt(u);if(jf(d)){const g=i[u],m=o[d]=oe(g)||he(g)?{type:g}:tt({},g),E=m.type;let A=!1,O=!0;if(oe(E))for(let D=0;D<E.length;++D){const N=E[D],T=he(N)&&N.name;if(T==="Boolean"){A=!0;break}else T==="String"&&(O=!1)}else A=he(E)&&E.name==="Boolean";m[0]=A,m[1]=O,(A||Ce(m,"default"))&&c.push(d)}}const h=[o,c];return Oe(t)&&r.set(t,h),h}function jf(t){return t[0]!=="$"&&!ds(t)}const ku=t=>t[0]==="_"||t==="$stable",Ou=t=>oe(t)?t.map(Ot):[Ot(t)],XT=(t,e,n)=>{if(e._n)return e;const r=tm((...s)=>Ou(e(...s)),n);return r._c=!1,r},Am=(t,e,n)=>{const r=t._ctx;for(const s in t){if(ku(s))continue;const i=t[s];if(he(i))e[s]=XT(s,i,r);else if(i!=null){const o=Ou(i);e[s]=()=>o}}},Rm=(t,e)=>{const n=Ou(e);t.slots.default=()=>n},Sm=(t,e,n)=>{for(const r in e)(n||!ku(r))&&(t[r]=e[r])},ZT=(t,e,n)=>{const r=t.slots=Tm();if(t.vnode.shapeFlag&32){const s=e._;s?(Sm(r,e,n),n&&Sg(r,"_",s,!0)):Am(e,r)}else e&&Rm(t,e)},ew=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=De;if(r.shapeFlag&32){const c=e._;c?n&&c===1?i=!1:Sm(s,e,n):(i=!e.$stable,Am(e,s)),o=e}else e&&(Rm(t,e),o={default:1});if(i)for(const c in s)!ku(c)&&o[c]==null&&delete s[c]},it=Mm;function tw(t){return Cm(t)}function nw(t){return Cm(t,PT)}function Cm(t,e){const n=Ga();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:c,createComment:l,setText:h,setElementText:u,parentNode:d,nextSibling:g,setScopeId:m=cn,insertStaticContent:E}=t,A=(R,C,M,H=null,U=null,$=null,Q=void 0,K=null,W=!!C.dynamicChildren)=>{if(R===C)return;R&&!Wt(R,C)&&(H=B(R),Fe(R,U,$,!0),R=null),C.patchFlag===-2&&(W=!1,C.dynamicChildren=null);const{type:z,ref:ie,shapeFlag:J}=C;switch(z){case Mr:O(R,C,M,H);break;case Ke:D(R,C,M,H);break;case vi:R==null&&N(C,M,H,Q);break;case kt:S(R,C,M,H,U,$,Q,K,W);break;default:J&1?V(R,C,M,H,U,$,Q,K,W):J&6?b(R,C,M,H,U,$,Q,K,W):(J&64||J&128)&&z.process(R,C,M,H,U,$,Q,K,W,ne)}ie!=null&&U&&Mi(ie,R&&R.ref,$,C||R,!C)},O=(R,C,M,H)=>{if(R==null)r(C.el=c(C.children),M,H);else{const U=C.el=R.el;C.children!==R.children&&h(U,C.children)}},D=(R,C,M,H)=>{R==null?r(C.el=l(C.children||""),M,H):C.el=R.el},N=(R,C,M,H)=>{[R.el,R.anchor]=E(R.children,C,M,H,R.el,R.anchor)},T=({el:R,anchor:C},M,H)=>{let U;for(;R&&R!==C;)U=g(R),r(R,M,H),R=U;r(C,M,H)},k=({el:R,anchor:C})=>{let M;for(;R&&R!==C;)M=g(R),s(R),R=M;s(C)},V=(R,C,M,H,U,$,Q,K,W)=>{C.type==="svg"?Q="svg":C.type==="math"&&(Q="mathml"),R==null?F(C,M,H,U,$,Q,K,W):y(R,C,U,$,Q,K,W)},F=(R,C,M,H,U,$,Q,K)=>{let W,z;const{props:ie,shapeFlag:J,transition:se,dirs:re}=R;if(W=R.el=o(R.type,$,ie&&ie.is,ie),J&8?u(W,R.children):J&16&&v(R.children,W,null,H,U,Gc(R,$),Q,K),re&&sn(R,null,H,"created"),w(W,R,R.scopeId,Q,H),ie){for(const Re in ie)Re!=="value"&&!ds(Re)&&i(W,Re,null,ie[Re],$,H);"value"in ie&&i(W,"value",null,ie.value,$),(z=ie.onVnodeBeforeMount)&&Rt(z,H,R)}re&&sn(R,null,H,"beforeMount");const le=Pm(U,se);le&&se.beforeEnter(W),r(W,C,M),((z=ie&&ie.onVnodeMounted)||le||re)&&it(()=>{z&&Rt(z,H,R),le&&se.enter(W),re&&sn(R,null,H,"mounted")},U)},w=(R,C,M,H,U)=>{if(M&&m(R,M),H)for(let $=0;$<H.length;$++)m(R,H[$]);if(U){let $=U.subTree;if(C===$||ma($.type)&&($.ssContent===C||$.ssFallback===C)){const Q=U.vnode;w(R,Q,Q.scopeId,Q.slotScopeIds,U.parent)}}},v=(R,C,M,H,U,$,Q,K,W=0)=>{for(let z=W;z<R.length;z++){const ie=R[z]=K?Jn(R[z]):Ot(R[z]);A(null,ie,C,M,H,U,$,Q,K)}},y=(R,C,M,H,U,$,Q)=>{const K=C.el=R.el;let{patchFlag:W,dynamicChildren:z,dirs:ie}=C;W|=R.patchFlag&16;const J=R.props||De,se=C.props||De;let re;if(M&&wr(M,!1),(re=se.onVnodeBeforeUpdate)&&Rt(re,M,C,R),ie&&sn(C,R,M,"beforeUpdate"),M&&wr(M,!0),(J.innerHTML&&se.innerHTML==null||J.textContent&&se.textContent==null)&&u(K,""),z?I(R.dynamicChildren,z,K,M,H,Gc(C,U),$):Q||ee(R,C,K,null,M,H,Gc(C,U),$,!1),W>0){if(W&16)P(K,J,se,M,U);else if(W&2&&J.class!==se.class&&i(K,"class",null,se.class,U),W&4&&i(K,"style",J.style,se.style,U),W&8){const le=C.dynamicProps;for(let Re=0;Re<le.length;Re++){const Ie=le[Re],ut=J[Ie],Ze=se[Ie];(Ze!==ut||Ie==="value")&&i(K,Ie,ut,Ze,U,M)}}W&1&&R.children!==C.children&&u(K,C.children)}else!Q&&z==null&&P(K,J,se,M,U);((re=se.onVnodeUpdated)||ie)&&it(()=>{re&&Rt(re,M,C,R),ie&&sn(C,R,M,"updated")},H)},I=(R,C,M,H,U,$,Q)=>{for(let K=0;K<C.length;K++){const W=R[K],z=C[K],ie=W.el&&(W.type===kt||!Wt(W,z)||W.shapeFlag&70)?d(W.el):M;A(W,z,ie,null,H,U,$,Q,!0)}},P=(R,C,M,H,U)=>{if(C!==M){if(C!==De)for(const $ in C)!ds($)&&!($ in M)&&i(R,$,C[$],null,U,H);for(const $ in M){if(ds($))continue;const Q=M[$],K=C[$];Q!==K&&$!=="value"&&i(R,$,K,Q,U,H)}"value"in M&&i(R,"value",C.value,M.value,U)}},S=(R,C,M,H,U,$,Q,K,W)=>{const z=C.el=R?R.el:c(""),ie=C.anchor=R?R.anchor:c("");let{patchFlag:J,dynamicChildren:se,slotScopeIds:re}=C;re&&(K=K?K.concat(re):re),R==null?(r(z,M,H),r(ie,M,H),v(C.children||[],M,ie,U,$,Q,K,W)):J>0&&J&64&&se&&R.dynamicChildren?(I(R.dynamicChildren,se,M,U,$,Q,K),(C.key!=null||U&&C===U.subTree)&&km(R,C,!0)):ee(R,C,M,ie,U,$,Q,K,W)},b=(R,C,M,H,U,$,Q,K,W)=>{C.slotScopeIds=K,R==null?C.shapeFlag&512?U.ctx.activate(C,M,H,Q,W):ge(C,M,H,U,$,Q,W):ye(R,C,W)},ge=(R,C,M,H,U,$,Q)=>{const K=R.component=Aw(R,H,U);if(no(R)&&(K.ctx.renderer=ne),Rw(K,!1,Q),K.asyncDep){if(U&&U.registerDep(K,te,Q),!R.el){const W=K.subTree=ze(Ke);D(null,W,C,M)}}else te(K,R,C,M,U,$,Q)},ye=(R,C,M)=>{const H=C.component=R.component;if(dw(R,C,M))if(H.asyncDep&&!H.asyncResolved){ue(H,C,M);return}else H.next=C,H.update();else C.el=R.el,H.vnode=C},te=(R,C,M,H,U,$,Q)=>{const K=()=>{if(R.isMounted){let{next:J,bu:se,u:re,parent:le,vnode:Re}=R;{const ht=Om(R);if(ht){J&&(J.el=Re.el,ue(R,J,Q)),ht.asyncDep.then(()=>{R.isUnmounted||K()});return}}let Ie=J,ut;wr(R,!1),J?(J.el=Re.el,ue(R,J,Q)):J=Re,se&&ps(se),(ut=J.props&&J.props.onVnodeBeforeUpdate)&&Rt(ut,le,J,Re),wr(R,!0);const Ze=Qc(R),rt=R.subTree;R.subTree=Ze,A(rt,Ze,d(rt.el),B(rt),R,U,$),J.el=Ze.el,Ie===null&&tc(R,Ze.el),re&&it(re,U),(ut=J.props&&J.props.onVnodeUpdated)&&it(()=>Rt(ut,le,J,Re),U)}else{let J;const{el:se,props:re}=C,{bm:le,m:Re,parent:Ie,root:ut,type:Ze}=R,rt=Vr(C);if(wr(R,!1),le&&ps(le),!rt&&(J=re&&re.onVnodeBeforeMount)&&Rt(J,Ie,C),wr(R,!0),se&&ke){const ht=()=>{R.subTree=Qc(R),ke(se,R.subTree,R,U,null)};rt&&Ze.__asyncHydrate?Ze.__asyncHydrate(se,R,ht):ht()}else{ut.ce&&ut.ce._injectChildStyle(Ze);const ht=R.subTree=Qc(R);A(null,ht,M,H,R,U,$),C.el=ht.el}if(Re&&it(Re,U),!rt&&(J=re&&re.onVnodeMounted)){const ht=C;it(()=>Rt(J,Ie,ht),U)}(C.shapeFlag&256||Ie&&Vr(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&R.a&&it(R.a,U),R.isMounted=!0,C=M=H=null}};R.scope.on();const W=R.effect=new Vg(K);R.scope.off();const z=R.update=W.run.bind(W),ie=R.job=W.runIfDirty.bind(W);ie.i=R,ie.id=R.uid,W.scheduler=()=>Ru(ie),wr(R,!0),z()},ue=(R,C,M)=>{C.component=R;const H=R.vnode.props;R.vnode=C,R.next=null,JT(R,C.props,H,M),ew(R,C.children,M),kn(),Of(R),On()},ee=(R,C,M,H,U,$,Q,K,W=!1)=>{const z=R&&R.children,ie=R?R.shapeFlag:0,J=C.children,{patchFlag:se,shapeFlag:re}=C;if(se>0){if(se&128){qt(z,J,M,H,U,$,Q,K,W);return}else if(se&256){Le(z,J,M,H,U,$,Q,K,W);return}}re&8?(ie&16&&bt(z,U,$),J!==z&&u(M,J)):ie&16?re&16?qt(z,J,M,H,U,$,Q,K,W):bt(z,U,$,!0):(ie&8&&u(M,""),re&16&&v(J,M,H,U,$,Q,K,W))},Le=(R,C,M,H,U,$,Q,K,W)=>{R=R||hs,C=C||hs;const z=R.length,ie=C.length,J=Math.min(z,ie);let se;for(se=0;se<J;se++){const re=C[se]=W?Jn(C[se]):Ot(C[se]);A(R[se],re,M,null,U,$,Q,K,W)}z>ie?bt(R,U,$,!0,!1,J):v(C,M,H,U,$,Q,K,W,J)},qt=(R,C,M,H,U,$,Q,K,W)=>{let z=0;const ie=C.length;let J=R.length-1,se=ie-1;for(;z<=J&&z<=se;){const re=R[z],le=C[z]=W?Jn(C[z]):Ot(C[z]);if(Wt(re,le))A(re,le,M,null,U,$,Q,K,W);else break;z++}for(;z<=J&&z<=se;){const re=R[J],le=C[se]=W?Jn(C[se]):Ot(C[se]);if(Wt(re,le))A(re,le,M,null,U,$,Q,K,W);else break;J--,se--}if(z>J){if(z<=se){const re=se+1,le=re<ie?C[re].el:H;for(;z<=se;)A(null,C[z]=W?Jn(C[z]):Ot(C[z]),M,le,U,$,Q,K,W),z++}}else if(z>se)for(;z<=J;)Fe(R[z],U,$,!0),z++;else{const re=z,le=z,Re=new Map;for(z=le;z<=se;z++){const vt=C[z]=W?Jn(C[z]):Ot(C[z]);vt.key!=null&&Re.set(vt.key,z)}let Ie,ut=0;const Ze=se-le+1;let rt=!1,ht=0;const jn=new Array(Ze);for(z=0;z<Ze;z++)jn[z]=0;for(z=re;z<=J;z++){const vt=R[z];if(ut>=Ze){Fe(vt,U,$,!0);continue}let Vt;if(vt.key!=null)Vt=Re.get(vt.key);else for(Ie=le;Ie<=se;Ie++)if(jn[Ie-le]===0&&Wt(vt,C[Ie])){Vt=Ie;break}Vt===void 0?Fe(vt,U,$,!0):(jn[Vt-le]=z+1,Vt>=ht?ht=Vt:rt=!0,A(vt,C[Vt],M,null,U,$,Q,K,W),ut++)}const Jr=rt?rw(jn):hs;for(Ie=Jr.length-1,z=Ze-1;z>=0;z--){const vt=le+z,Vt=C[vt],Yr=vt+1<ie?C[vt+1].el:H;jn[z]===0?A(null,Vt,M,Yr,U,$,Q,K,W):rt&&(Ie<0||z!==Jr[Ie]?Dt(Vt,M,Yr,2):Ie--)}}},Dt=(R,C,M,H,U=null)=>{const{el:$,type:Q,transition:K,children:W,shapeFlag:z}=R;if(z&6){Dt(R.component.subTree,C,M,H);return}if(z&128){R.suspense.move(C,M,H);return}if(z&64){Q.move(R,C,M,ne);return}if(Q===kt){r($,C,M);for(let J=0;J<W.length;J++)Dt(W[J],C,M,H);r(R.anchor,C,M);return}if(Q===vi){T(R,C,M);return}if(H!==2&&z&1&&K)if(H===0)K.beforeEnter($),r($,C,M),it(()=>K.enter($),U);else{const{leave:J,delayLeave:se,afterLeave:re}=K,le=()=>{R.ctx.isUnmounted?s($):r($,C,M)},Re=()=>{J($,()=>{le(),re&&re()})};se?se($,le,Re):Re()}else r($,C,M)},Fe=(R,C,M,H=!1,U=!1)=>{const{type:$,props:Q,ref:K,children:W,dynamicChildren:z,shapeFlag:ie,patchFlag:J,dirs:se,cacheIndex:re}=R;if(J===-2&&(U=!1),K!=null&&(kn(),Mi(K,null,M,R,!0),On()),re!=null&&(C.renderCache[re]=void 0),ie&256){C.ctx.deactivate(R);return}const le=ie&1&&se,Re=!Vr(R);let Ie;if(Re&&(Ie=Q&&Q.onVnodeBeforeUnmount)&&Rt(Ie,C,R),ie&6)tn(R.component,M,H);else{if(ie&128){R.suspense.unmount(M,H);return}le&&sn(R,null,C,"beforeUnmount"),ie&64?R.type.remove(R,C,M,ne,H):z&&!z.hasOnce&&($!==kt||J>0&&J&64)?bt(z,C,M,!1,!0):($===kt&&J&384||!U&&ie&16)&&bt(W,C,M),H&&Ue(R)}(Re&&(Ie=Q&&Q.onVnodeUnmounted)||le)&&it(()=>{Ie&&Rt(Ie,C,R),le&&sn(R,null,C,"unmounted")},M)},Ue=R=>{const{type:C,el:M,anchor:H,transition:U}=R;if(C===kt){Bn(M,H);return}if(C===vi){k(R);return}const $=()=>{s(M),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(R.shapeFlag&1&&U&&!U.persisted){const{leave:Q,delayLeave:K}=U,W=()=>Q(M,$);K?K(R.el,$,W):W()}else $()},Bn=(R,C)=>{let M;for(;R!==C;)M=g(R),s(R),R=M;s(C)},tn=(R,C,M)=>{const{bum:H,scope:U,job:$,subTree:Q,um:K,m:W,a:z,parent:ie,slots:{__:J}}=R;ga(W),ga(z),H&&ps(H),ie&&oe(J)&&J.forEach(se=>{ie.renderCache[se]=void 0}),U.stop(),$&&($.flags|=8,Fe(Q,R,C,M)),K&&it(K,C),it(()=>{R.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},bt=(R,C,M,H=!1,U=!1,$=0)=>{for(let Q=$;Q<R.length;Q++)Fe(R[Q],C,M,H,U)},B=R=>{if(R.shapeFlag&6)return B(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const C=g(R.anchor||R.el),M=C&&C[IT];return M?g(M):C};let X=!1;const Y=(R,C,M)=>{R==null?C._vnode&&Fe(C._vnode,null,null,!0):A(C._vnode||null,R,C,null,null,null,M),C._vnode=R,X||(X=!0,Of(),fa(),X=!1)},ne={p:A,um:Fe,m:Dt,r:Ue,mt:ge,mc:v,pc:ee,pbc:I,n:B,o:t};let Te,ke;return e&&([Te,ke]=e(ne)),{render:Y,hydrate:Te,createApp:GT(Y,Te)}}function Gc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function wr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Pm(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function km(t,e,n=!1){const r=t.children,s=e.children;if(oe(r)&&oe(s))for(let i=0;i<r.length;i++){const o=r[i];let c=s[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[i]=Jn(s[i]),c.el=o.el),!n&&c.patchFlag!==-2&&km(o,c)),c.type===Mr&&(c.el=o.el),c.type===Ke&&!c.el&&(c.el=o.el)}}function rw(t){const e=t.slice(),n=[0];let r,s,i,o,c;const l=t.length;for(r=0;r<l;r++){const h=t[r];if(h!==0){if(s=n[n.length-1],t[s]<h){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)c=i+o>>1,t[n[c]]<h?i=c+1:o=c;h<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Om(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Om(e)}function ga(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const sw=Symbol.for("v-scx"),iw=()=>Nt(sw);function ow(t,e){return Nu(t,null,e)}function _s(t,e,n){return Nu(t,e,n)}function Nu(t,e,n=De){const{immediate:r,deep:s,flush:i,once:o}=n,c=tt({},n),l=e&&r||!e&&i!=="post";let h;if(Ps){if(i==="sync"){const m=iw();h=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=cn,m.resume=cn,m.pause=cn,m}}const u=Ge;c.call=(m,E,A)=>Zt(m,u,E,A);let d=!1;i==="post"?c.scheduler=m=>{it(m,u&&u.suspense)}:i!=="sync"&&(d=!0,c.scheduler=(m,E)=>{E?m():Ru(m)}),c.augmentJob=m=>{e&&(m.flags|=4),d&&(m.flags|=2,u&&(m.id=u.uid,m.i=u))};const g=ET(t,e,c);return Ps&&(h?h.push(g):l&&g()),g}function aw(t,e,n){const r=this.proxy,s=Me(t)?t.includes(".")?Nm(r,t):()=>r[t]:t.bind(r,r);let i;he(e)?i=e:(i=e.handler,n=e);const o=so(this),c=Nu(s,i.bind(r),n);return o(),c}function Nm(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const cw=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${jt(e)}Modifiers`]||t[`${qr(e)}Modifiers`];function lw(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||De;let s=n;const i=e.startsWith("update:"),o=i&&cw(r,e.slice(7));o&&(o.trim&&(s=n.map(u=>Me(u)?u.trim():u)),o.number&&(s=n.map(aa)));let c,l=r[c=Uc(e)]||r[c=Uc(jt(e))];!l&&i&&(l=r[c=Uc(qr(e))]),l&&Zt(l,t,6,s);const h=r[c+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,Zt(h,t,6,s)}}function Dm(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},c=!1;if(!he(t)){const l=h=>{const u=Dm(h,e,!0);u&&(c=!0,tt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!c?(Oe(t)&&r.set(t,null),null):(oe(i)?i.forEach(l=>o[l]=null):tt(o,i),Oe(t)&&r.set(t,o),o)}function ec(t,e){return!t||!Zi(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ce(t,e[0].toLowerCase()+e.slice(1))||Ce(t,qr(e))||Ce(t,e))}function Qc(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:c,emit:l,render:h,renderCache:u,props:d,data:g,setupState:m,ctx:E,inheritAttrs:A}=t,O=da(t);let D,N;try{if(n.shapeFlag&4){const k=s||r,V=k;D=Ot(h.call(V,k,u,d,m,g,E)),N=c}else{const k=e;D=Ot(k.length>1?k(d,{attrs:c,slots:o,emit:l}):k(d,null)),N=e.props?c:hw(c)}}catch(k){Ei.length=0,Hs(k,t,1),D=ze(Ke)}let T=D;if(N&&A!==!1){const k=Object.keys(N),{shapeFlag:V}=T;k.length&&V&7&&(i&&k.some(mu)&&(N=fw(N,i)),T=Dn(T,N,!1,!0))}return n.dirs&&(T=Dn(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&Rs(T,n.transition),D=T,da(O),D}function uw(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(Cs(s)){if(s.type!==Ke||s.children==="v-if"){if(n)return;n=s}}else return}return n}const hw=t=>{let e;for(const n in t)(n==="class"||n==="style"||Zi(n))&&((e||(e={}))[n]=t[n]);return e},fw=(t,e)=>{const n={};for(const r in t)(!mu(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function dw(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:c,patchFlag:l}=e,h=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Hf(r,o,h):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const g=u[d];if(o[g]!==r[g]&&!ec(h,g))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===o?!1:r?o?Hf(r,o,h):!0:!!o;return!1}function Hf(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!ec(n,i))return!0}return!1}function tc({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const ma=t=>t.__isSuspense;let Rl=0;const pw={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,c,l,h){if(t==null)gw(e,n,r,s,i,o,c,l,h);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}mw(t,e,n,r,s,o,c,l,h)}},hydrate:_w,normalize:yw},Vm=pw;function Li(t,e){const n=t.props&&t.props[e];he(n)&&n()}function gw(t,e,n,r,s,i,o,c,l){const{p:h,o:{createElement:u}}=l,d=u("div"),g=t.suspense=xm(t,s,r,e,d,n,i,o,c,l);h(null,g.pendingBranch=t.ssContent,d,null,r,g,i,o),g.deps>0?(Li(t,"onPending"),Li(t,"onFallback"),h(null,t.ssFallback,e,n,r,null,i,o),ys(g,t.ssFallback)):g.resolve(!1,!0)}function mw(t,e,n,r,s,i,o,c,{p:l,um:h,o:{createElement:u}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const g=e.ssContent,m=e.ssFallback,{activeBranch:E,pendingBranch:A,isInFallback:O,isHydrating:D}=d;if(A)d.pendingBranch=g,Wt(g,A)?(l(A,g,d.hiddenContainer,null,s,d,i,o,c),d.deps<=0?d.resolve():O&&(D||(l(E,m,n,r,s,null,i,o,c),ys(d,m)))):(d.pendingId=Rl++,D?(d.isHydrating=!1,d.activeBranch=A):h(A,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),O?(l(null,g,d.hiddenContainer,null,s,d,i,o,c),d.deps<=0?d.resolve():(l(E,m,n,r,s,null,i,o,c),ys(d,m))):E&&Wt(g,E)?(l(E,g,n,r,s,d,i,o,c),d.resolve(!0)):(l(null,g,d.hiddenContainer,null,s,d,i,o,c),d.deps<=0&&d.resolve()));else if(E&&Wt(g,E))l(E,g,n,r,s,d,i,o,c),ys(d,g);else if(Li(e,"onPending"),d.pendingBranch=g,g.shapeFlag&512?d.pendingId=g.component.suspenseId:d.pendingId=Rl++,l(null,g,d.hiddenContainer,null,s,d,i,o,c),d.deps<=0)d.resolve();else{const{timeout:N,pendingId:T}=d;N>0?setTimeout(()=>{d.pendingId===T&&d.fallback(m)},N):N===0&&d.fallback(m)}}function xm(t,e,n,r,s,i,o,c,l,h,u=!1){const{p:d,m:g,um:m,n:E,o:{parentNode:A,remove:O}}=h;let D;const N=vw(t);N&&e&&e.pendingBranch&&(D=e.pendingId,e.deps++);const T=t.props?Cg(t.props.timeout):void 0,k=i,V={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:Rl++,timeout:typeof T=="number"?T:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(F=!1,w=!1){const{vnode:v,activeBranch:y,pendingBranch:I,pendingId:P,effects:S,parentComponent:b,container:ge}=V;let ye=!1;V.isHydrating?V.isHydrating=!1:F||(ye=y&&I.transition&&I.transition.mode==="out-in",ye&&(y.transition.afterLeave=()=>{P===V.pendingId&&(g(I,ge,i===k?E(y):i,0),El(S))}),y&&(A(y.el)===ge&&(i=E(y)),m(y,b,V,!0)),ye||g(I,ge,i,0)),ys(V,I),V.pendingBranch=null,V.isInFallback=!1;let te=V.parent,ue=!1;for(;te;){if(te.pendingBranch){te.effects.push(...S),ue=!0;break}te=te.parent}!ue&&!ye&&El(S),V.effects=[],N&&e&&e.pendingBranch&&D===e.pendingId&&(e.deps--,e.deps===0&&!w&&e.resolve()),Li(v,"onResolve")},fallback(F){if(!V.pendingBranch)return;const{vnode:w,activeBranch:v,parentComponent:y,container:I,namespace:P}=V;Li(w,"onFallback");const S=E(v),b=()=>{V.isInFallback&&(d(null,F,I,S,y,null,P,c,l),ys(V,F))},ge=F.transition&&F.transition.mode==="out-in";ge&&(v.transition.afterLeave=b),V.isInFallback=!0,m(v,y,null,!0),ge||b()},move(F,w,v){V.activeBranch&&g(V.activeBranch,F,w,v),V.container=F},next(){return V.activeBranch&&E(V.activeBranch)},registerDep(F,w,v){const y=!!V.pendingBranch;y&&V.deps++;const I=F.vnode.el;F.asyncDep.catch(P=>{Hs(P,F,0)}).then(P=>{if(F.isUnmounted||V.isUnmounted||V.pendingId!==F.suspenseId)return;F.asyncResolved=!0;const{vnode:S}=F;Cl(F,P),I&&(S.el=I);const b=!I&&F.subTree.el;w(F,S,A(I||F.subTree.el),I?null:E(F.subTree),V,o,v),b&&O(b),tc(F,S.el),y&&--V.deps===0&&V.resolve()})},unmount(F,w){V.isUnmounted=!0,V.activeBranch&&m(V.activeBranch,n,F,w),V.pendingBranch&&m(V.pendingBranch,n,F,w)}};return V}function _w(t,e,n,r,s,i,o,c,l){const h=e.suspense=xm(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,c,!0),u=l(t,h.pendingBranch=e.ssContent,n,h,i,o);return h.deps===0&&h.resolve(!1,!0),u}function yw(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=$f(r?n.default:n),t.ssFallback=r?$f(n.fallback):ze(Ke)}function $f(t){let e;if(he(t)){const n=Ss&&t._c;n&&(t._d=!1,an()),t=t(),n&&(t._d=!0,e=Ct,Lm())}return oe(t)&&(t=uw(t)),t=Ot(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function Mm(t,e){e&&e.pendingBranch?oe(t)?e.effects.push(...t):e.effects.push(t):El(t)}function ys(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,tc(r,s))}function vw(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const kt=Symbol.for("v-fgt"),Mr=Symbol.for("v-txt"),Ke=Symbol.for("v-cmt"),vi=Symbol.for("v-stc"),Ei=[];let Ct=null;function an(t=!1){Ei.push(Ct=t?null:[])}function Lm(){Ei.pop(),Ct=Ei[Ei.length-1]||null}let Ss=1;function qf(t,e=!1){Ss+=t,t<0&&Ct&&e&&(Ct.hasOnce=!0)}function Fm(t){return t.dynamicChildren=Ss>0?Ct||hs:null,Lm(),Ss>0&&Ct&&Ct.push(t),t}function Ew(t,e,n,r,s,i){return Fm(Bm(t,e,n,r,s,i,!0))}function Zn(t,e,n,r,s){return Fm(ze(t,e,n,r,s,!0))}function Cs(t){return t?t.__v_isVNode===!0:!1}function Wt(t,e){return t.type===e.type&&t.key===e.key}const Um=({key:t})=>t??null,Go=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Me(t)||Je(t)||he(t)?{i:It,r:t,k:e,f:!!n}:t:null);function Bm(t,e=null,n=null,r=0,s=null,i=t===kt?0:1,o=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Um(e),ref:e&&Go(e),scopeId:em,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:It};return c?(Du(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Me(n)?8:16),Ss>0&&!o&&Ct&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ct.push(l),l}const ze=Tw;function Tw(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===gm)&&(t=Ke),Cs(t)){const c=Dn(t,e,!0);return n&&Du(c,n),Ss>0&&!i&&Ct&&(c.shapeFlag&6?Ct[Ct.indexOf(t)]=c:Ct.push(c)),c.patchFlag=-2,c}if(kw(t)&&(t=t.__vccOpts),e){e=jm(e);let{class:c,style:l}=e;c&&!Me(c)&&(e.class=Ja(c)),Oe(l)&&(Au(l)&&!oe(l)&&(l=tt({},l)),e.style=Qa(l))}const o=Me(t)?1:ma(t)?128:nm(t)?64:Oe(t)?4:he(t)?2:0;return Bm(t,e,n,r,s,o,i,!0)}function jm(t){return t?Au(t)||wm(t)?tt({},t):t:null}function Dn(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:c,transition:l}=t,h=e?ww(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&Um(h),ref:e&&e.ref?n&&i?oe(i)?i.concat(Go(e)):[i,Go(e)]:Go(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==kt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Dn(t.ssContent),ssFallback:t.ssFallback&&Dn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Rs(u,l.clone(u)),u}function Hm(t=" ",e=0){return ze(Mr,null,t,e)}function IN(t,e){const n=ze(vi,null,t);return n.staticCount=e,n}function bN(t="",e=!1){return e?(an(),Zn(Ke,null,t)):ze(Ke,null,t)}function Ot(t){return t==null||typeof t=="boolean"?ze(Ke):oe(t)?ze(kt,null,t.slice()):Cs(t)?Jn(t):ze(Mr,null,String(t))}function Jn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Dn(t)}function Du(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(oe(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Du(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!wm(e)?e._ctx=It:s===3&&It&&(It.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else he(e)?(e={default:e,_ctx:It},n=32):(e=String(e),r&64?(n=16,e=[Hm(e)]):n=8);t.children=e,t.shapeFlag|=n}function ww(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Ja([e.class,r.class]));else if(s==="style")e.style=Qa([e.style,r.style]);else if(Zi(s)){const i=e[s],o=r[s];o&&i!==o&&!(oe(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Rt(t,e,n,r=null){Zt(t,e,7,[n,r])}const Iw=vm();let bw=0;function Aw(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||Iw,i={uid:bw++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ng(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bm(r,s),emitsOptions:Dm(r,s),emit:null,emitted:null,propsDefaults:De,inheritAttrs:r.inheritAttrs,ctx:De,data:De,props:De,attrs:De,slots:De,refs:De,setupState:De,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=lw.bind(null,i),t.ce&&t.ce(i),i}let Ge=null;const nc=()=>Ge||It;let _a,Sl;{const t=Ga(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};_a=e("__VUE_INSTANCE_SETTERS__",n=>Ge=n),Sl=e("__VUE_SSR_SETTERS__",n=>Ps=n)}const so=t=>{const e=Ge;return _a(t),t.scope.on(),()=>{t.scope.off(),_a(e)}},zf=()=>{Ge&&Ge.scope.off(),_a(null)};function $m(t){return t.vnode.shapeFlag&4}let Ps=!1;function Rw(t,e=!1,n=!1){e&&Sl(e);const{props:r,children:s}=t.vnode,i=$m(t);QT(t,r,i,e),ZT(t,s,n||e);const o=i?Sw(t,e):void 0;return e&&Sl(!1),o}function Sw(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,jT);const{setup:r}=n;if(r){kn();const s=t.setupContext=r.length>1?Pw(t):null,i=so(t),o=eo(r,t,0,[t.props,s]),c=bg(o);if(On(),i(),(c||t.sp)&&!Vr(t)&&Su(t),c){if(o.then(zf,zf),e)return o.then(l=>{Cl(t,l)}).catch(l=>{Hs(l,t,0)});t.asyncDep=o}else Cl(t,o)}else qm(t)}function Cl(t,e,n){he(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Oe(e)&&(t.setupState=Jg(e)),qm(t)}function qm(t,e,n){const r=t.type;t.render||(t.render=r.render||cn);{const s=so(t);kn();try{HT(t)}finally{On(),s()}}}const Cw={get(t,e){return mt(t,"get",""),t[e]}};function Pw(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Cw),slots:t.slots,emit:t.emit,expose:e}}function rc(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Jg(lT(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in yi)return yi[n](t)},has(e,n){return n in e||n in yi}})):t.proxy}function Pl(t,e=!0){return he(t)?t.displayName||t.name:t.name||e&&t.__name}function kw(t){return he(t)&&"__vccOpts"in t}const Kt=(t,e)=>yT(t,e,Ps);function Ft(t,e,n){const r=arguments.length;return r===2?Oe(e)&&!oe(e)?Cs(e)?ze(t,null,[e]):ze(t,e):ze(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Cs(n)&&(n=[n]),ze(t,e,n))}const Ow="3.5.14";/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let kl;const Wf=typeof window<"u"&&window.trustedTypes;if(Wf)try{kl=Wf.createPolicy("vue",{createHTML:t=>t})}catch{}const zm=kl?t=>kl.createHTML(t):t=>t,Nw="http://www.w3.org/2000/svg",Dw="http://www.w3.org/1998/Math/MathML",wn=typeof document<"u"?document:null,Kf=wn&&wn.createElement("template"),Vw={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?wn.createElementNS(Nw,t):e==="mathml"?wn.createElementNS(Dw,t):n?wn.createElement(t,{is:n}):wn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>wn.createTextNode(t),createComment:t=>wn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>wn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Kf.innerHTML=zm(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const c=Kf.content;if(r==="svg"||r==="mathml"){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}e.insertBefore(c,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Wn="transition",ci="animation",Fi=Symbol("_vtc"),Wm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},xw=tt({},rm,Wm),Mw=t=>(t.displayName="Transition",t.props=xw,t),Lw=Mw((t,{slots:e})=>Ft(RT,Fw(t),e)),Ir=(t,e=[])=>{oe(t)?t.forEach(n=>n(...e)):t&&t(...e)},Gf=t=>t?oe(t)?t.some(e=>e.length>1):t.length>1:!1;function Fw(t){const e={};for(const S in t)S in Wm||(e[S]=t[S]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:h=o,appearToClass:u=c,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=t,E=Uw(s),A=E&&E[0],O=E&&E[1],{onBeforeEnter:D,onEnter:N,onEnterCancelled:T,onLeave:k,onLeaveCancelled:V,onBeforeAppear:F=D,onAppear:w=N,onAppearCancelled:v=T}=e,y=(S,b,ge,ye)=>{S._enterCancelled=ye,br(S,b?u:c),br(S,b?h:o),ge&&ge()},I=(S,b)=>{S._isLeaving=!1,br(S,d),br(S,m),br(S,g),b&&b()},P=S=>(b,ge)=>{const ye=S?w:N,te=()=>y(b,S,ge);Ir(ye,[b,te]),Qf(()=>{br(b,S?l:i),En(b,S?u:c),Gf(ye)||Jf(b,r,A,te)})};return tt(e,{onBeforeEnter(S){Ir(D,[S]),En(S,i),En(S,o)},onBeforeAppear(S){Ir(F,[S]),En(S,l),En(S,h)},onEnter:P(!1),onAppear:P(!0),onLeave(S,b){S._isLeaving=!0;const ge=()=>I(S,b);En(S,d),S._enterCancelled?(En(S,g),Zf()):(Zf(),En(S,g)),Qf(()=>{S._isLeaving&&(br(S,d),En(S,m),Gf(k)||Jf(S,r,O,ge))}),Ir(k,[S,ge])},onEnterCancelled(S){y(S,!1,void 0,!0),Ir(T,[S])},onAppearCancelled(S){y(S,!0,void 0,!0),Ir(v,[S])},onLeaveCancelled(S){I(S),Ir(V,[S])}})}function Uw(t){if(t==null)return null;if(Oe(t))return[Jc(t.enter),Jc(t.leave)];{const e=Jc(t);return[e,e]}}function Jc(t){return Cg(t)}function En(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Fi]||(t[Fi]=new Set)).add(e)}function br(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Fi];n&&(n.delete(e),n.size||(t[Fi]=void 0))}function Qf(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Bw=0;function Jf(t,e,n,r){const s=t._endId=++Bw,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:c,propCount:l}=jw(t,e);if(!o)return r();const h=o+"end";let u=0;const d=()=>{t.removeEventListener(h,g),i()},g=m=>{m.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},c+1),t.addEventListener(h,g)}function jw(t,e){const n=window.getComputedStyle(t),r=E=>(n[E]||"").split(", "),s=r(`${Wn}Delay`),i=r(`${Wn}Duration`),o=Yf(s,i),c=r(`${ci}Delay`),l=r(`${ci}Duration`),h=Yf(c,l);let u=null,d=0,g=0;e===Wn?o>0&&(u=Wn,d=o,g=i.length):e===ci?h>0&&(u=ci,d=h,g=l.length):(d=Math.max(o,h),u=d>0?o>h?Wn:ci:null,g=u?u===Wn?i.length:l.length:0);const m=u===Wn&&/\b(transform|all)(,|$)/.test(r(`${Wn}Property`).toString());return{type:u,timeout:d,propCount:g,hasTransform:m}}function Yf(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Xf(n)+Xf(t[r])))}function Xf(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Zf(){return document.body.offsetHeight}function Hw(t,e,n){const r=t[Fi];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const ed=Symbol("_vod"),$w=Symbol("_vsh"),qw=Symbol(""),zw=/(^|;)\s*display\s*:/;function Ww(t,e,n){const r=t.style,s=Me(n);let i=!1;if(n&&!s){if(e)if(Me(e))for(const o of e.split(";")){const c=o.slice(0,o.indexOf(":")).trim();n[c]==null&&Qo(r,c,"")}else for(const o in e)n[o]==null&&Qo(r,o,"");for(const o in n)o==="display"&&(i=!0),Qo(r,o,n[o])}else if(s){if(e!==n){const o=r[qw];o&&(n+=";"+o),r.cssText=n,i=zw.test(n)}}else e&&t.removeAttribute("style");ed in t&&(t[ed]=i?r.display:"",t[$w]&&(r.display="none"))}const td=/\s*!important$/;function Qo(t,e,n){if(oe(n))n.forEach(r=>Qo(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Kw(t,e);td.test(n)?t.setProperty(qr(r),n.replace(td,""),"important"):t[r]=n}}const nd=["Webkit","Moz","ms"],Yc={};function Kw(t,e){const n=Yc[e];if(n)return n;let r=jt(e);if(r!=="filter"&&r in t)return Yc[e]=r;r=Ka(r);for(let s=0;s<nd.length;s++){const i=nd[s]+r;if(i in t)return Yc[e]=i}return e}const rd="http://www.w3.org/1999/xlink";function sd(t,e,n,r,s,i=UE(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(rd,e.slice(6,e.length)):t.setAttributeNS(rd,e,n):n==null||i&&!Pg(n)?t.removeAttribute(e):t.setAttribute(e,i?"":fn(n)?String(n):n)}function id(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?zm(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const c=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(c!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=Pg(n):n==null&&c==="string"?(n="",o=!0):c==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function Pr(t,e,n,r){t.addEventListener(e,n,r)}function Gw(t,e,n,r){t.removeEventListener(e,n,r)}const od=Symbol("_vei");function Qw(t,e,n,r,s=null){const i=t[od]||(t[od]={}),o=i[e];if(r&&o)o.value=r;else{const[c,l]=Jw(e);if(r){const h=i[e]=Zw(r,s);Pr(t,c,h,l)}else o&&(Gw(t,c,o,l),i[e]=void 0)}}const ad=/(?:Once|Passive|Capture)$/;function Jw(t){let e;if(ad.test(t)){e={};let r;for(;r=t.match(ad);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):qr(t.slice(2)),e]}let Xc=0;const Yw=Promise.resolve(),Xw=()=>Xc||(Yw.then(()=>Xc=0),Xc=Date.now());function Zw(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Zt(eI(r,n.value),e,5,[r])};return n.value=t,n.attached=Xw(),n}function eI(t,e){if(oe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const cd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,tI=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?Hw(t,r,o):e==="style"?Ww(t,n,r):Zi(e)?mu(e)||Qw(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):nI(t,e,r,o))?(id(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&sd(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Me(r))?id(t,jt(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),sd(t,e,r,o))};function nI(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&cd(e)&&he(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return cd(e)&&Me(n)?!1:e in t}const ya=t=>{const e=t.props["onUpdate:modelValue"]||!1;return oe(e)?n=>ps(e,n):e};function rI(t){t.target.composing=!0}function ld(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const vs=Symbol("_assign"),AN={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[vs]=ya(s);const i=r||s.props&&s.props.type==="number";Pr(t,e?"change":"input",o=>{if(o.target.composing)return;let c=t.value;n&&(c=c.trim()),i&&(c=aa(c)),t[vs](c)}),n&&Pr(t,"change",()=>{t.value=t.value.trim()}),e||(Pr(t,"compositionstart",rI),Pr(t,"compositionend",ld),Pr(t,"change",ld))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[vs]=ya(o),t.composing)return;const c=(i||t.type==="number")&&!/^0\d/.test(t.value)?aa(t.value):t.value,l=e??"";c!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},RN={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=za(e);Pr(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?aa(va(o)):va(o));t[vs](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,As(()=>{t._assigning=!1})}),t[vs]=ya(r)},mounted(t,{value:e}){ud(t,e)},beforeUpdate(t,e,n){t[vs]=ya(n)},updated(t,{value:e}){t._assigning||ud(t,e)}};function ud(t,e){const n=t.multiple,r=oe(e);if(!(n&&!r&&!za(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],c=va(o);if(n)if(r){const l=typeof c;l==="string"||l==="number"?o.selected=e.some(h=>String(h)===String(c)):o.selected=jE(e,c)>-1}else o.selected=e.has(c);else if(Ya(va(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function va(t){return"_value"in t?t._value:t.value}const Km=tt({patchProp:tI},Vw);let Ti,hd=!1;function sI(){return Ti||(Ti=tw(Km))}function iI(){return Ti=hd?Ti:nw(Km),hd=!0,Ti}const oI=(...t)=>{const e=sI().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=Qm(r);if(!s)return;const i=e._component;!he(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,Gm(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},aI=(...t)=>{const e=iI().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=Qm(r);if(s)return n(s,!0,Gm(s))},e};function Gm(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Qm(t){return Me(t)?document.querySelector(t):t}const cI=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,lI=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,uI=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function hI(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){fI(t);return}return e}function fI(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Ea(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!uI.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(cI.test(t)||lI.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,hI)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const dI=/#/g,pI=/&/g,gI=/\//g,mI=/=/g,Vu=/\+/g,_I=/%5e/gi,yI=/%60/gi,vI=/%7c/gi,EI=/%20/gi;function TI(t){return encodeURI(""+t).replace(vI,"|")}function Ol(t){return TI(typeof t=="string"?t:JSON.stringify(t)).replace(Vu,"%2B").replace(EI,"+").replace(dI,"%23").replace(pI,"%26").replace(yI,"`").replace(_I,"^").replace(gI,"%2F")}function Zc(t){return Ol(t).replace(mI,"%3D")}function Ta(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function wI(t){return Ta(t.replace(Vu," "))}function II(t){return Ta(t.replace(Vu," "))}function Jm(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const s=wI(r[1]);if(s==="__proto__"||s==="constructor")continue;const i=II(r[2]||"");e[s]===void 0?e[s]=i:Array.isArray(e[s])?e[s].push(i):e[s]=[e[s],i]}return e}function bI(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${Zc(t)}=${Ol(n)}`).join("&"):`${Zc(t)}=${Ol(e)}`:Zc(t)}function AI(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>bI(e,t[e])).filter(Boolean).join("&")}const RI=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,SI=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,CI=/^([/\\]\s*){2,}[^/\\]/,PI=/^[\s\0]*(blob|data|javascript|vbscript):$/i,kI=/\/$|\/\?|\/#/,OI=/^\.?\//;function zr(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?RI.test(t):SI.test(t)||(e.acceptRelative?CI.test(t):!1)}function NI(t){return!!t&&PI.test(t)}function Nl(t="",e){return e?kI.test(t):t.endsWith("/")}function Ui(t="",e){if(!e)return(Nl(t)?t.slice(0,-1):t)||"/";if(!Nl(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");s!==-1&&(n=t.slice(0,s),r=t.slice(s));const[i,...o]=n.split("?");return((i.endsWith("/")?i.slice(0,-1):i)||"/")+(o.length>0?`?${o.join("?")}`:"")+r}function DI(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(Nl(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");if(s!==-1&&(n=t.slice(0,s),r=t.slice(s),!n))return r;const[i,...o]=n.split("?");return i+"/"+(o.length>0?`?${o.join("?")}`:"")+r}function VI(t,e){if(Xm(e)||zr(t))return t;const n=Ui(e);return t.startsWith(n)?t:xu(n,t)}function fd(t,e){if(Xm(e))return t;const n=Ui(e);if(!t.startsWith(n))return t;const r=t.slice(n.length);return r[0]==="/"?r:"/"+r}function Ym(t,e){const n=t_(t),r={...Jm(n.search),...e};return n.search=AI(r),LI(n)}function Xm(t){return!t||t==="/"}function xI(t){return t&&t!=="/"}function xu(t,...e){let n=t||"";for(const r of e.filter(s=>xI(s)))if(n){const s=r.replace(OI,"");n=DI(n)+s}else n=r;return n}function Zm(...t){var o,c,l,h;const e=/\/(?!\/)/,n=t.filter(Boolean),r=[];let s=0;for(const u of n)if(!(!u||u==="/")){for(const[d,g]of u.split(e).entries())if(!(!g||g===".")){if(g===".."){if(r.length===1&&zr(r[0]))continue;r.pop(),s--;continue}if(d===1&&((o=r[r.length-1])!=null&&o.endsWith(":/"))){r[r.length-1]+="/"+g;continue}r.push(g),s++}}let i=r.join("/");return s>=0?(c=n[0])!=null&&c.startsWith("/")&&!i.startsWith("/")?i="/"+i:(l=n[0])!=null&&l.startsWith("./")&&!i.startsWith("./")&&(i="./"+i):i="../".repeat(-1*s)+i,(h=n[n.length-1])!=null&&h.endsWith("/")&&!i.endsWith("/")&&(i+="/"),i}function MI(t,e){return Ta(Ui(t))===Ta(Ui(e))}const e_=Symbol.for("ufo:protocolRelative");function t_(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,g=""]=n;return{protocol:d.toLowerCase(),pathname:g,href:d+g,auth:"",host:"",search:"",hash:""}}if(!zr(t,{acceptRelative:!0}))return dd(t);const[,r="",s,i=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",c=""]=i.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(c=c.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:h,hash:u}=dd(c);return{protocol:r.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:o,pathname:l,search:h,hash:u,[e_]:!r}}function dd(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function LI(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",s=t.auth?t.auth+"@":"",i=t.host||"";return(t.protocol||t[e_]?(t.protocol||"")+"//":"")+s+i+e+n+r}class FI extends Error{constructor(e,n){super(e,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function UI(t){var l,h,u,d,g;const e=((l=t.error)==null?void 0:l.message)||((h=t.error)==null?void 0:h.toString())||"",n=((u=t.request)==null?void 0:u.method)||((d=t.options)==null?void 0:d.method)||"GET",r=((g=t.request)==null?void 0:g.url)||String(t.request)||"/",s=`[${n}] ${JSON.stringify(r)}`,i=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${s}: ${i}${e?` ${e}`:""}`,c=new FI(o,t.error?{cause:t.error}:void 0);for(const m of["request","options","response"])Object.defineProperty(c,m,{get(){return t[m]}});for(const[m,E]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(c,m,{get(){return t.response&&t.response[E]}});return c}const BI=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function pd(t="GET"){return BI.has(t.toUpperCase())}function jI(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const HI=new Set(["image/svg","application/xml","application/xhtml","application/html"]),$I=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function qI(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return $I.test(e)?"json":HI.has(e)||e.startsWith("text/")?"text":"blob"}function zI(t,e,n,r){const s=WI((e==null?void 0:e.headers)??(t==null?void 0:t.headers),n==null?void 0:n.headers,r);let i;return(n!=null&&n.query||n!=null&&n.params||e!=null&&e.params||e!=null&&e.query)&&(i={...n==null?void 0:n.params,...n==null?void 0:n.query,...e==null?void 0:e.params,...e==null?void 0:e.query}),{...n,...e,query:i,params:i,headers:s}}function WI(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[s,i]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(s,i);return r}async function Fo(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const KI=new Set([408,409,425,429,500,502,503,504]),GI=new Set([101,204,205,304]);function n_(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function s(c){const l=c.error&&c.error.name==="AbortError"&&!c.options.timeout||!1;if(c.options.retry!==!1&&!l){let u;typeof c.options.retry=="number"?u=c.options.retry:u=pd(c.options.method)?0:1;const d=c.response&&c.response.status||500;if(u>0&&(Array.isArray(c.options.retryStatusCodes)?c.options.retryStatusCodes.includes(d):KI.has(d))){const g=typeof c.options.retryDelay=="function"?c.options.retryDelay(c):c.options.retryDelay||0;return g>0&&await new Promise(m=>setTimeout(m,g)),i(c.request,{...c.options,retry:u-1})}}const h=UI(c);throw Error.captureStackTrace&&Error.captureStackTrace(h,i),h}const i=async function(l,h={}){const u={request:l,options:zI(l,h,t.defaults,n),response:void 0,error:void 0};u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&await Fo(u,u.options.onRequest),typeof u.request=="string"&&(u.options.baseURL&&(u.request=VI(u.request,u.options.baseURL)),u.options.query&&(u.request=Ym(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&pd(u.options.method)&&(jI(u.options.body)?(u.options.body=typeof u.options.body=="string"?u.options.body:JSON.stringify(u.options.body),u.options.headers=new n(u.options.headers||{}),u.options.headers.has("content-type")||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")):("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half")));let d;if(!u.options.signal&&u.options.timeout){const m=new r;d=setTimeout(()=>{const E=new Error("[TimeoutError]: The operation was aborted due to timeout");E.name="TimeoutError",E.code=23,m.abort(E)},u.options.timeout),u.options.signal=m.signal}try{u.response=await e(u.request,u.options)}catch(m){return u.error=m,u.options.onRequestError&&await Fo(u,u.options.onRequestError),await s(u)}finally{d&&clearTimeout(d)}if((u.response.body||u.response._bodyInit)&&!GI.has(u.response.status)&&u.options.method!=="HEAD"){const m=(u.options.parseResponse?"json":u.options.responseType)||qI(u.response.headers.get("content-type")||"");switch(m){case"json":{const E=await u.response.text(),A=u.options.parseResponse||Ea;u.response._data=A(E);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[m]()}}return u.options.onResponse&&await Fo(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await Fo(u,u.options.onResponseError),await s(u)):u.response},o=async function(l,h){return(await i(l,h))._data};return o.raw=i,o.native=(...c)=>e(...c),o.create=(c={},l={})=>n_({...t,...l,defaults:{...t.defaults,...l.defaults,...c}}),o}const wa=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),QI=wa.fetch?(...t)=>wa.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),JI=wa.Headers,YI=wa.AbortController,XI=n_({fetch:QI,Headers:JI,AbortController:YI}),ZI=XI,e0=()=>{var t;return((t=window==null?void 0:window.__NUXT__)==null?void 0:t.config)||{}},Ia=e0().app,t0=()=>Ia.baseURL,n0=()=>Ia.buildAssetsDir,Mu=(...t)=>Zm(r_(),n0(),...t),r_=(...t)=>{const e=Ia.cdnURL||Ia.baseURL;return t.length?Zm(e,...t):e};globalThis.__buildAssetsURL=Mu,globalThis.__publicAssetsURL=r_;globalThis.$fetch||(globalThis.$fetch=ZI.create({baseURL:t0()}));"global"in globalThis||(globalThis.global=globalThis);function Dl(t,e={},n){for(const r in t){const s=t[r],i=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?Dl(s,e,i):typeof s=="function"&&(e[i]=s)}return e}const r0={run:t=>t()},s0=()=>r0,s_=typeof console.createTask<"u"?console.createTask:s0;function i0(t,e){const n=e.shift(),r=s_(n);return t.reduce((s,i)=>s.then(()=>r.run(()=>i(...e))),Promise.resolve())}function o0(t,e){const n=e.shift(),r=s_(n);return Promise.all(t.map(s=>r.run(()=>s(...e))))}function el(t,e){for(const n of[...t])n(e)}class a0{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const s=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!r.allowDeprecated){let o=i.message;o||(o=`${s} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,s=(...i)=>(typeof r=="function"&&r(),r=void 0,s=void 0,n(...i));return r=this.hook(e,s),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const s of r)this.hook(e,s)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=Dl(e),r=Object.keys(n).map(s=>this.hook(s,n[s]));return()=>{for(const s of r.splice(0,r.length))s()}}removeHooks(e){const n=Dl(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(i0,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(o0,e,...n)}callHookWith(e,n,...r){const s=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&el(this._before,s);const i=e(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&s&&el(this._after,s)}):(this._after&&s&&el(this._after,s),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function i_(){return new a0}function c0(t={}){let e,n=!1;const r=o=>{if(e&&e!==o)throw new Error("Context conflict")};let s;if(t.asyncContext){const o=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?s=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const i=()=>{if(s){const o=s.getStore();if(o!==void 0)return o}return e};return{use:()=>{const o=i();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>i(),set:(o,c)=>{c||r(o),e=o,n=!0},unset:()=>{e=void 0,n=!1},call:(o,c)=>{r(o),e=o;try{return s?s.run(o,c):c()}finally{n||(e=void 0)}},async callAsync(o,c){e=o;const l=()=>{e=o},h=()=>e===o?l:void 0;Vl.add(h);try{const u=s?s.run(o,c):c();return n||(e=void 0),await u}finally{Vl.delete(h)}}}}function l0(t={}){const e={};return{get(n,r={}){return e[n]||(e[n]=c0({...t,...r})),e[n]}}}const ba=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},gd="__unctx__",u0=ba[gd]||(ba[gd]=l0()),h0=(t,e={})=>u0.get(t,e),md="__unctx_async_handlers__",Vl=ba[md]||(ba[md]=new Set);function Es(t){const e=[];for(const s of Vl){const i=s();i&&e.push(i)}const n=()=>{for(const s of e)s()};let r=t();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(s=>{throw n(),s})),[r,n]}const _d=!1,f0=!1,SN={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},d0=null,p0="#__nuxt",o_="nuxt-app",yd=36e5,g0="vite:preloadError";function a_(t=o_){return h0(t,{asyncContext:!1})}const m0="__nuxt_plugin";function _0(t){var s;let e=0;const n={_id:t.id||o_||"nuxt-app",_scope:$E(),provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.17.4"},get vue(){return n.vueApp.version}},payload:An({...((s=t.ssrContext)==null?void 0:s.payload)||{},data:An({}),state:_r({}),once:new Set,_errors:An({})}),static:{data:{}},runWithContext(i){return n._scope.active&&!Dg()?n._scope.run(()=>vd(n,i)):vd(n,i)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};e++;let i=!1;return()=>{if(!i&&(i=!0,e--,e===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:An({}),_payloadRevivers:{},...t};{const i=window.__NUXT__;if(i)for(const o in i)switch(o){case"data":case"state":case"_errors":Object.assign(n.payload[o],i[o]);break;default:n.payload[o]=i[o]}}n.hooks=i_(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(i,o)=>{const c="$"+i;Uo(n,c,o),Uo(n.vueApp.config.globalProperties,c,o)},Uo(n.vueApp,"$nuxt",n),Uo(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener(g0,o=>{n.callHook("app:chunkError",{error:o.payload}),o.payload.message.includes("Unable to preload CSS")&&o.preventDefault()}),window.useNuxtApp||(window.useNuxtApp=nt);const i=n.hook("app:error",(...o)=>{console.error("[nuxt] error caught during app initialization",...o)});n.hook("app:mounted",i)}const r=n.payload.config;return n.provide("config",r),n}function y0(t,e){e.hooks&&t.hooks.addHooks(e.hooks)}async function v0(t,e){if(typeof e=="function"){const{provide:n}=await t.runWithContext(()=>e(t))||{};if(n&&typeof n=="object")for(const r in n)t.provide(r,n[r])}}async function E0(t,e){const n=new Set,r=[],s=[],i=[];let o=0;async function c(l){var u;const h=((u=l.dependsOn)==null?void 0:u.filter(d=>e.some(g=>g._name===d)&&!n.has(d)))??[];if(h.length>0)r.push([new Set(h),l]);else{const d=v0(t,l).then(async()=>{l._name&&(n.add(l._name),await Promise.all(r.map(async([g,m])=>{g.has(l._name)&&(g.delete(l._name),g.size===0&&(o++,await c(m)))})))});l.parallel?s.push(d.catch(g=>i.push(g))):await d}}for(const l of e)y0(t,l);for(const l of e)await c(l);if(await Promise.all(s),o)for(let l=0;l<o;l++)await Promise.all(s);if(i.length)throw i[0]}function mn(t){if(typeof t=="function")return t;const e=t._name||t.name;return delete t.name,Object.assign(t.setup||(()=>{}),t,{[m0]:!0,_name:e})}function vd(t,e,n){const r=()=>e();return a_(t._id).set(t),t.vueApp.runWithContext(r)}function T0(t){var n;let e;return Pu()&&(e=(n=nc())==null?void 0:n.appContext.app.$nuxt),e||(e=a_(t).tryUse()),e||null}function nt(t){const e=T0(t);if(!e)throw new Error("[nuxt] instance unavailable");return e}function sc(t){return nt().$config}function Uo(t,e,n){Object.defineProperty(t,e,{get:()=>n})}function w0(t,e){return{ctx:{table:t},matchAll:n=>l_(n,t)}}function c_(t){const e={};for(const n in t)e[n]=n==="dynamic"?new Map(Object.entries(t[n]).map(([r,s])=>[r,c_(s)])):new Map(Object.entries(t[n]));return e}function I0(t){return w0(c_(t))}function l_(t,e,n){t.endsWith("/")&&(t=t.slice(0,-1)||"/");const r=[];for(const[i,o]of Ed(e.wildcard))(t===i||t.startsWith(i+"/"))&&r.push(o);for(const[i,o]of Ed(e.dynamic))if(t.startsWith(i+"/")){const c="/"+t.slice(i.length).split("/").splice(2).join("/");r.push(...l_(c,o))}const s=e.static.get(t);return s&&r.push(s),r.filter(Boolean)}function Ed(t){return[...t.entries()].sort((e,n)=>e[0].length-n[0].length)}function tl(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function xl(t,e,n=".",r){if(!tl(e))return xl(t,{},n,r);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:tl(o)&&tl(s[i])?s[i]=xl(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function b0(t){return(...e)=>e.reduce((n,r)=>xl(n,r,"",t),{})}const u_=b0();function A0(t,e){try{return e in t}catch{return!1}}class Ml extends Error{constructor(n,r={}){super(n,r);zn(this,"statusCode",500);zn(this,"fatal",!1);zn(this,"unhandled",!1);zn(this,"statusMessage");zn(this,"data");zn(this,"cause");r.cause&&!this.cause&&(this.cause=r.cause)}toJSON(){const n={message:this.message,statusCode:Ll(this.statusCode,500)};return this.statusMessage&&(n.statusMessage=h_(this.statusMessage)),this.data!==void 0&&(n.data=this.data),n}}zn(Ml,"__h3_error__",!0);function R0(t){if(typeof t=="string")return new Ml(t);if(S0(t))return t;const e=new Ml(t.message??t.statusMessage??"",{cause:t.cause||t});if(A0(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=Ll(t.statusCode,e.statusCode):t.status&&(e.statusCode=Ll(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const n=e.statusMessage;h_(e.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function S0(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.__h3_error__)===!0}const C0=/[^\u0009\u0020-\u007E]/g;function h_(t=""){return t.replace(C0,"")}function Ll(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const P0=Symbol("layout-meta"),ic=Symbol("route"),Ht=()=>{var t;return(t=nt())==null?void 0:t.$router},f_=()=>Pu()?Nt(ic,nt()._route):nt()._route;const k0=()=>{try{if(nt()._processingMiddleware)return!0}catch{return!1}return!1},CN=(t,e)=>{t||(t="/");const n=typeof t=="string"?t:"path"in t?O0(t):Ht().resolve(t).href;if(e!=null&&e.open){const{target:l="_blank",windowFeatures:h={}}=e.open,u=Object.entries(h).filter(([d,g])=>g!==void 0).map(([d,g])=>`${d.toLowerCase()}=${g}`).join(", ");return open(n,l,u),Promise.resolve()}const r=zr(n,{acceptRelative:!0}),s=(e==null?void 0:e.external)||r;if(s){if(!(e!=null&&e.external))throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:l}=new URL(n,window.location.href);if(l&&NI(l))throw new Error(`Cannot navigate to a URL with '${l}' protocol.`)}const i=k0();if(!s&&i){if(e!=null&&e.replace){if(typeof t=="string"){const{pathname:l,search:h,hash:u}=t_(t);return{path:l,...h&&{query:Jm(h)},...u&&{hash:u},replace:!0}}return{...t,replace:!0}}return t}const o=Ht(),c=nt();return s?(c._scope.stop(),e!=null&&e.replace?location.replace(n):location.href=n,i?c.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e!=null&&e.replace?o.replace(t):o.push(t)};function O0(t){return Ym(t.path||"",t.query||{})+(t.hash||"")}const d_="__nuxt_error",oc=()=>gT(nt().payload,"error"),Sr=t=>{const e=Lr(t);try{const n=nt(),r=oc();n.hooks.callHook("app:error",e),r.value||(r.value=e)}catch{throw e}return e},N0=async(t={})=>{const e=nt(),n=oc();e.callHook("app:error:cleared",t),t.redirect&&await Ht().replace(t.redirect),n.value=d0},p_=t=>!!t&&typeof t=="object"&&d_ in t,Lr=t=>{const e=R0(t);return Object.defineProperty(e,d_,{value:!0,configurable:!1,writable:!1}),e};function Td(t){const e=V0(t),n=new ArrayBuffer(e.length),r=new DataView(n);for(let s=0;s<n.byteLength;s++)r.setUint8(s,e.charCodeAt(s));return n}const D0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function V0(t){t.length%4===0&&(t=t.replace(/==?$/,""));let e="",n=0,r=0;for(let s=0;s<t.length;s++)n<<=6,n|=D0.indexOf(t[s]),r+=6,r===24&&(e+=String.fromCharCode((n&16711680)>>16),e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255),n=r=0);return r===12?(n>>=4,e+=String.fromCharCode(n)):r===18&&(n>>=2,e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255)),e}const x0=-1,M0=-2,L0=-3,F0=-4,U0=-5,B0=-6;function j0(t,e){return H0(JSON.parse(t),e)}function H0(t,e){if(typeof t=="number")return s(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const n=t,r=Array(n.length);function s(i,o=!1){if(i===x0)return;if(i===L0)return NaN;if(i===F0)return 1/0;if(i===U0)return-1/0;if(i===B0)return-0;if(o)throw new Error("Invalid input");if(i in r)return r[i];const c=n[i];if(!c||typeof c!="object")r[i]=c;else if(Array.isArray(c))if(typeof c[0]=="string"){const l=c[0],h=e==null?void 0:e[l];if(h)return r[i]=h(s(c[1]));switch(l){case"Date":r[i]=new Date(c[1]);break;case"Set":const u=new Set;r[i]=u;for(let m=1;m<c.length;m+=1)u.add(s(c[m]));break;case"Map":const d=new Map;r[i]=d;for(let m=1;m<c.length;m+=2)d.set(s(c[m]),s(c[m+1]));break;case"RegExp":r[i]=new RegExp(c[1],c[2]);break;case"Object":r[i]=Object(c[1]);break;case"BigInt":r[i]=BigInt(c[1]);break;case"null":const g=Object.create(null);r[i]=g;for(let m=1;m<c.length;m+=2)g[c[m]]=s(c[m+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const m=globalThis[l],E=c[1],A=Td(E),O=new m(A);r[i]=O;break}case"ArrayBuffer":{const m=c[1],E=Td(m);r[i]=E;break}default:throw new Error(`Unknown type ${l}`)}}else{const l=new Array(c.length);r[i]=l;for(let h=0;h<c.length;h+=1){const u=c[h];u!==M0&&(l[h]=s(u))}}else{const l={};r[i]=l;for(const h in c){const u=c[h];l[h]=s(u)}}return r[i]}return s(0)}const $0=new Set(["link","style","script","noscript"]),q0=new Set(["title","titleTemplate","script","style","noscript"]),wd=new Set(["base","meta","link","style","script","noscript"]),z0=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),W0=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),K0=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),G0=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Q0=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]);const J0=["name","property","http-equiv"];function g_(t){const e=t.split(":");return e.length?Q0.has(e[1]):!1}function Fl(t){const{props:e,tag:n}=t;if(W0.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const r of J0)if(e[r]!==void 0)return`${n}:${e[r]}`}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(q0.has(n)){const r=t.textContent||t.innerHTML;if(r)return`${n}:content:${r}`}}function Id(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([r,s])=>`${r}:${String(s)}`).join(",")}`}function Aa(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());let s;if(e&&(s=e(n,t)),Array.isArray(s))return s.map(i=>Aa(i,e));if((s==null?void 0:s.constructor)===Object){const i={};for(const o of Object.keys(s))i[o]=Aa(s[o],e,o);return i}return s}function Y0(t,e){const n=t==="style"?new Map:new Set;function r(s){const i=s.trim();if(i)if(t==="style"){const[o,...c]=i.split(":").map(l=>l.trim());o&&c.length&&n.set(o,c.join(":"))}else i.split(" ").filter(Boolean).forEach(o=>n.add(o))}return typeof e=="string"?t==="style"?e.split(";").forEach(r):r(e):Array.isArray(e)?e.forEach(s=>r(s)):e&&typeof e=="object"&&Object.entries(e).forEach(([s,i])=>{i&&i!=="false"&&(t==="style"?n.set(s.trim(),i):r(s))}),n}function m_(t,e){return t.props=t.props||{},e&&Object.entries(e).forEach(([n,r])=>{if(r===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=Y0(n,r);return}if(K0.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let o=e.type;if(e.type||(o="application/json"),!(o!=null&&o.endsWith("json"))&&o!=="speculationrules")return;e.type=o,t.props.type=o,t[n]=JSON.stringify(r)}else t[n]=r;return}const s=String(r),i=n.startsWith("data-");s==="true"||s===""?t.props[n]=i?s:!0:!r&&i&&s==="false"?t.props[n]="false":r!==void 0&&(t.props[n]=r)}),t}function X0(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},r=m_({tag:t,props:{}},n);return r.key&&$0.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(s=>({...r,props:{...r.props,content:s}})):r}function Z0(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(s,i)=>{for(let o=0;o<e.length;o++)i=e[o](s,i);return i};t=n(void 0,t);const r=[];return t=Aa(t,n),Object.entries(t||{}).forEach(([s,i])=>{if(i!==void 0)for(const o of Array.isArray(i)?i:[i])r.push(X0(s,o))}),r.flat()}const Ul=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,bd={base:-10,title:10},eb={critical:-8,high:-1,low:2},Ad={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},tb=/@import/,li=t=>t===""||t===!0;function nb(t,e){var i;if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const r=eb[e.tagPriority]||0,s=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Ad;if(e.tag in bd)n=bd[e.tag];else if(e.tag==="meta"){const o=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;o&&(n=Ad.meta[o])}else e.tag==="link"&&e.props.rel?n=s.link[e.props.rel]:e.tag==="script"?li(e.props.async)?n=s.script.async:e.props.src&&!li(e.props.defer)&&!li(e.props.async)&&e.props.type!=="module"&&!((i=e.props.type)!=null&&i.endsWith("json"))?n=s.script.sync:li(e.props.defer)&&e.props.src&&!li(e.props.async)&&(n=s.script.defer):e.tag==="style"&&(n=e.innerHTML&&tb.test(e.innerHTML)?s.style.imported:s.style.sync);return(n||100)+r}function Rd(t,e){const n=typeof e=="function"?e(t):e,r=n.key||String(t.plugins.size+1);t.plugins.get(r)||(t.plugins.set(r,n),t.hooks.addHooks(n.hooks||{}))}function rb(t={}){var c;const e=i_();e.addHooks(t.hooks||{});const n=!t.document,r=new Map,s=new Map,i=[],o={_entryCount:1,plugins:s,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:r,headEntries(){return[...r.values()]},use:l=>Rd(o,l),push(l,h){const u={...h||{}};delete u.head;const d=u._index??o._entryCount++,g={_i:d,input:l,options:u},m={_poll(E=!1){o.dirty=!0,!E&&i.push(d),e.callHook("entries:updated",o)},dispose(){r.delete(d)&&m._poll(!0)},patch(E){(!u.mode||u.mode==="server"&&n||u.mode==="client"&&!n)&&(g.input=E,r.set(d,g),m._poll())}};return m.patch(l),m},async resolveTags(){var m;const l={tagMap:new Map,tags:[],entries:[...o.entries.values()]};for(await e.callHook("entries:resolve",l);i.length;){const E=i.shift(),A=r.get(E);if(A){const O={tags:Z0(A.input,t.propResolvers||[]).map(D=>Object.assign(D,A.options)),entry:A};await e.callHook("entries:normalize",O),A._tags=O.tags.map((D,N)=>(D._w=nb(o,D),D._p=(A._i<<10)+N,D._d=Fl(D),D))}}let h=!1;l.entries.flatMap(E=>(E._tags||[]).map(A=>({...A,props:{...A.props}}))).sort(Ul).reduce((E,A)=>{const O=String(A._d||A._p);if(!E.has(O))return E.set(O,A);const D=E.get(O);if(((A==null?void 0:A.tagDuplicateStrategy)||(G0.has(A.tag)?"merge":null)||(A.key&&A.key===D.key?"merge":null))==="merge"){const T={...D.props};Object.entries(A.props).forEach(([k,V])=>T[k]=k==="style"?new Map([...D.props.style||new Map,...V]):k==="class"?new Set([...D.props.class||new Set,...V]):V),E.set(O,{...A,props:T})}else A._p>>10===D._p>>10&&A.tag==="meta"&&g_(O)?(E.set(O,Object.assign([...Array.isArray(D)?D:[D],A],A)),h=!0):(A._w===D._w?A._p>D._p:(A==null?void 0:A._w)<(D==null?void 0:D._w))&&E.set(O,A);return E},l.tagMap);const u=l.tagMap.get("title"),d=l.tagMap.get("titleTemplate");if(o._title=u==null?void 0:u.textContent,d){const E=d==null?void 0:d.textContent;if(o._titleTemplate=E,E){let A=typeof E=="function"?E(u==null?void 0:u.textContent):E;typeof A=="string"&&!o.plugins.has("template-params")&&(A=A.replace("%s",(u==null?void 0:u.textContent)||"")),u?A===null?l.tagMap.delete("title"):l.tagMap.set("title",{...u,textContent:A}):(d.tag="title",d.textContent=A)}}l.tags=Array.from(l.tagMap.values()),h&&(l.tags=l.tags.flat().sort(Ul)),await e.callHook("tags:beforeResolve",l),await e.callHook("tags:resolve",l),await e.callHook("tags:afterResolve",l);const g=[];for(const E of l.tags){const{innerHTML:A,tag:O,props:D}=E;if(z0.has(O)&&!(Object.keys(D).length===0&&!E.innerHTML&&!E.textContent)&&!(O==="meta"&&!D.content&&!D["http-equiv"]&&!D.charset)){if(O==="script"&&A){if((m=D.type)!=null&&m.endsWith("json")){const N=typeof A=="string"?A:JSON.stringify(A);E.innerHTML=N.replace(/</g,"\\u003C")}else typeof A=="string"&&(E.innerHTML=A.replace(new RegExp(`</${O}`,"g"),`<\\/${O}`));E._d=Fl(E)}g.push(E)}}return g}};return((t==null?void 0:t.plugins)||[]).forEach(l=>Rd(o,l)),o.hooks.callHook("init",o),(c=t.init)==null||c.forEach(l=>l&&o.push(l)),o}const Yn="%separator",sb=new RegExp(`${Yn}(?:\\s*${Yn})*`,"g");function ib(t,e,n=!1){var s;let r;if(e==="s"||e==="pageTitle")r=t.pageTitle;else if(e.includes(".")){const i=e.indexOf(".");r=(s=t[e.substring(0,i)])==null?void 0:s[e.substring(i+1)]}else r=t[e];if(r!==void 0)return n?(r||"").replace(/\\/g,"\\\\").replace(/</g,"\\u003C").replace(/"/g,'\\"'):r||""}function Bo(t,e,n,r=!1){if(typeof t!="string"||!t.includes("%"))return t;let s=t;try{s=decodeURI(t)}catch{}const i=s.match(/%\w+(?:\.\w+)?/g);if(!i)return t;const o=t.includes(Yn);return t=t.replace(/%\w+(?:\.\w+)?/g,c=>{if(c===Yn||!i.includes(c))return c;const l=ib(e,c.slice(1),r);return l!==void 0?l:c}).trim(),o&&(t.endsWith(Yn)&&(t=t.slice(0,-Yn.length)),t.startsWith(Yn)&&(t=t.slice(Yn.length)),t=t.replace(sb,n||"").trim()),t}const Sd=t=>t.includes(":key")?t:t.split(":").join(":key:"),ob={key:"aliasSorting",hooks:{"tags:resolve":t=>{let e=!1;for(const n of t.tags){const r=n.tagPriority;if(!r)continue;const s=String(r);if(s.startsWith("before:")){const i=Sd(s.slice(7)),o=t.tagMap.get(i);o&&(typeof o.tagPriority=="number"&&(n.tagPriority=o.tagPriority),n._p=o._p-1,e=!0)}else if(s.startsWith("after:")){const i=Sd(s.slice(6)),o=t.tagMap.get(i);o&&(typeof o.tagPriority=="number"&&(n.tagPriority=o.tagPriority),n._p=o._p+1,e=!0)}}e&&(t.tags=t.tags.sort(Ul))}}},ab={key:"deprecations",hooks:{"entries:normalize":({tags:t})=>{for(const e of t)e.props.children&&(e.innerHTML=e.props.children,delete e.props.children),e.props.hid&&(e.key=e.props.hid,delete e.props.hid),e.props.vmid&&(e.key=e.props.vmid,delete e.props.vmid),e.props.body&&(e.tagPosition="bodyClose",delete e.props.body)}}};async function Bl(t){if(typeof t==="function")return t;if(t instanceof Promise)return await t;if(Array.isArray(t))return await Promise.all(t.map(n=>Bl(n)));if((t==null?void 0:t.constructor)===Object){const n={};for(const r of Object.keys(t))n[r]=await Bl(t[r]);return n}return t}const cb={key:"promises",hooks:{"entries:resolve":async t=>{const e=[];for(const n in t.entries)t.entries[n]._promisesProcessed||e.push(Bl(t.entries[n].input).then(r=>{t.entries[n].input=r,t.entries[n]._promisesProcessed=!0}));await Promise.all(e)}}},lb={meta:"content",link:"href",htmlAttrs:"lang"},ub=["innerHTML","textContent"],hb=t=>({key:"template-params",hooks:{"entries:normalize":e=>{var r,s,i;const n=((s=(r=e.tags.filter(o=>o.tag==="templateParams"&&o.mode==="server"))==null?void 0:r[0])==null?void 0:s.props)||{};Object.keys(n).length&&(t._ssrPayload={templateParams:{...((i=t._ssrPayload)==null?void 0:i.templateParams)||{},...n}})},"tags:resolve":({tagMap:e,tags:n})=>{var i;const r=((i=e.get("templateParams"))==null?void 0:i.props)||{},s=r.separator||"|";delete r.separator,r.pageTitle=Bo(r.pageTitle||t._title||"",r,s);for(const o of n){if(o.processTemplateParams===!1)continue;const c=lb[o.tag];if(c&&typeof o.props[c]=="string")o.props[c]=Bo(o.props[c],r,s);else if(o.processTemplateParams||o.tag==="titleTemplate"||o.tag==="title")for(const l of ub)typeof o[l]=="string"&&(o[l]=Bo(o[l],r,s,o.tag==="script"&&o.props.type.endsWith("json")))}t._templateParams=r,t._separator=s},"tags:afterResolve":({tagMap:e})=>{const n=e.get("title");n!=null&&n.textContent&&n.processTemplateParams!==!1&&(n.textContent=Bo(n.textContent,t._templateParams,t._separator))}}}),fb=(t,e)=>Je(e)?hT(e):e,__="usehead";function db(t){return{install(n){n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(__,t)}}.install}function pb(){if(Pu()){const t=Nt(__);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function PN(t,e={}){const n=e.head||pb();return n.ssr?n.push(t||{},e):gb(n,t,e)}function gb(t,e,n={}){const r=Cn(!1);let s;return ow(()=>{const o=r.value?{}:Aa(e,fb);s?s.patch(o):s=t.push(o,n)}),nc()&&(ro(()=>{s.dispose()}),lm(()=>{r.value=!0}),cm(()=>{r.value=!1})),s}const mb="modulepreload",_b=function(t,e){return new URL(t,e).href},Cd={},wi=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const c=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),h=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=o(n.map(u=>{if(u=_b(u,r),u in Cd)return;Cd[u]=!0;const d=u.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(!!r)for(let A=c.length-1;A>=0;A--){const O=c[A];if(O.href===u&&(!d||O.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${g}`))return;const E=document.createElement("link");if(E.rel=d?"stylesheet":mb,d||(E.as="script"),E.crossOrigin="",E.href=u,h&&E.setAttribute("nonce",h),document.head.appendChild(E),d)return new Promise((A,O)=>{E.addEventListener("load",A),E.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})};let Jo,Yo;function yb(){return Jo=$fetch(Mu(`builds/meta/${sc().app.buildId}.json`),{responseType:"json"}),Jo.then(t=>{Yo=I0(t.matcher)}).catch(t=>{console.error("[nuxt] Error fetching app manifest.",t)}),Jo}function ac(){return Jo||yb()}async function Lu(t){const e=typeof t=="string"?t:t.path;if(await ac(),!Yo)return console.error("[nuxt] Error creating app manifest matcher.",Yo),{};try{return u_({},...Yo.matchAll(e).reverse())}catch(n){return console.error("[nuxt] Error matching route rules.",n),{}}}async function Pd(t,e={}){if(!await v_(t))return null;const r=await Eb(t,e);return await y_(r)||null}const vb="_payload.json";async function Eb(t,e={}){const n=new URL(t,"http://localhost");if(n.host!=="localhost"||zr(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const r=sc(),s=e.hash||(e.fresh?Date.now():r.app.buildId),i=r.app.cdnURL,o=i&&await v_(t)?i:r.app.baseURL;return xu(o,n.pathname,vb+(s?`?${s}`:""))}async function y_(t){const e=fetch(t,{cache:"force-cache"}).then(n=>n.text().then(E_));try{return await e}catch(n){console.warn("[nuxt] Cannot load payload ",t,n)}return null}async function v_(t=f_().path){const e=nt();return t=Ui(t),(await ac()).prerendered.includes(t)?!0:e.runWithContext(async()=>{const r=await Lu({path:t});return!!r.prerender&&!r.redirect})}let Ar=null;async function Tb(){var r;if(Ar)return Ar;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=await E_(t.textContent||""),n=t.dataset.src?await y_(t.dataset.src):void 0;return Ar={...e,...n,...window.__NUXT__},(r=Ar.config)!=null&&r.public&&(Ar.config.public=_r(Ar.config.public)),Ar}async function E_(t){return await j0(t,nt()._payloadRevivers)}function wb(t,e){nt()._payloadRevivers[t]=e}const Ib=[["NuxtError",t=>Lr(t)],["EmptyShallowRef",t=>Vi(t==="_"?void 0:t==="0n"?BigInt(0):Ea(t))],["EmptyRef",t=>Cn(t==="_"?void 0:t==="0n"?BigInt(0):Ea(t))],["ShallowRef",t=>Vi(t)],["ShallowReactive",t=>An(t)],["Ref",t=>Cn(t)],["Reactive",t=>_r(t)]],bb=mn({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,n;for(const[r,s]of Ib)wb(r,s);Object.assign(t.payload,([e,n]=Es(()=>t.runWithContext(Tb)),e=await e,n(),e)),window.__NUXT__=t.payload}});async function Fu(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const r={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async s=>{var m;const i=new Map,o=new Promise(E=>{t.resolveTags().then(A=>{E(A.map(O=>{const D=i.get(O._d)||0,N={tag:O,id:(D?`${O._d}:${D}`:O._d)||Id(O),shouldRender:!0};return O._d&&g_(O._d)&&i.set(O._d,D+1),N}))})});let c=t._dom;if(!c){c={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const E of["body","head"]){const A=(m=n[E])==null?void 0:m.children;for(const O of A){const D=O.tagName.toLowerCase();if(!wd.has(D))continue;const N=m_({tag:D,props:{}},{innerHTML:O.innerHTML,...O.getAttributeNames().reduce((T,k)=>(T[k]=O.getAttribute(k),T),{})||{}});if(N.key=O.getAttribute("data-hid")||void 0,N._d=Fl(N)||Id(N),c.elMap.has(N._d)){let T=1,k=N._d;for(;c.elMap.has(k);)k=`${N._d}:${T++}`;c.elMap.set(k,O)}else c.elMap.set(N._d,O)}}}c.pendingSideEffects={...c.sideEffects},c.sideEffects={};function l(E,A,O){const D=`${E}:${A}`;c.sideEffects[D]=O,delete c.pendingSideEffects[D]}function h({id:E,$el:A,tag:O}){const D=O.tag.endsWith("Attrs");c.elMap.set(E,A),D||(O.textContent&&O.textContent!==A.textContent&&(A.textContent=O.textContent),O.innerHTML&&O.innerHTML!==A.innerHTML&&(A.innerHTML=O.innerHTML),l(E,"el",()=>{A==null||A.remove(),c.elMap.delete(E)}));for(const N in O.props){if(!Object.prototype.hasOwnProperty.call(O.props,N))continue;const T=O.props[N];if(N.startsWith("on")&&typeof T=="function"){const V=A==null?void 0:A.dataset;if(V&&V[`${N}fired`]){const F=N.slice(0,-5);T.call(A,new Event(F.substring(2)))}A.getAttribute(`data-${N}`)!==""&&((O.tag==="bodyAttrs"?n.defaultView:A).addEventListener(N.substring(2),T.bind(A)),A.setAttribute(`data-${N}`,""));continue}const k=`attr:${N}`;if(N==="class"){if(!T)continue;for(const V of T)D&&l(E,`${k}:${V}`,()=>A.classList.remove(V)),!A.classList.contains(V)&&A.classList.add(V)}else if(N==="style"){if(!T)continue;for(const[V,F]of T)l(E,`${k}:${V}`,()=>{A.style.removeProperty(V)}),A.style.setProperty(V,F)}else T!==!1&&T!==null&&(A.getAttribute(N)!==T&&A.setAttribute(N,T===!0?"":String(T)),D&&l(E,k,()=>A.removeAttribute(N)))}}const u=[],d={bodyClose:void 0,bodyOpen:void 0,head:void 0},g=await o;for(const E of g){const{tag:A,shouldRender:O,id:D}=E;if(O){if(A.tag==="title"){n.title=A.textContent,l("title","",()=>n.title=c.title);continue}E.$el=E.$el||c.elMap.get(D),E.$el?h(E):wd.has(A.tag)&&u.push(E)}}for(const E of u){const A=E.tag.tagPosition||"head";E.$el=n.createElement(E.tag.tag),h(E),d[A]=d[A]||n.createDocumentFragment(),d[A].appendChild(E.$el)}for(const E of g)await t.hooks.callHook("dom:renderTag",E,n,l);d.head&&n.head.appendChild(d.head),d.bodyOpen&&n.body.insertBefore(d.bodyOpen,n.body.firstChild),d.bodyClose&&n.body.appendChild(d.bodyClose);for(const E in c.pendingSideEffects)c.pendingSideEffects[E]();t._dom=c,await t.hooks.callHook("dom:rendered",{renders:g}),s()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function Ab(t={}){var r,s,i;const e=((r=t.domOptions)==null?void 0:r.render)||Fu;t.document=t.document||(typeof window<"u"?document:void 0);const n=((i=(s=t.document)==null?void 0:s.head.querySelector('script[id="unhead:payload"]'))==null?void 0:i.innerHTML)||!1;return rb({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function Rb(t,e){let n=0;return()=>{const r=++n;e(()=>{n===r&&t()})}}function Sb(t={}){const e=Ab({domOptions:{render:Rb(()=>Fu(e),n=>setTimeout(n,0))},...t});return e.install=db(e),e}const Cb={disableDefaults:!0,disableCapoSorting:!1,plugins:[ab,cb,hb,ob]},Pb=mn({name:"nuxt:head",enforce:"pre",setup(t){const e=Sb(Cb);t.vueApp.use(e);{let n=!0;const r=async()=>{n=!1,await Fu(e)};e.hooks.hook("dom:beforeRender",s=>{s.shouldRender=!n}),t.hooks.hook("page:start",()=>{n=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||r()}),t.hooks.hook("app:error",r),t.hooks.hook("app:suspense:resolve",r)}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const is=typeof document<"u";function T_(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function kb(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&T_(t.default)}const Se=Object.assign;function nl(t,e){const n={};for(const r in e){const s=e[r];n[r]=en(s)?s.map(t):t(s)}return n}const Ii=()=>{},en=Array.isArray,w_=/#/g,Ob=/&/g,Nb=/\//g,Db=/=/g,Vb=/\?/g,I_=/\+/g,xb=/%5B/g,Mb=/%5D/g,b_=/%5E/g,Lb=/%60/g,A_=/%7B/g,Fb=/%7C/g,R_=/%7D/g,Ub=/%20/g;function Uu(t){return encodeURI(""+t).replace(Fb,"|").replace(xb,"[").replace(Mb,"]")}function Bb(t){return Uu(t).replace(A_,"{").replace(R_,"}").replace(b_,"^")}function jl(t){return Uu(t).replace(I_,"%2B").replace(Ub,"+").replace(w_,"%23").replace(Ob,"%26").replace(Lb,"`").replace(A_,"{").replace(R_,"}").replace(b_,"^")}function jb(t){return jl(t).replace(Db,"%3D")}function Hb(t){return Uu(t).replace(w_,"%23").replace(Vb,"%3F")}function $b(t){return t==null?"":Hb(t).replace(Nb,"%2F")}function Bi(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const qb=/\/$/,zb=t=>t.replace(qb,"");function rl(t,e,n="/"){let r,s={},i="",o="";const c=e.indexOf("#");let l=e.indexOf("?");return c<l&&c>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,c>-1?c:e.length),s=t(i)),c>-1&&(r=r||e.slice(0,c),o=e.slice(c,e.length)),r=Qb(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Bi(o)}}function Wb(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function kd(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Kb(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&ks(e.matched[r],n.matched[s])&&S_(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ks(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function S_(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Gb(t[n],e[n]))return!1;return!0}function Gb(t,e){return en(t)?Od(t,e):en(e)?Od(e,t):t===e}function Od(t,e){return en(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Qb(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,c;for(o=0;o<r.length;o++)if(c=r[o],c!==".")if(c==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Mt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ji;(function(t){t.pop="pop",t.push="push"})(ji||(ji={}));var bi;(function(t){t.back="back",t.forward="forward",t.unknown=""})(bi||(bi={}));function Jb(t){if(!t)if(is){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),zb(t)}const Yb=/^[^#]+#/;function Xb(t,e){return t.replace(Yb,"#")+e}function Zb(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const cc=()=>({left:window.scrollX,top:window.scrollY});function eA(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=Zb(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Nd(t,e){return(history.state?history.state.position-e:-1)+t}const Hl=new Map;function tA(t,e){Hl.set(t,e)}function nA(t){const e=Hl.get(t);return Hl.delete(t),e}let rA=()=>location.protocol+"//"+location.host;function C_(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let c=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(c);return l[0]!=="/"&&(l="/"+l),kd(l,"")}return kd(n,t)+r+s}function sA(t,e,n,r){let s=[],i=[],o=null;const c=({state:g})=>{const m=C_(t,location),E=n.value,A=e.value;let O=0;if(g){if(n.value=m,e.value=g,o&&o===E){o=null;return}O=A?g.position-A.position:0}else r(m);s.forEach(D=>{D(n.value,E,{delta:O,type:ji.pop,direction:O?O>0?bi.forward:bi.back:bi.unknown})})};function l(){o=n.value}function h(g){s.push(g);const m=()=>{const E=s.indexOf(g);E>-1&&s.splice(E,1)};return i.push(m),m}function u(){const{history:g}=window;g.state&&g.replaceState(Se({},g.state,{scroll:cc()}),"")}function d(){for(const g of i)g();i=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:h,destroy:d}}function Dd(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?cc():null}}function iA(t){const{history:e,location:n}=window,r={value:C_(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,h,u){const d=t.indexOf("#"),g=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:rA()+t+l;try{e[u?"replaceState":"pushState"](h,"",g),s.value=h}catch(m){console.error(m),n[u?"replace":"assign"](g)}}function o(l,h){const u=Se({},e.state,Dd(s.value.back,l,s.value.forward,!0),h,{position:s.value.position});i(l,u,!0),r.value=l}function c(l,h){const u=Se({},s.value,e.state,{forward:l,scroll:cc()});i(u.current,u,!0);const d=Se({},Dd(r.value,l,null),{position:u.position+1},h);i(l,d,!1),r.value=l}return{location:r,state:s,push:c,replace:o}}function oA(t){t=Jb(t);const e=iA(t),n=sA(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Se({location:"",base:t,go:r,createHref:Xb.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function aA(t){return typeof t=="string"||t&&typeof t=="object"}function P_(t){return typeof t=="string"||typeof t=="symbol"}const k_=Symbol("");var Vd;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Vd||(Vd={}));function Os(t,e){return Se(new Error,{type:t,[k_]:!0},e)}function Tn(t,e){return t instanceof Error&&k_ in t&&(e==null||!!(t.type&e))}const xd="[^/]+?",cA={sensitive:!1,strict:!1,start:!0,end:!0},lA=/[.+*?^${}()[\]/\\]/g;function uA(t,e){const n=Se({},cA,e),r=[];let s=n.start?"^":"";const i=[];for(const h of t){const u=h.length?[]:[90];n.strict&&!h.length&&(s+="/");for(let d=0;d<h.length;d++){const g=h[d];let m=40+(n.sensitive?.25:0);if(g.type===0)d||(s+="/"),s+=g.value.replace(lA,"\\$&"),m+=40;else if(g.type===1){const{value:E,repeatable:A,optional:O,regexp:D}=g;i.push({name:E,repeatable:A,optional:O});const N=D||xd;if(N!==xd){m+=10;try{new RegExp(`(${N})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${E}" (${N}): `+k.message)}}let T=A?`((?:${N})(?:/(?:${N}))*)`:`(${N})`;d||(T=O&&h.length<2?`(?:/${T})`:"/"+T),O&&(T+="?"),s+=T,m+=20,O&&(m+=-8),A&&(m+=-20),N===".*"&&(m+=-50)}u.push(m)}r.push(u)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function c(h){const u=h.match(o),d={};if(!u)return null;for(let g=1;g<u.length;g++){const m=u[g]||"",E=i[g-1];d[E.name]=m&&E.repeatable?m.split("/"):m}return d}function l(h){let u="",d=!1;for(const g of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const m of g)if(m.type===0)u+=m.value;else if(m.type===1){const{value:E,repeatable:A,optional:O}=m,D=E in h?h[E]:"";if(en(D)&&!A)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const N=en(D)?D.join("/"):D;if(!N)if(O)g.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${E}"`);u+=N}}return u||"/"}return{re:o,score:r,keys:i,parse:c,stringify:l}}function hA(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function O_(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=hA(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Md(r))return 1;if(Md(s))return-1}return s.length-r.length}function Md(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const fA={type:0,value:""},dA=/[a-zA-Z0-9_]/;function pA(t){if(!t)return[[]];if(t==="/")return[[fA]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${n})/"${h}": ${m}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let c=0,l,h="",u="";function d(){h&&(n===0?i.push({type:0,value:h}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:h,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),h="")}function g(){h+=l}for(;c<t.length;){if(l=t[c++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(h&&d(),o()):l===":"?(d(),n=1):g();break;case 4:g(),n=r;break;case 1:l==="("?n=2:dA.test(l)?g():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${h}"`),d(),o(),s}function gA(t,e,n){const r=uA(pA(t.path),n),s=Se(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function mA(t,e){const n=[],r=new Map;e=Bd({strict:!1,end:!0,sensitive:!1},e);function s(d){return r.get(d)}function i(d,g,m){const E=!m,A=Fd(d);A.aliasOf=m&&m.record;const O=Bd(e,d),D=[A];if("alias"in d){const k=typeof d.alias=="string"?[d.alias]:d.alias;for(const V of k)D.push(Fd(Se({},A,{components:m?m.record.components:A.components,path:V,aliasOf:m?m.record:A})))}let N,T;for(const k of D){const{path:V}=k;if(g&&V[0]!=="/"){const F=g.record.path,w=F[F.length-1]==="/"?"":"/";k.path=g.record.path+(V&&w+V)}if(N=gA(k,g,O),m?m.alias.push(N):(T=T||N,T!==N&&T.alias.push(N),E&&d.name&&!Ud(N)&&o(d.name)),N_(N)&&l(N),A.children){const F=A.children;for(let w=0;w<F.length;w++)i(F[w],N,m&&m.children[w])}m=m||N}return T?()=>{o(T)}:Ii}function o(d){if(P_(d)){const g=r.get(d);g&&(r.delete(d),n.splice(n.indexOf(g),1),g.children.forEach(o),g.alias.forEach(o))}else{const g=n.indexOf(d);g>-1&&(n.splice(g,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function c(){return n}function l(d){const g=vA(d,n);n.splice(g,0,d),d.record.name&&!Ud(d)&&r.set(d.record.name,d)}function h(d,g){let m,E={},A,O;if("name"in d&&d.name){if(m=r.get(d.name),!m)throw Os(1,{location:d});O=m.record.name,E=Se(Ld(g.params,m.keys.filter(T=>!T.optional).concat(m.parent?m.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),d.params&&Ld(d.params,m.keys.map(T=>T.name))),A=m.stringify(E)}else if(d.path!=null)A=d.path,m=n.find(T=>T.re.test(A)),m&&(E=m.parse(A),O=m.record.name);else{if(m=g.name?r.get(g.name):n.find(T=>T.re.test(g.path)),!m)throw Os(1,{location:d,currentLocation:g});O=m.record.name,E=Se({},g.params,d.params),A=m.stringify(E)}const D=[];let N=m;for(;N;)D.unshift(N.record),N=N.parent;return{name:O,path:A,params:E,matched:D,meta:yA(D)}}t.forEach(d=>i(d));function u(){n.length=0,r.clear()}return{addRoute:i,resolve:h,removeRoute:o,clearRoutes:u,getRoutes:c,getRecordMatcher:s}}function Ld(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Fd(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:_A(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function _A(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Ud(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function yA(t){return t.reduce((e,n)=>Se(e,n.meta),{})}function Bd(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function vA(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;O_(t,e[i])<0?r=i:n=i+1}const s=EA(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function EA(t){let e=t;for(;e=e.parent;)if(N_(e)&&O_(t,e)===0)return e}function N_({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function TA(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(I_," "),o=i.indexOf("="),c=Bi(o<0?i:i.slice(0,o)),l=o<0?null:Bi(i.slice(o+1));if(c in e){let h=e[c];en(h)||(h=e[c]=[h]),h.push(l)}else e[c]=l}return e}function jd(t){let e="";for(let n in t){const r=t[n];if(n=jb(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(en(r)?r.map(i=>i&&jl(i)):[r&&jl(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function wA(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=en(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const IA=Symbol(""),Hd=Symbol(""),Bu=Symbol(""),D_=Symbol(""),$l=Symbol("");function ui(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Xn(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((c,l)=>{const h=g=>{g===!1?l(Os(4,{from:n,to:e})):g instanceof Error?l(g):aA(g)?l(Os(2,{from:e,to:g})):(o&&r.enterCallbacks[s]===o&&typeof g=="function"&&o.push(g),c())},u=i(()=>t.call(r&&r.instances[s],e,n,h));let d=Promise.resolve(u);t.length<3&&(d=d.then(h)),d.catch(g=>l(g))})}function sl(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const c in o.components){let l=o.components[c];if(!(e!=="beforeRouteEnter"&&!o.instances[c]))if(T_(l)){const u=(l.__vccOpts||l)[e];u&&i.push(Xn(u,n,r,o,c,s))}else{let h=l();i.push(()=>h.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${c}" at "${o.path}"`);const d=kb(u)?u.default:u;o.mods[c]=u,o.components[c]=d;const m=(d.__vccOpts||d)[e];return m&&Xn(m,n,r,o,c,s)()}))}}return i}function $d(t){const e=Nt(Bu),n=Nt(D_),r=Kt(()=>{const l=Be(t.to);return e.resolve(l)}),s=Kt(()=>{const{matched:l}=r.value,{length:h}=l,u=l[h-1],d=n.matched;if(!u||!d.length)return-1;const g=d.findIndex(ks.bind(null,u));if(g>-1)return g;const m=qd(l[h-2]);return h>1&&qd(u)===m&&d[d.length-1].path!==m?d.findIndex(ks.bind(null,l[h-2])):g}),i=Kt(()=>s.value>-1&&CA(n.params,r.value.params)),o=Kt(()=>s.value>-1&&s.value===n.matched.length-1&&S_(n.params,r.value.params));function c(l={}){if(SA(l)){const h=e[Be(t.replace)?"replace":"push"](Be(t.to)).catch(Ii);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:r,href:Kt(()=>r.value.href),isActive:i,isExactActive:o,navigate:c}}function bA(t){return t.length===1?t[0]:t}const AA=to({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:$d,setup(t,{slots:e}){const n=_r($d(t)),{options:r}=Nt(Bu),s=Kt(()=>({[zd(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[zd(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&bA(e.default(n));return t.custom?i:Ft("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),RA=AA;function SA(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function CA(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!en(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function qd(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const zd=(t,e,n)=>t??e??n,PA=to({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Nt($l),s=Kt(()=>t.route||r.value),i=Nt(Hd,0),o=Kt(()=>{let h=Be(i);const{matched:u}=s.value;let d;for(;(d=u[h])&&!d.components;)h++;return h}),c=Kt(()=>s.value.matched[o.value]);ms(Hd,Kt(()=>o.value+1)),ms(IA,c),ms($l,s);const l=Cn();return _s(()=>[l.value,c.value,t.name],([h,u,d],[g,m,E])=>{u&&(u.instances[d]=h,m&&m!==u&&h&&h===g&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),h&&u&&(!m||!ks(u,m)||!g)&&(u.enterCallbacks[d]||[]).forEach(A=>A(h))},{flush:"post"}),()=>{const h=s.value,u=t.name,d=c.value,g=d&&d.components[u];if(!g)return Wd(n.default,{Component:g,route:h});const m=d.props[u],E=m?m===!0?h.params:typeof m=="function"?m(h):m:null,O=Ft(g,Se({},E,e,{onVnodeUnmounted:D=>{D.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return Wd(n.default,{Component:O,route:h})||O}}});function Wd(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const V_=PA;function kA(t){const e=mA(t.routes,t),n=t.parseQuery||TA,r=t.stringifyQuery||jd,s=t.history,i=ui(),o=ui(),c=ui(),l=Vi(Mt);let h=Mt;is&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=nl.bind(null,B=>""+B),d=nl.bind(null,$b),g=nl.bind(null,Bi);function m(B,X){let Y,ne;return P_(B)?(Y=e.getRecordMatcher(B),ne=X):ne=B,e.addRoute(ne,Y)}function E(B){const X=e.getRecordMatcher(B);X&&e.removeRoute(X)}function A(){return e.getRoutes().map(B=>B.record)}function O(B){return!!e.getRecordMatcher(B)}function D(B,X){if(X=Se({},X||l.value),typeof B=="string"){const C=rl(n,B,X.path),M=e.resolve({path:C.path},X),H=s.createHref(C.fullPath);return Se(C,M,{params:g(M.params),hash:Bi(C.hash),redirectedFrom:void 0,href:H})}let Y;if(B.path!=null)Y=Se({},B,{path:rl(n,B.path,X.path).path});else{const C=Se({},B.params);for(const M in C)C[M]==null&&delete C[M];Y=Se({},B,{params:d(C)}),X.params=d(X.params)}const ne=e.resolve(Y,X),Te=B.hash||"";ne.params=u(g(ne.params));const ke=Wb(r,Se({},B,{hash:Bb(Te),path:ne.path})),R=s.createHref(ke);return Se({fullPath:ke,hash:Te,query:r===jd?wA(B.query):B.query||{}},ne,{redirectedFrom:void 0,href:R})}function N(B){return typeof B=="string"?rl(n,B,l.value.path):Se({},B)}function T(B,X){if(h!==B)return Os(8,{from:X,to:B})}function k(B){return w(B)}function V(B){return k(Se(N(B),{replace:!0}))}function F(B){const X=B.matched[B.matched.length-1];if(X&&X.redirect){const{redirect:Y}=X;let ne=typeof Y=="function"?Y(B):Y;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=N(ne):{path:ne},ne.params={}),Se({query:B.query,hash:B.hash,params:ne.path!=null?{}:B.params},ne)}}function w(B,X){const Y=h=D(B),ne=l.value,Te=B.state,ke=B.force,R=B.replace===!0,C=F(Y);if(C)return w(Se(N(C),{state:typeof C=="object"?Se({},Te,C.state):Te,force:ke,replace:R}),X||Y);const M=Y;M.redirectedFrom=X;let H;return!ke&&Kb(r,ne,Y)&&(H=Os(16,{to:M,from:ne}),Dt(ne,ne,!0,!1)),(H?Promise.resolve(H):I(M,ne)).catch(U=>Tn(U)?Tn(U,2)?U:qt(U):ee(U,M,ne)).then(U=>{if(U){if(Tn(U,2))return w(Se({replace:R},N(U.to),{state:typeof U.to=="object"?Se({},Te,U.to.state):Te,force:ke}),X||M)}else U=S(M,ne,!0,R,Te);return P(M,ne,U),U})}function v(B,X){const Y=T(B,X);return Y?Promise.reject(Y):Promise.resolve()}function y(B){const X=Bn.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(B):B()}function I(B,X){let Y;const[ne,Te,ke]=OA(B,X);Y=sl(ne.reverse(),"beforeRouteLeave",B,X);for(const C of ne)C.leaveGuards.forEach(M=>{Y.push(Xn(M,B,X))});const R=v.bind(null,B,X);return Y.push(R),bt(Y).then(()=>{Y=[];for(const C of i.list())Y.push(Xn(C,B,X));return Y.push(R),bt(Y)}).then(()=>{Y=sl(Te,"beforeRouteUpdate",B,X);for(const C of Te)C.updateGuards.forEach(M=>{Y.push(Xn(M,B,X))});return Y.push(R),bt(Y)}).then(()=>{Y=[];for(const C of ke)if(C.beforeEnter)if(en(C.beforeEnter))for(const M of C.beforeEnter)Y.push(Xn(M,B,X));else Y.push(Xn(C.beforeEnter,B,X));return Y.push(R),bt(Y)}).then(()=>(B.matched.forEach(C=>C.enterCallbacks={}),Y=sl(ke,"beforeRouteEnter",B,X,y),Y.push(R),bt(Y))).then(()=>{Y=[];for(const C of o.list())Y.push(Xn(C,B,X));return Y.push(R),bt(Y)}).catch(C=>Tn(C,8)?C:Promise.reject(C))}function P(B,X,Y){c.list().forEach(ne=>y(()=>ne(B,X,Y)))}function S(B,X,Y,ne,Te){const ke=T(B,X);if(ke)return ke;const R=X===Mt,C=is?history.state:{};Y&&(ne||R?s.replace(B.fullPath,Se({scroll:R&&C&&C.scroll},Te)):s.push(B.fullPath,Te)),l.value=B,Dt(B,X,Y,R),qt()}let b;function ge(){b||(b=s.listen((B,X,Y)=>{if(!tn.listening)return;const ne=D(B),Te=F(ne);if(Te){w(Se(Te,{replace:!0,force:!0}),ne).catch(Ii);return}h=ne;const ke=l.value;is&&tA(Nd(ke.fullPath,Y.delta),cc()),I(ne,ke).catch(R=>Tn(R,12)?R:Tn(R,2)?(w(Se(N(R.to),{force:!0}),ne).then(C=>{Tn(C,20)&&!Y.delta&&Y.type===ji.pop&&s.go(-1,!1)}).catch(Ii),Promise.reject()):(Y.delta&&s.go(-Y.delta,!1),ee(R,ne,ke))).then(R=>{R=R||S(ne,ke,!1),R&&(Y.delta&&!Tn(R,8)?s.go(-Y.delta,!1):Y.type===ji.pop&&Tn(R,20)&&s.go(-1,!1)),P(ne,ke,R)}).catch(Ii)}))}let ye=ui(),te=ui(),ue;function ee(B,X,Y){qt(B);const ne=te.list();return ne.length?ne.forEach(Te=>Te(B,X,Y)):console.error(B),Promise.reject(B)}function Le(){return ue&&l.value!==Mt?Promise.resolve():new Promise((B,X)=>{ye.add([B,X])})}function qt(B){return ue||(ue=!B,ge(),ye.list().forEach(([X,Y])=>B?Y(B):X()),ye.reset()),B}function Dt(B,X,Y,ne){const{scrollBehavior:Te}=t;if(!is||!Te)return Promise.resolve();const ke=!Y&&nA(Nd(B.fullPath,0))||(ne||!Y)&&history.state&&history.state.scroll||null;return As().then(()=>Te(B,X,ke)).then(R=>R&&eA(R)).catch(R=>ee(R,B,X))}const Fe=B=>s.go(B);let Ue;const Bn=new Set,tn={currentRoute:l,listening:!0,addRoute:m,removeRoute:E,clearRoutes:e.clearRoutes,hasRoute:O,getRoutes:A,resolve:D,options:t,push:k,replace:V,go:Fe,back:()=>Fe(-1),forward:()=>Fe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:c.add,onError:te.add,isReady:Le,install(B){const X=this;B.component("RouterLink",RA),B.component("RouterView",V_),B.config.globalProperties.$router=X,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>Be(l)}),is&&!Ue&&l.value===Mt&&(Ue=!0,k(s.location).catch(Te=>{}));const Y={};for(const Te in Mt)Object.defineProperty(Y,Te,{get:()=>l.value[Te],enumerable:!0});B.provide(Bu,X),B.provide(D_,An(Y)),B.provide($l,l);const ne=B.unmount;Bn.add(B),B.unmount=function(){Bn.delete(B),Bn.size<1&&(h=Mt,b&&b(),b=null,l.value=Mt,Ue=!1,ue=!1),ne()}}};function bt(B){return B.reduce((X,Y)=>X.then(()=>y(Y)),Promise.resolve())}return tn}function OA(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const c=e.matched[o];c&&(t.matched.find(h=>ks(h,c))?r.push(c):n.push(c));const l=t.matched[o];l&&(e.matched.find(h=>ks(h,l))||s.push(l))}return[n,r,s]}const NA=/(:\w+)\([^)]+\)/g,DA=/(:\w+)[?+*]/g,VA=/:\w+/g,xA=(t,e)=>e.path.replace(NA,"$1").replace(DA,"$1").replace(VA,n=>{var r;return((r=t.params[n.slice(1)])==null?void 0:r.toString())||""}),ql=(t,e)=>{const n=t.route.matched.find(s=>{var i;return((i=s.components)==null?void 0:i.default)===t.Component.type}),r=e??(n==null?void 0:n.meta.key)??(n&&xA(t.route,n));return typeof r=="function"?r(t.route):r},MA=(t,e)=>({default:()=>t?Ft(DT,t===!0?{}:t,e):e});function ju(t){return Array.isArray(t)?t:[t]}const il=[{name:"mole",path:"/mole",component:()=>wi(()=>import("./oaTMXc0e.js"),__vite__mapDeps([0,1,2]),import.meta.url)},{name:"test",path:"/test",component:()=>wi(()=>import("./DChCstzg.js"),__vite__mapDeps([3,1,2,4]),import.meta.url)},{name:"index",path:"/",component:()=>wi(()=>import("./CzZVpk6W.js"),__vite__mapDeps([5,6]),import.meta.url)}],LA=(t,e)=>({default:()=>{var n;return t?Ft(Lw,t===!0?{}:t,e):(n=e.default)==null?void 0:n.call(e)}}),FA=/(:\w+)\([^)]+\)/g,UA=/(:\w+)[?+*]/g,BA=/:\w+/g;function Kd(t){const e=(t==null?void 0:t.meta.key)??t.path.replace(FA,"$1").replace(UA,"$1").replace(BA,n=>{var r;return((r=t.params[n.slice(1)])==null?void 0:r.toString())||""});return typeof e=="function"?e(t):e}function jA(t,e){return t===e||e===Mt?!1:Kd(t)!==Kd(e)?!0:!t.matched.every((r,s)=>{var i,o;return r.components&&r.components.default===((o=(i=e.matched[s])==null?void 0:i.components)==null?void 0:o.default)})}const HA={scrollBehavior(t,e,n){var l;const r=nt(),s=((l=Ht().options)==null?void 0:l.scrollBehaviorType)??"auto";if(t.path===e.path)return e.hash&&!t.hash?{left:0,top:0}:t.hash?{el:t.hash,top:x_(t.hash),behavior:s}:!1;if((typeof t.meta.scrollToTop=="function"?t.meta.scrollToTop(t,e):t.meta.scrollToTop)===!1)return!1;let o=n||void 0;!o&&jA(t,e)&&(o={left:0,top:0});const c=r._runningTransition?"page:transition:finish":"page:loading:end";return new Promise(h=>{if(e===Mt){h(Gd(t,"instant",o));return}r.hooks.hookOnce(c,()=>{requestAnimationFrame(()=>h(Gd(t,"instant",o)))})})}};function x_(t){try{const e=document.querySelector(t);if(e)return(Number.parseFloat(getComputedStyle(e).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle(document.documentElement).scrollPaddingTop)||0)}catch{}return 0}function Gd(t,e,n){return n||(t.hash?{el:t.hash,top:x_(t.hash),behavior:e}:{left:0,top:0,behavior:e})}const $A={hashMode:!1,scrollBehaviorType:"auto"},nn={...$A,...HA},qA=async(t,e)=>{var o;let n,r;if(!((o=t.meta)!=null&&o.validate))return;const s=([n,r]=Es(()=>Promise.resolve(t.meta.validate(t))),n=await n,r(),n);if(s===!0)return;const i=Lr({fatal:!0,statusCode:s&&s.statusCode||404,statusMessage:s&&s.statusMessage||`Page Not Found: ${t.fullPath}`,data:{path:t.fullPath}});return typeof window<"u"&&window.history.pushState({},"",e.fullPath),i},zA=async t=>{let e,n;const r=([e,n]=Es(()=>Lu({path:t.path})),e=await e,n(),e);if(r.redirect)return zr(r.redirect,{acceptRelative:!0})?(window.location.href=r.redirect,!1):r.redirect},WA=[qA,zA],Ai={};function KA(t,e,n){const{pathname:r,search:s,hash:i}=e,o=t.indexOf("#");if(o>-1){const h=i.includes(t.slice(o))?t.slice(o).length:1;let u=i.slice(h);return u[0]!=="/"&&(u="/"+u),fd(u,"")}const c=fd(r,t),l=!n||MI(c,n)?c:n;return l+(l.includes("?")?"":s)+i}const GA=mn({name:"nuxt:router",enforce:"pre",async setup(t){var O;let e,n,r=sc().app.baseURL;const s=((O=nn.history)==null?void 0:O.call(nn,r))??oA(r),i=nn.routes?([e,n]=Es(()=>nn.routes(il)),e=await e,n(),e??il):il;let o;const c=kA({...nn,scrollBehavior:(D,N,T)=>{if(N===Mt){o=T;return}if(nn.scrollBehavior){if(c.options.scrollBehavior=nn.scrollBehavior,"scrollRestoration"in window.history){const k=c.beforeEach(()=>{k(),window.history.scrollRestoration="manual"})}return nn.scrollBehavior(D,Mt,o||T)}},history:s,routes:i});"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),t.vueApp.use(c);const l=Vi(c.currentRoute.value);c.afterEach((D,N)=>{l.value=N}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>l.value});const h=KA(r,window.location,t.payload.path),u=Vi(c.currentRoute.value),d=()=>{u.value=c.currentRoute.value};t.hook("page:finish",d),c.afterEach((D,N)=>{var T,k,V,F;((k=(T=D.matched[0])==null?void 0:T.components)==null?void 0:k.default)===((F=(V=N.matched[0])==null?void 0:V.components)==null?void 0:F.default)&&d()});const g={};for(const D in u.value)Object.defineProperty(g,D,{get:()=>u.value[D],enumerable:!0});t._route=An(g),t._middleware||(t._middleware={global:[],named:{}});const m=oc();c.afterEach(async(D,N,T)=>{delete t._processingMiddleware,!t.isHydrating&&m.value&&await t.runWithContext(N0),T&&await t.callHook("page:loading:end")});try{[e,n]=Es(()=>c.isReady()),await e,n()}catch(D){[e,n]=Es(()=>t.runWithContext(()=>Sr(D))),await e,n()}const E=h!==c.currentRoute.value.fullPath?c.resolve(h):c.currentRoute.value;d();const A=t.payload.state._layout;return c.beforeEach(async(D,N)=>{var T;await t.callHook("page:loading:start"),D.meta=_r(D.meta),t.isHydrating&&A&&!Nn(D.meta.layout)&&(D.meta.layout=A),t._processingMiddleware=!0;{const k=new Set([...WA,...t._middleware.global]);for(const V of D.matched){const F=V.meta.middleware;if(F)for(const w of ju(F))k.add(w)}{const V=await t.runWithContext(()=>Lu({path:D.path}));if(V.appMiddleware)for(const F in V.appMiddleware)V.appMiddleware[F]?k.add(F):k.delete(F)}for(const V of k){const F=typeof V=="string"?t._middleware.named[V]||await((T=Ai[V])==null?void 0:T.call(Ai).then(w=>w.default||w)):V;if(!F)throw new Error(`Unknown route middleware: '${V}'.`);try{const w=await t.runWithContext(()=>F(D,N));if(!t.payload.serverRendered&&t.isHydrating&&(w===!1||w instanceof Error)){const v=w||Lr({statusCode:404,statusMessage:`Page Not Found: ${h}`});return await t.runWithContext(()=>Sr(v)),!1}if(w===!0)continue;if(w===!1)return w;if(w)return p_(w)&&w.fatal&&await t.runWithContext(()=>Sr(w)),w}catch(w){const v=Lr(w);return v.fatal&&await t.runWithContext(()=>Sr(v)),v}}}}),c.onError(async()=>{delete t._processingMiddleware,await t.callHook("page:loading:end")}),c.afterEach(async(D,N)=>{D.matched.length===0&&await t.runWithContext(()=>Sr(Lr({statusCode:404,fatal:!1,statusMessage:`Page not found: ${D.fullPath}`,data:{path:D.fullPath}})))}),t.hooks.hookOnce("app:created",async()=>{try{"name"in E&&(E.name=void 0),await c.replace({...E,force:!0}),c.options.scrollBehavior=nn.scrollBehavior}catch(D){await t.runWithContext(()=>Sr(D))}}),{provide:{router:c}}}}),Qd=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),kN=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),Hu=t=>{const e=nt();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{Qd(()=>t())}):Qd(()=>t())},QA=mn({name:"nuxt:payload",setup(t){const e=new Set;Ht().beforeResolve(async(n,r)=>{if(n.path===r.path)return;const s=await Pd(n.path);if(s){for(const i of e)delete t.static.data[i];for(const i in s.data)i in t.static.data||e.add(i),t.static.data[i]=s.data[i]}}),Hu(()=>{var n;t.hooks.hook("link:prefetch",async r=>{const{hostname:s}=new URL(r,window.location.href);s===window.location.hostname&&await Pd(r).catch(()=>{console.warn("[nuxt] Error preloading payload for",r)})}),((n=navigator.connection)==null?void 0:n.effectiveType)!=="slow-2g"&&setTimeout(ac,1e3)})}}),JA=mn(()=>{const t=Ht();Hu(()=>{t.beforeResolve(async()=>{await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})})})})}),YA=mn(t=>{let e;async function n(){const r=await ac();e&&clearTimeout(e),e=setTimeout(n,yd);try{const s=await $fetch(Mu("builds/latest.json")+`?${Date.now()}`);s.id!==r.id&&t.hooks.callHook("app:manifest:update",s)}catch{}}Hu(()=>{e=setTimeout(n,yd)})});function XA(t={}){const e=t.path||window.location.pathname;let n={};try{n=Ea(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||(n==null?void 0:n.path)!==e||(n==null?void 0:n.expires)<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:nt().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const ZA=mn({name:"nuxt:chunk-reload",setup(t){const e=Ht(),n=sc(),r=new Set;e.beforeEach(()=>{r.clear()}),t.hook("app:chunkError",({error:i})=>{r.add(i)});function s(i){const c="href"in i&&i.href[0]==="#"?n.app.baseURL+i.href:xu(n.app.baseURL,i.fullPath);XA({path:c,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(s)}),e.onError((i,o)=>{r.has(i)&&s(o)})}}),eR=mn({name:"nuxt:global-components"}),jo={};function tR(t){if(t!=null&&t.__asyncLoader&&!t.__asyncResolved)return t.__asyncLoader()}async function nR(t,e=Ht()){const{path:n,matched:r}=e.resolve(t);if(!r.length||(e._routePreloaded||(e._routePreloaded=new Set),e._routePreloaded.has(n)))return;const s=e._preloadPromises||(e._preloadPromises=[]);if(s.length>4)return Promise.all(s).then(()=>nR(t,e));e._routePreloaded.add(n);const i=r.map(o=>{var c;return(c=o.components)==null?void 0:c.default}).filter(o=>typeof o=="function");for(const o of i){const c=Promise.resolve(o()).catch(()=>{}).finally(()=>s.splice(s.indexOf(c)));s.push(c)}await Promise.all(s)}const rR=mn({name:"nuxt:prefetch",setup(t){const e=Ht();t.hooks.hook("app:mounted",()=>{e.beforeEach(async n=>{var s;const r=(s=n==null?void 0:n.meta)==null?void 0:s.layout;r&&typeof jo[r]=="function"&&await jo[r]()})}),t.hooks.hook("link:prefetch",n=>{if(zr(n))return;const r=e.resolve(n);if(!r)return;const s=r.meta.layout;let i=ju(r.meta.middleware);i=i.filter(o=>typeof o=="string");for(const o of i)typeof Ai[o]=="function"&&Ai[o]();typeof s=="string"&&s in jo&&tR(jo[s])})}}),sR=()=>{};var Jd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},iR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],c=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},L_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,c=o?t[s+1]:0,l=s+2<t.length,h=l?t[s+2]:0,u=i>>2,d=(i&3)<<4|c>>4;let g=(c&15)<<2|h>>6,m=h&63;l||(m=64,o||(g=64)),r.push(n[u],n[d],n[g],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(M_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||h==null||d==null)throw new oR;const g=i<<2|c>>4;if(r.push(g),h!==64){const m=c<<4&240|h>>2;if(r.push(m),d!==64){const E=h<<6&192|d;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aR=function(t){const e=M_(t);return L_.encodeByteArray(e,!0)},Ra=function(t){return aR(t).replace(/\./g,"")},F_=function(t){try{return L_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=()=>cR().__FIREBASE_DEFAULTS__,uR=()=>{if(typeof process>"u"||typeof Jd>"u")return;const t=Jd.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&F_(t[1]);return e&&JSON.parse(e)},lc=()=>{try{return sR()||lR()||uR()||hR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},U_=t=>{var e,n;return(n=(e=lc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fR=t=>{const e=U_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},B_=()=>{var t;return(t=lc())===null||t===void 0?void 0:t.config},j_=t=>{var e;return(e=lc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t){return t.endsWith(".cloudworkstations.dev")}async function H_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ra(JSON.stringify(n)),Ra(JSON.stringify(o)),""].join(".")}const Ri={};function gR(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ri))Ri[e]?t.emulator.push(e):t.prod.push(e);return t}function mR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Yd=!1;function $_(t,e){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||Ri[t]===e||Ri[t]||Yd)return;Ri[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=gR().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Yd=!0,o()},g}function u(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function d(){const g=mR(r),m=n("text"),E=document.getElementById(m)||document.createElement("span"),A=n("learnmore"),O=document.getElementById(A)||document.createElement("a"),D=n("preprendIcon"),N=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const T=g.element;c(T),u(O,A);const k=h();l(N,D),T.append(N,E,O,k),document.body.appendChild(T)}i?(E.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _R(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function yR(){var t;const e=(t=lc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ER(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wR(){const t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IR(){return!yR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bR(){try{return typeof indexedDB=="object"}catch{return!1}}function AR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="FirebaseError";class Un extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RR,Object.setPrototypeOf(this,Un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oo.prototype.create)}}class oo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?SR(i,r):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new Un(s,c,r)}}function SR(t,e){return t.replace(CR,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const CR=/\{\$([^}]+)}/g;function PR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ur(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Xd(i)&&Xd(o)){if(!Ur(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Xd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kR(t,e){const n=new OR(t,e);return n.subscribe.bind(n)}class OR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");NR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ol),s.error===void 0&&(s.error=ol),s.complete===void 0&&(s.complete=ol);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ol(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t){return t&&t._delegate?t._delegate:t}class Br{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xR(e))try{this.getOrInitializeService({instanceIdentifier:Cr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cr){return this.instances.has(e)}getOptions(e=Cr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Cr){return this.component?this.component.multipleInstances?e:Cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VR(t){return t===Cr?void 0:t}function xR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const LR={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},FR=ve.INFO,UR={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},BR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=UR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $u{constructor(e){this.name=e,this._logLevel=FR,this._logHandler=BR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const jR=(t,e)=>e.some(n=>t instanceof n);let Zd,ep;function HR(){return Zd||(Zd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $R(){return ep||(ep=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q_=new WeakMap,zl=new WeakMap,z_=new WeakMap,al=new WeakMap,qu=new WeakMap;function qR(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(or(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&q_.set(n,t)}).catch(()=>{}),qu.set(e,t),e}function zR(t){if(zl.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});zl.set(t,e)}let Wl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||z_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return or(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WR(t){Wl=t(Wl)}function KR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cl(this),e,...n);return z_.set(r,e.sort?e.sort():[e]),or(r)}:$R().includes(t)?function(...e){return t.apply(cl(this),e),or(q_.get(this))}:function(...e){return or(t.apply(cl(this),e))}}function GR(t){return typeof t=="function"?KR(t):(t instanceof IDBTransaction&&zR(t),jR(t,HR())?new Proxy(t,Wl):t)}function or(t){if(t instanceof IDBRequest)return qR(t);if(al.has(t))return al.get(t);const e=GR(t);return e!==t&&(al.set(t,e),qu.set(e,t)),e}const cl=t=>qu.get(t);function QR(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),c=or(o);return r&&o.addEventListener("upgradeneeded",l=>{r(or(o.result),l.oldVersion,l.newVersion,or(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const JR=["get","getKey","getAll","getAllKeys","count"],YR=["put","add","delete","clear"],ll=new Map;function tp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ll.get(e))return ll.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=YR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||JR.includes(n)))return;const i=async function(o,...c){const l=this.transaction(o,s?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&l.done]))[0]};return ll.set(e,i),i}WR(t=>({...t,get:(e,n,r)=>tp(e,n)||t.get(e,n,r),has:(e,n)=>!!tp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kl="@firebase/app",np="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn=new $u("@firebase/app"),eS="@firebase/app-compat",tS="@firebase/analytics-compat",nS="@firebase/analytics",rS="@firebase/app-check-compat",sS="@firebase/app-check",iS="@firebase/auth",oS="@firebase/auth-compat",aS="@firebase/database",cS="@firebase/data-connect",lS="@firebase/database-compat",uS="@firebase/functions",hS="@firebase/functions-compat",fS="@firebase/installations",dS="@firebase/installations-compat",pS="@firebase/messaging",gS="@firebase/messaging-compat",mS="@firebase/performance",_S="@firebase/performance-compat",yS="@firebase/remote-config",vS="@firebase/remote-config-compat",ES="@firebase/storage",TS="@firebase/storage-compat",wS="@firebase/firestore",IS="@firebase/ai",bS="@firebase/firestore-compat",AS="firebase",RS="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl="[DEFAULT]",SS={[Kl]:"fire-core",[eS]:"fire-core-compat",[nS]:"fire-analytics",[tS]:"fire-analytics-compat",[sS]:"fire-app-check",[rS]:"fire-app-check-compat",[iS]:"fire-auth",[oS]:"fire-auth-compat",[aS]:"fire-rtdb",[cS]:"fire-data-connect",[lS]:"fire-rtdb-compat",[uS]:"fire-fn",[hS]:"fire-fn-compat",[fS]:"fire-iid",[dS]:"fire-iid-compat",[pS]:"fire-fcm",[gS]:"fire-fcm-compat",[mS]:"fire-perf",[_S]:"fire-perf-compat",[yS]:"fire-rc",[vS]:"fire-rc-compat",[ES]:"fire-gcs",[TS]:"fire-gcs-compat",[wS]:"fire-fst",[bS]:"fire-fst-compat",[IS]:"fire-vertex","fire-js":"fire-js",[AS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Map,CS=new Map,Ql=new Map;function rp(t,e){try{t.container.addComponent(e)}catch(n){Vn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ns(t){const e=t.name;if(Ql.has(e))return Vn.debug(`There were multiple attempts to register component ${e}.`),!1;Ql.set(e,t);for(const n of Hi.values())rp(n,t);for(const n of CS.values())rp(n,t);return!0}function zu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new oo("app","Firebase",PS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=RS;function W_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gl,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw ar.create("bad-app-name",{appName:String(s)});if(n||(n=B_()),!n)throw ar.create("no-options");const i=Hi.get(s);if(i){if(Ur(n,i.options)&&Ur(r,i.config))return i;throw ar.create("duplicate-app",{appName:s})}const o=new MR(s);for(const l of Ql.values())o.addComponent(l);const c=new kS(n,r,o);return Hi.set(s,c),c}function K_(t=Gl){const e=Hi.get(t);if(!e&&t===Gl&&B_())return W_();if(!e)throw ar.create("no-app",{appName:t});return e}function sp(){return Array.from(Hi.values())}function cr(t,e,n){var r;let s=(r=SS[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const c=[`Unable to register library "${s}" with version "${e}":`];i&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vn.warn(c.join(" "));return}Ns(new Br(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="firebase-heartbeat-database",NS=1,$i="firebase-heartbeat-store";let ul=null;function G_(){return ul||(ul=QR(OS,NS,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($i)}catch(n){console.warn(n)}}}}).catch(t=>{throw ar.create("idb-open",{originalErrorMessage:t.message})})),ul}async function DS(t){try{const n=(await G_()).transaction($i),r=await n.objectStore($i).get(Q_(t));return await n.done,r}catch(e){if(e instanceof Un)Vn.warn(e.message);else{const n=ar.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vn.warn(n.message)}}}async function ip(t,e){try{const r=(await G_()).transaction($i,"readwrite");await r.objectStore($i).put(e,Q_(t)),await r.done}catch(n){if(n instanceof Un)Vn.warn(n.message);else{const r=ar.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vn.warn(r.message)}}}function Q_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=1024,xS=30;class MS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=op();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>xS){const o=US(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=op(),{heartbeatsToSend:r,unsentEntries:s}=LS(this._heartbeatsCache.heartbeats),i=Ra(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Vn.warn(n),""}}}function op(){return new Date().toISOString().substring(0,10)}function LS(t,e=VS){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),ap(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ap(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bR()?AR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ip(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ip(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ap(t){return Ra(JSON.stringify({version:2,heartbeats:t})).length}function US(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t){Ns(new Br("platform-logger",e=>new XR(e),"PRIVATE")),Ns(new Br("heartbeat",e=>new MS(e),"PRIVATE")),cr(Kl,np,t),cr(Kl,np,"esm2017"),cr("fire-js","")}BS("");var jS="firebase",HS="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr(jS,HS,"app");function Wu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function J_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $S=J_,Y_=new oo("auth","Firebase",J_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new $u("@firebase/auth");function qS(t,...e){Sa.logLevel<=ve.WARN&&Sa.warn(`Auth (${$s}): ${t}`,...e)}function Xo(t,...e){Sa.logLevel<=ve.ERROR&&Sa.error(`Auth (${$s}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t,...e){throw Gu(t,...e)}function Xt(t,...e){return Gu(t,...e)}function Ku(t,e,n){const r=Object.assign(Object.assign({},$S()),{[e]:n});return new oo("auth","Firebase",r).create(e,{appName:t.name})}function Fr(t){return Ku(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zS(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&dn(t,"argument-error"),Ku(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gu(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Y_.create(t,...e)}function de(t,e,...n){if(!t)throw Gu(e,...n)}function Rn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xo(e),new Error(e)}function xn(t,e){t||Rn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WS(){return cp()==="http:"||cp()==="https:"}function cp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WS()||ER()||"connection"in navigator)?navigator.onLine:!0}function GS(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){this.shortDelay=e,this.longDelay=n,xn(n>e,"Short delay should be less than long delay!"),this.isMobile=_R()||TR()}get(){return KS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t,e){xn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YS=new co(3e4,6e4);function Ju(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qs(t,e,n,r,s={}){return Z_(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const c=ao(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:l},i);return vR()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&io(t.emulatorConfig.host)&&(h.credentials="include"),X_.fetch()(await ey(t,t.config.apiHost,n,c),h)})}async function Z_(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},QS),e);try{const s=new ZS(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ho(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const c=i.ok?o.errorMessage:o.error.message,[l,h]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ho(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ho(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ho(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Ku(t,u,h);dn(t,u)}}catch(s){if(s instanceof Un)throw s;dn(t,"network-request-failed",{message:String(s)})}}async function XS(t,e,n,r,s={}){const i=await qs(t,e,n,r,s);return"mfaPendingCredential"in i&&dn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function ey(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Qu(t.config,s):`${t.config.apiScheme}://${s}`;return JS.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class ZS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xt(this.auth,"network-request-failed")),YS.get())})}}function Ho(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Xt(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(t,e){return qs(t,"POST","/v1/accounts:delete",e)}async function Ca(t,e){return qs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tC(t,e=!1){const n=$t(t),r=await n.getIdToken(e),s=Yu(r);de(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Si(hl(s.auth_time)),issuedAtTime:Si(hl(s.iat)),expirationTime:Si(hl(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function hl(t){return Number(t)*1e3}function Yu(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xo("JWT malformed, contained fewer than 3 sections"),null;try{const s=F_(n);return s?JSON.parse(s):(Xo("Failed to decode base64 JWT payload"),null)}catch(s){return Xo("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function lp(t){const e=Yu(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Un&&nC(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function nC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Si(this.lastLoginAt),this.creationTime=Si(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(t){var e;const n=t.auth,r=await t.getIdToken(),s=await qi(t,Ca(n,{idToken:r}));de(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?ty(i.providerUserInfo):[],c=iC(t.providerData,o),l=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!(c!=null&&c.length),u=l?h:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new Yl(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function sC(t){const e=$t(t);await Pa(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iC(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function ty(t){return t.map(e=>{var{providerId:n}=e,r=Wu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(t,e){const n=await Z_(t,{},async()=>{const r=ao({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await ey(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",X_.fetch()(o,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aC(t,e){return qs(t,"POST","/v2/accounts:revokeToken",Ju(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=lp(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await oC(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ts;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(de(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(de(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ts,this.toJSON())}_performRefresh(){return Rn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qt{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Wu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Yl(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await qi(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tC(this,e)}reload(){return sC(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pa(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gt(this.auth.app))return Promise.reject(Fr(this.auth));const e=await this.getIdToken();return await qi(this,eC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,c,l,h,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,A=(c=n.tenantId)!==null&&c!==void 0?c:void 0,O=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,D=(h=n.createdAt)!==null&&h!==void 0?h:void 0,N=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:T,emailVerified:k,isAnonymous:V,providerData:F,stsTokenManager:w}=n;de(T&&w,e,"internal-error");const v=Ts.fromJSON(this.name,w);de(typeof T=="string",e,"internal-error"),Kn(d,e.name),Kn(g,e.name),de(typeof k=="boolean",e,"internal-error"),de(typeof V=="boolean",e,"internal-error"),Kn(m,e.name),Kn(E,e.name),Kn(A,e.name),Kn(O,e.name),Kn(D,e.name),Kn(N,e.name);const y=new Qt({uid:T,auth:e,email:g,emailVerified:k,displayName:d,isAnonymous:V,photoURL:E,phoneNumber:m,tenantId:A,stsTokenManager:v,createdAt:D,lastLoginAt:N});return F&&Array.isArray(F)&&(y.providerData=F.map(I=>Object.assign({},I))),O&&(y._redirectEventId=O),y}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ts;s.updateFromServerResponse(n);const i=new Qt({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Pa(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];de(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?ty(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),c=new Ts;c.updateFromIdToken(r);const l=new Qt({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Yl(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,h),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=new Map;function Sn(t){xn(t instanceof Function,"Expected a class definition");let e=up.get(t);return e?(xn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,up.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ny.type="NONE";const hp=ny;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t,e,n){return`firebase:${t}:${e}:${n}`}class ws{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Zo(this.userKey,s.apiKey,i),this.fullPersistenceKey=Zo("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ca(this.auth,{idToken:e}).catch(()=>{});return n?Qt._fromGetAccountInfoResponse(this.auth,n,e):null}return Qt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ws(Sn(hp),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||Sn(hp);const o=Zo(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const u=await h._get(o);if(u){let d;if(typeof u=="string"){const g=await Ca(e,{idToken:u}).catch(()=>{});if(!g)break;d=await Qt._fromGetAccountInfoResponse(e,g,u)}else d=Qt._fromJSON(e,u);h!==i&&(c=d),i=h;break}}catch{}const l=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ws(i,e,r):(i=l[0],c&&await i._set(o,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new ws(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ry(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cy(e))return"Blackberry";if(ly(e))return"Webos";if(sy(e))return"Safari";if((e.includes("chrome/")||iy(e))&&!e.includes("edge/"))return"Chrome";if(ay(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ry(t=yt()){return/firefox\//i.test(t)}function sy(t=yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iy(t=yt()){return/crios\//i.test(t)}function oy(t=yt()){return/iemobile/i.test(t)}function ay(t=yt()){return/android/i.test(t)}function cy(t=yt()){return/blackberry/i.test(t)}function ly(t=yt()){return/webos/i.test(t)}function Xu(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cC(t=yt()){var e;return Xu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lC(){return wR()&&document.documentMode===10}function uy(t=yt()){return Xu(t)||ay(t)||ly(t)||cy(t)||/windows phone/i.test(t)||oy(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t,e=[]){let n;switch(t){case"Browser":n=fp(yt());break;case"Worker":n=`${fp(yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$s}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,c)=>{try{const l=e(i);o(l)}catch(l){c(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(t,e={}){return qs(t,"GET","/v2/passwordPolicy",Ju(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=6;class dC{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:fC,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,c;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dp(this),this.idTokenSubscription=new dp(this),this.beforeStateQueue=new uC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Sn(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ws.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ca(this,{idToken:e}),r=await Qt._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===c)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pa(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gt(this.app))return Promise.reject(Fr(this));const n=e?$t(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gt(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gt(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hC(this),n=new dC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await aC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Sn(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await ws.create(this,[Sn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(c,this,"internal-error"),c.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Gt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qS(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function uc(t){return $t(t)}class dp{constructor(e){this.auth=e,this.observer=null,this.addObserver=kR(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gC(t){Zu=t}function mC(t){return Zu.loadJS(t)}function _C(){return Zu.gapiScript}function yC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t,e){const n=zu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ur(i,e??{}))return s;dn(s,"already-initialized")}return n.initialize({options:e})}function EC(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Sn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function TC(t,e,n){const r=uc(t);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=fy(e),{host:o,port:c}=wC(e),l=c===null?"":`:${c}`,h={url:`${i}//${o}${l}/`},u=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(Ur(h,r.config.emulator)&&Ur(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,io(o)?(H_(`${i}//${o}${l}`),$_("Auth",!0)):IC()}function fy(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wC(t){const e=fy(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:pp(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:pp(o)}}}function pp(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function IC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rn("not implemented")}_getIdTokenResponse(e){return Rn("not implemented")}_linkToIdToken(e,n){return Rn("not implemented")}_getReauthenticationResolver(e){return Rn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Is(t,e){return XS(t,"POST","/v1/accounts:signInWithIdp",Ju(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="http://localhost";class jr extends dy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new jr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Wu(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new jr(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Is(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Is(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Is(e,n)}buildRequest(){const e={requestUri:bC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ao(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends eh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends lo{constructor(){super("facebook.com")}static credential(e){return jr._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends lo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return jr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return tr.credential(n,r)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends lo{constructor(){super("github.com")}static credential(e){return jr._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends lo{constructor(){super("twitter.com")}static credential(e,n){return jr._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return rr.credential(n,r)}catch{return null}}}rr.TWITTER_SIGN_IN_METHOD="twitter.com";rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Qt._fromIdTokenResponse(e,r,s),o=gp(r);return new Ds({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=gp(r);return new Ds({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function gp(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends Un{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ka.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ka(e,n,r,s)}}function py(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ka._fromErrorAndOperation(t,i,e,r):i})}async function AC(t,e,n=!1){const r=await qi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ds._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(t,e,n=!1){const{auth:r}=t;if(Gt(r.app))return Promise.reject(Fr(r));const s="reauthenticate";try{const i=await qi(t,py(r,s,e,t),n);de(i.idToken,r,"internal-error");const o=Yu(i.idToken);de(o,r,"internal-error");const{sub:c}=o;return de(t.uid===c,r,"user-mismatch"),Ds._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&dn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(t,e,n=!1){if(Gt(t.app))return Promise.reject(Fr(t));const r="signIn",s=await py(t,r,e),i=await Ds._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function CC(t,e,n,r){return $t(t).onIdTokenChanged(e,n,r)}function PC(t,e,n){return $t(t).beforeAuthStateChanged(e,n)}function ON(t,e,n,r){return $t(t).onAuthStateChanged(e,n,r)}function NN(t){return $t(t).signOut()}const Oa="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oa,"1"),this.storage.removeItem(Oa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=1e3,OC=10;class my extends gy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);lC()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,OC):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}my.type="LOCAL";const NC=my;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y extends gy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_y.type="SESSION";const yy=_y;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new hc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(o).map(async h=>h(n.origin,i)),l=await DC(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((c,l)=>{const h=th("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const g=d;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(g.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return window}function xC(t){ln().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(){return typeof ln().WorkerGlobalScope<"u"&&typeof ln().importScripts=="function"}async function MC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LC(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FC(){return vy()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="firebaseLocalStorageDb",UC=1,Na="firebaseLocalStorage",Ty="fbase_key";class uo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fc(t,e){return t.transaction([Na],e?"readwrite":"readonly").objectStore(Na)}function BC(){const t=indexedDB.deleteDatabase(Ey);return new uo(t).toPromise()}function Xl(){const t=indexedDB.open(Ey,UC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Na,{keyPath:Ty})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Na)?e(r):(r.close(),await BC(),e(await Xl()))})})}async function mp(t,e,n){const r=fc(t,!0).put({[Ty]:e,value:n});return new uo(r).toPromise()}async function jC(t,e){const n=fc(t,!1).get(e),r=await new uo(n).toPromise();return r===void 0?null:r.value}function _p(t,e){const n=fc(t,!0).delete(e);return new uo(n).toPromise()}const HC=800,$C=3;class wy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xl(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$C)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hc._getInstance(FC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await MC(),!this.activeServiceWorker)return;this.sender=new VC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xl();return await mp(e,Oa,"1"),await _p(e,Oa),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mp(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_p(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=fc(s,!1).getAll();return new uo(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wy.type="LOCAL";const qC=wy;new co(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t,e){return e?Sn(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends dy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Is(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Is(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Is(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zC(t){return SC(t.auth,new nh(t),t.bypassAuthState)}function WC(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),RC(n,new nh(t),t.bypassAuthState)}async function KC(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),AC(n,new nh(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:c}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(l))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zC;case"linkViaPopup":case"linkViaRedirect":return KC;case"reauthViaPopup":case"reauthViaRedirect":return WC;default:dn(this.auth,"internal-error")}}resolve(e){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=new co(2e3,1e4);async function DN(t,e,n){if(Gt(t.app))return Promise.reject(Xt(t,"operation-not-supported-in-this-environment"));const r=uc(t);zS(t,e,eh);const s=Iy(r,n);return new kr(r,"signInViaPopup",e,s).executeNotNull()}class kr extends by{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,kr.currentPopupAction&&kr.currentPopupAction.cancel(),kr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){xn(this.filter.length===1,"Popup operations only handle one event");const e=th();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GC.get())};e()}}kr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="pendingRedirect",ea=new Map;class JC extends by{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ea.get(this.auth._key());if(!e){try{const r=await YC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ea.set(this.auth._key(),e)}return this.bypassAuthState||ea.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YC(t,e){const n=eP(e),r=ZC(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function XC(t,e){ea.set(t._key(),e)}function ZC(t){return Sn(t._redirectPersistence)}function eP(t){return Zo(QC,t.config.apiKey,t.name)}async function tP(t,e,n=!1){if(Gt(t.app))return Promise.reject(Fr(t));const r=uc(t),s=Iy(r,e),o=await new JC(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=10*60*1e3;class rP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ay(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xt(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nP&&this.cachedEventUids.clear(),this.cachedEventUids.has(yp(e))}saveEventToCache(e){this.cachedEventUids.add(yp(e)),this.lastProcessedEventTime=Date.now()}}function yp(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ay({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ay(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(t,e={}){return qs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aP=/^https?/;async function cP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iP(t);for(const n of e)try{if(lP(n))return}catch{}dn(t,"unauthorized-domain")}function lP(t){const e=Jl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!aP.test(n))return!1;if(oP.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=new co(3e4,6e4);function vp(){const t=ln().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hP(t){return new Promise((e,n)=>{var r,s,i;function o(){vp(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vp(),n(Xt(t,"network-request-failed"))},timeout:uP.get()})}if(!((s=(r=ln().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ln().gapi)===null||i===void 0)&&i.load)o();else{const c=yC("iframefcb");return ln()[c]=()=>{gapi.load?o():n(Xt(t,"network-request-failed"))},mC(`${_C()}?onload=${c}`).catch(l=>n(l))}}).catch(e=>{throw ta=null,e})}let ta=null;function fP(t){return ta=ta||hP(t),ta}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=new co(5e3,15e3),pP="__/auth/iframe",gP="emulator/auth/iframe",mP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_P=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yP(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Qu(e,gP):`https://${t.config.authDomain}/${pP}`,r={apiKey:e.apiKey,appName:t.name,v:$s},s=_P.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ao(r).slice(1)}`}async function vP(t){const e=await fP(t),n=ln().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:yP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mP,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Xt(t,"network-request-failed"),c=ln().setTimeout(()=>{i(o)},dP.get());function l(){ln().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TP=500,wP=600,IP="_blank",bP="http://localhost";class Ep{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AP(t,e,n,r=TP,s=wP){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l=Object.assign(Object.assign({},EP),{width:r.toString(),height:s.toString(),top:i,left:o}),h=yt().toLowerCase();n&&(c=iy(h)?IP:n),ry(h)&&(e=e||bP,l.scrollbars="yes");const u=Object.entries(l).reduce((g,[m,E])=>`${g}${m}=${E},`,"");if(cC(h)&&c!=="_self")return RP(e||"",c),new Ep(null);const d=window.open(e||"",c,u);de(d,t,"popup-blocked");try{d.focus()}catch{}return new Ep(d)}function RP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="__/auth/handler",CP="emulator/auth/handler",PP=encodeURIComponent("fac");async function Tp(t,e,n,r,s,i){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$s,eventId:s};if(e instanceof eh){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",PR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof lo){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const u of Object.keys(c))c[u]===void 0&&delete c[u];const l=await t._getAppCheckToken(),h=l?`#${PP}=${encodeURIComponent(l)}`:"";return`${kP(t)}?${ao(c).slice(1)}${h}`}function kP({config:t}){return t.emulator?Qu(t,CP):`https://${t.authDomain}/${SP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl="webStorageSupport";class OP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yy,this._completeRedirectFn=tP,this._overrideRedirectResult=XC}async _openPopup(e,n,r,s){var i;xn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Tp(e,n,r,Jl(),s);return AP(e,o,th())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Tp(e,n,r,Jl(),s);return xC(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(xn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await vP(e),r=new rP(e);return n.register("authEvent",s=>(de(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fl,{type:fl},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[fl];o!==void 0&&n(!!o),dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uy()||sy()||Xu()}}const NP=OP;var wp="@firebase/auth",Ip="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xP(t){Ns(new Br("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hy(t)},h=new pC(r,s,i,l);return EC(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ns(new Br("auth-internal",e=>{const n=uc(e.getProvider("auth").getImmediate());return(r=>new DP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(wp,Ip,VP(t)),cr(wp,Ip,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=5*60,LP=j_("authIdTokenMaxAge")||MP;let bp=null;const FP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LP)return;const s=n==null?void 0:n.token;bp!==s&&(bp=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function UP(t=K_()){const e=zu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vC(t,{popupRedirectResolver:NP,persistence:[qC,NC,yy]}),r=j_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=FP(i.toString());PC(n,o,()=>o(n.currentUser)),CC(n,c=>o(c))}}const s=U_("auth");return s&&TC(n,`http://${s}`),n}function BP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}gC({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Xt("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",BP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xP("Browser");var Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lr,Ry;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,v){function y(){}y.prototype=v.prototype,w.D=v.prototype,w.prototype=new y,w.prototype.constructor=w,w.C=function(I,P,S){for(var b=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)b[ge-2]=arguments[ge];return v.prototype[P].apply(I,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(w,v,y){y||(y=0);var I=Array(16);if(typeof v=="string")for(var P=0;16>P;++P)I[P]=v.charCodeAt(y++)|v.charCodeAt(y++)<<8|v.charCodeAt(y++)<<16|v.charCodeAt(y++)<<24;else for(P=0;16>P;++P)I[P]=v[y++]|v[y++]<<8|v[y++]<<16|v[y++]<<24;v=w.g[0],y=w.g[1],P=w.g[2];var S=w.g[3],b=v+(S^y&(P^S))+I[0]+3614090360&4294967295;v=y+(b<<7&4294967295|b>>>25),b=S+(P^v&(y^P))+I[1]+3905402710&4294967295,S=v+(b<<12&4294967295|b>>>20),b=P+(y^S&(v^y))+I[2]+606105819&4294967295,P=S+(b<<17&4294967295|b>>>15),b=y+(v^P&(S^v))+I[3]+3250441966&4294967295,y=P+(b<<22&4294967295|b>>>10),b=v+(S^y&(P^S))+I[4]+4118548399&4294967295,v=y+(b<<7&4294967295|b>>>25),b=S+(P^v&(y^P))+I[5]+1200080426&4294967295,S=v+(b<<12&4294967295|b>>>20),b=P+(y^S&(v^y))+I[6]+2821735955&4294967295,P=S+(b<<17&4294967295|b>>>15),b=y+(v^P&(S^v))+I[7]+4249261313&4294967295,y=P+(b<<22&4294967295|b>>>10),b=v+(S^y&(P^S))+I[8]+1770035416&4294967295,v=y+(b<<7&4294967295|b>>>25),b=S+(P^v&(y^P))+I[9]+2336552879&4294967295,S=v+(b<<12&4294967295|b>>>20),b=P+(y^S&(v^y))+I[10]+4294925233&4294967295,P=S+(b<<17&4294967295|b>>>15),b=y+(v^P&(S^v))+I[11]+2304563134&4294967295,y=P+(b<<22&4294967295|b>>>10),b=v+(S^y&(P^S))+I[12]+1804603682&4294967295,v=y+(b<<7&4294967295|b>>>25),b=S+(P^v&(y^P))+I[13]+4254626195&4294967295,S=v+(b<<12&4294967295|b>>>20),b=P+(y^S&(v^y))+I[14]+2792965006&4294967295,P=S+(b<<17&4294967295|b>>>15),b=y+(v^P&(S^v))+I[15]+1236535329&4294967295,y=P+(b<<22&4294967295|b>>>10),b=v+(P^S&(y^P))+I[1]+4129170786&4294967295,v=y+(b<<5&4294967295|b>>>27),b=S+(y^P&(v^y))+I[6]+3225465664&4294967295,S=v+(b<<9&4294967295|b>>>23),b=P+(v^y&(S^v))+I[11]+643717713&4294967295,P=S+(b<<14&4294967295|b>>>18),b=y+(S^v&(P^S))+I[0]+3921069994&4294967295,y=P+(b<<20&4294967295|b>>>12),b=v+(P^S&(y^P))+I[5]+3593408605&4294967295,v=y+(b<<5&4294967295|b>>>27),b=S+(y^P&(v^y))+I[10]+38016083&4294967295,S=v+(b<<9&4294967295|b>>>23),b=P+(v^y&(S^v))+I[15]+3634488961&4294967295,P=S+(b<<14&4294967295|b>>>18),b=y+(S^v&(P^S))+I[4]+3889429448&4294967295,y=P+(b<<20&4294967295|b>>>12),b=v+(P^S&(y^P))+I[9]+568446438&4294967295,v=y+(b<<5&4294967295|b>>>27),b=S+(y^P&(v^y))+I[14]+3275163606&4294967295,S=v+(b<<9&4294967295|b>>>23),b=P+(v^y&(S^v))+I[3]+4107603335&4294967295,P=S+(b<<14&4294967295|b>>>18),b=y+(S^v&(P^S))+I[8]+1163531501&4294967295,y=P+(b<<20&4294967295|b>>>12),b=v+(P^S&(y^P))+I[13]+2850285829&4294967295,v=y+(b<<5&4294967295|b>>>27),b=S+(y^P&(v^y))+I[2]+4243563512&4294967295,S=v+(b<<9&4294967295|b>>>23),b=P+(v^y&(S^v))+I[7]+1735328473&4294967295,P=S+(b<<14&4294967295|b>>>18),b=y+(S^v&(P^S))+I[12]+2368359562&4294967295,y=P+(b<<20&4294967295|b>>>12),b=v+(y^P^S)+I[5]+4294588738&4294967295,v=y+(b<<4&4294967295|b>>>28),b=S+(v^y^P)+I[8]+2272392833&4294967295,S=v+(b<<11&4294967295|b>>>21),b=P+(S^v^y)+I[11]+1839030562&4294967295,P=S+(b<<16&4294967295|b>>>16),b=y+(P^S^v)+I[14]+4259657740&4294967295,y=P+(b<<23&4294967295|b>>>9),b=v+(y^P^S)+I[1]+2763975236&4294967295,v=y+(b<<4&4294967295|b>>>28),b=S+(v^y^P)+I[4]+1272893353&4294967295,S=v+(b<<11&4294967295|b>>>21),b=P+(S^v^y)+I[7]+4139469664&4294967295,P=S+(b<<16&4294967295|b>>>16),b=y+(P^S^v)+I[10]+3200236656&4294967295,y=P+(b<<23&4294967295|b>>>9),b=v+(y^P^S)+I[13]+681279174&4294967295,v=y+(b<<4&4294967295|b>>>28),b=S+(v^y^P)+I[0]+3936430074&4294967295,S=v+(b<<11&4294967295|b>>>21),b=P+(S^v^y)+I[3]+3572445317&4294967295,P=S+(b<<16&4294967295|b>>>16),b=y+(P^S^v)+I[6]+76029189&4294967295,y=P+(b<<23&4294967295|b>>>9),b=v+(y^P^S)+I[9]+3654602809&4294967295,v=y+(b<<4&4294967295|b>>>28),b=S+(v^y^P)+I[12]+3873151461&4294967295,S=v+(b<<11&4294967295|b>>>21),b=P+(S^v^y)+I[15]+530742520&4294967295,P=S+(b<<16&4294967295|b>>>16),b=y+(P^S^v)+I[2]+3299628645&4294967295,y=P+(b<<23&4294967295|b>>>9),b=v+(P^(y|~S))+I[0]+4096336452&4294967295,v=y+(b<<6&4294967295|b>>>26),b=S+(y^(v|~P))+I[7]+1126891415&4294967295,S=v+(b<<10&4294967295|b>>>22),b=P+(v^(S|~y))+I[14]+2878612391&4294967295,P=S+(b<<15&4294967295|b>>>17),b=y+(S^(P|~v))+I[5]+4237533241&4294967295,y=P+(b<<21&4294967295|b>>>11),b=v+(P^(y|~S))+I[12]+1700485571&4294967295,v=y+(b<<6&4294967295|b>>>26),b=S+(y^(v|~P))+I[3]+2399980690&4294967295,S=v+(b<<10&4294967295|b>>>22),b=P+(v^(S|~y))+I[10]+4293915773&4294967295,P=S+(b<<15&4294967295|b>>>17),b=y+(S^(P|~v))+I[1]+2240044497&4294967295,y=P+(b<<21&4294967295|b>>>11),b=v+(P^(y|~S))+I[8]+1873313359&4294967295,v=y+(b<<6&4294967295|b>>>26),b=S+(y^(v|~P))+I[15]+4264355552&4294967295,S=v+(b<<10&4294967295|b>>>22),b=P+(v^(S|~y))+I[6]+2734768916&4294967295,P=S+(b<<15&4294967295|b>>>17),b=y+(S^(P|~v))+I[13]+1309151649&4294967295,y=P+(b<<21&4294967295|b>>>11),b=v+(P^(y|~S))+I[4]+4149444226&4294967295,v=y+(b<<6&4294967295|b>>>26),b=S+(y^(v|~P))+I[11]+3174756917&4294967295,S=v+(b<<10&4294967295|b>>>22),b=P+(v^(S|~y))+I[2]+718787259&4294967295,P=S+(b<<15&4294967295|b>>>17),b=y+(S^(P|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(P+(b<<21&4294967295|b>>>11))&4294967295,w.g[2]=w.g[2]+P&4294967295,w.g[3]=w.g[3]+S&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var y=v-this.blockSize,I=this.B,P=this.h,S=0;S<v;){if(P==0)for(;S<=y;)s(this,w,S),S+=this.blockSize;if(typeof w=="string"){for(;S<v;)if(I[P++]=w.charCodeAt(S++),P==this.blockSize){s(this,I),P=0;break}}else for(;S<v;)if(I[P++]=w[S++],P==this.blockSize){s(this,I),P=0;break}}this.h=P,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var y=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=y&255,y/=256;for(this.u(w),w=Array(16),v=y=0;4>v;++v)for(var I=0;32>I;I+=8)w[y++]=this.g[v]>>>I&255;return w};function i(w,v){var y=c;return Object.prototype.hasOwnProperty.call(y,w)?y[w]:y[w]=v(w)}function o(w,v){this.h=v;for(var y=[],I=!0,P=w.length-1;0<=P;P--){var S=w[P]|0;I&&S==v||(y[P]=S,I=!1)}this.g=y}var c={};function l(w){return-128<=w&&128>w?i(w,function(v){return new o([v|0],0>v?-1:0)}):new o([w|0],0>w?-1:0)}function h(w){if(isNaN(w)||!isFinite(w))return d;if(0>w)return O(h(-w));for(var v=[],y=1,I=0;w>=y;I++)v[I]=w/y|0,y*=4294967296;return new o(v,0)}function u(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return O(u(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=h(Math.pow(v,8)),I=d,P=0;P<w.length;P+=8){var S=Math.min(8,w.length-P),b=parseInt(w.substring(P,P+S),v);8>S?(S=h(Math.pow(v,S)),I=I.j(S).add(h(b))):(I=I.j(y),I=I.add(h(b)))}return I}var d=l(0),g=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(A(this))return-O(this).m();for(var w=0,v=1,y=0;y<this.g.length;y++){var I=this.i(y);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(E(this))return"0";if(A(this))return"-"+O(this).toString(w);for(var v=h(Math.pow(w,6)),y=this,I="";;){var P=k(y,v).g;y=D(y,P.j(v));var S=((0<y.g.length?y.g[0]:y.h)>>>0).toString(w);if(y=P,E(y))return S+I;for(;6>S.length;)S="0"+S;I=S+I}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function E(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function A(w){return w.h==-1}t.l=function(w){return w=D(this,w),A(w)?-1:E(w)?0:1};function O(w){for(var v=w.g.length,y=[],I=0;I<v;I++)y[I]=~w.g[I];return new o(y,~w.h).add(g)}t.abs=function(){return A(this)?O(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),y=[],I=0,P=0;P<=v;P++){var S=I+(this.i(P)&65535)+(w.i(P)&65535),b=(S>>>16)+(this.i(P)>>>16)+(w.i(P)>>>16);I=b>>>16,S&=65535,b&=65535,y[P]=b<<16|S}return new o(y,y[y.length-1]&-2147483648?-1:0)};function D(w,v){return w.add(O(v))}t.j=function(w){if(E(this)||E(w))return d;if(A(this))return A(w)?O(this).j(O(w)):O(O(this).j(w));if(A(w))return O(this.j(O(w)));if(0>this.l(m)&&0>w.l(m))return h(this.m()*w.m());for(var v=this.g.length+w.g.length,y=[],I=0;I<2*v;I++)y[I]=0;for(I=0;I<this.g.length;I++)for(var P=0;P<w.g.length;P++){var S=this.i(I)>>>16,b=this.i(I)&65535,ge=w.i(P)>>>16,ye=w.i(P)&65535;y[2*I+2*P]+=b*ye,N(y,2*I+2*P),y[2*I+2*P+1]+=S*ye,N(y,2*I+2*P+1),y[2*I+2*P+1]+=b*ge,N(y,2*I+2*P+1),y[2*I+2*P+2]+=S*ge,N(y,2*I+2*P+2)}for(I=0;I<v;I++)y[I]=y[2*I+1]<<16|y[2*I];for(I=v;I<2*v;I++)y[I]=0;return new o(y,0)};function N(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function T(w,v){this.g=w,this.h=v}function k(w,v){if(E(v))throw Error("division by zero");if(E(w))return new T(d,d);if(A(w))return v=k(O(w),v),new T(O(v.g),O(v.h));if(A(v))return v=k(w,O(v)),new T(O(v.g),v.h);if(30<w.g.length){if(A(w)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var y=g,I=v;0>=I.l(w);)y=V(y),I=V(I);var P=F(y,1),S=F(I,1);for(I=F(I,2),y=F(y,2);!E(I);){var b=S.add(I);0>=b.l(w)&&(P=P.add(y),S=b),I=F(I,1),y=F(y,1)}return v=D(w,P.j(v)),new T(P,v)}for(P=d;0<=w.l(v);){for(y=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(y)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),S=h(y),b=S.j(v);A(b)||0<b.l(w);)y-=I,S=h(y),b=S.j(v);E(S)&&(S=g),P=P.add(S),w=D(w,b)}return new T(P,w)}t.A=function(w){return k(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),y=[],I=0;I<v;I++)y[I]=this.i(I)&w.i(I);return new o(y,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),y=[],I=0;I<v;I++)y[I]=this.i(I)|w.i(I);return new o(y,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),y=[],I=0;I<v;I++)y[I]=this.i(I)^w.i(I);return new o(y,this.h^w.h)};function V(w){for(var v=w.g.length+1,y=[],I=0;I<v;I++)y[I]=w.i(I)<<1|w.i(I-1)>>>31;return new o(y,w.h)}function F(w,v){var y=v>>5;v%=32;for(var I=w.g.length-y,P=[],S=0;S<I;S++)P[S]=0<v?w.i(S+y)>>>v|w.i(S+y+1)<<32-v:w.i(S+y);return new o(P,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ry=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=u,lr=o}).apply(typeof Ap<"u"?Ap:typeof self<"u"?self:typeof window<"u"?window:{});var $o=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sy,di,Cy,na,Zl,Py,ky,Oy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,p){return a==Array.prototype||a==Object.prototype||(a[f]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof $o=="object"&&$o];for(var f=0;f<a.length;++f){var p=a[f];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function s(a,f){if(f)e:{var p=r;a=a.split(".");for(var _=0;_<a.length-1;_++){var x=a[_];if(!(x in p))break e;p=p[x]}a=a[a.length-1],_=p[a],f=f(_),f!=_&&f!=null&&e(p,a,{configurable:!0,writable:!0,value:f})}}function i(a,f){a instanceof String&&(a+="");var p=0,_=!1,x={next:function(){if(!_&&p<a.length){var L=p++;return{value:f(L,a[L]),done:!1}}return _=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}s("Array.prototype.values",function(a){return a||function(){return i(this,function(f,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function l(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function h(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function u(a,f,p){return a.call.apply(a.bind,arguments)}function d(a,f,p){if(!a)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,_),a.apply(f,x)}}return function(){return a.apply(f,arguments)}}function g(a,f,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,g.apply(null,arguments)}function m(a,f){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function E(a,f){function p(){}p.prototype=f.prototype,a.aa=f.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(_,x,L){for(var G=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)G[Ne-2]=arguments[Ne];return f.prototype[x].apply(_,G)}}function A(a){const f=a.length;if(0<f){const p=Array(f);for(let _=0;_<f;_++)p[_]=a[_];return p}return[]}function O(a,f){for(let p=1;p<arguments.length;p++){const _=arguments[p];if(l(_)){const x=a.length||0,L=_.length||0;a.length=x+L;for(let G=0;G<L;G++)a[x+G]=_[G]}else a.push(_)}}class D{constructor(f,p){this.i=f,this.j=p,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function N(a){return/^[\s\xa0]*$/.test(a)}function T(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function k(a){return k[" "](a),a}k[" "]=function(){};var V=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function F(a,f,p){for(const _ in a)f.call(p,a[_],_,a)}function w(a,f){for(const p in a)f.call(void 0,a[p],p,a)}function v(a){const f={};for(const p in a)f[p]=a[p];return f}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,f){let p,_;for(let x=1;x<arguments.length;x++){_=arguments[x];for(p in _)a[p]=_[p];for(let L=0;L<y.length;L++)p=y[L],Object.prototype.hasOwnProperty.call(_,p)&&(a[p]=_[p])}}function P(a){var f=1;a=a.split(":");const p=[];for(;0<f&&a.length;)p.push(a.shift()),f--;return a.length&&p.push(a.join(":")),p}function S(a){c.setTimeout(()=>{throw a},0)}function b(){var a=Le;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class ge{constructor(){this.h=this.g=null}add(f,p){const _=ye.get();_.set(f,p),this.h?this.h.next=_:this.g=_,this.h=_}}var ye=new D(()=>new te,a=>a.reset());class te{constructor(){this.next=this.g=this.h=null}set(f,p){this.h=f,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ee=!1,Le=new ge,qt=()=>{const a=c.Promise.resolve(void 0);ue=()=>{a.then(Dt)}};var Dt=()=>{for(var a;a=b();){try{a.h.call(a.g)}catch(p){S(p)}var f=ye;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}ee=!1};function Fe(){this.s=this.s,this.C=this.C}Fe.prototype.s=!1,Fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ue(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}Ue.prototype.h=function(){this.defaultPrevented=!0};var Bn=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};c.addEventListener("test",p,f),c.removeEventListener("test",p,f)}catch{}return a}();function tn(a,f){if(Ue.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(V){e:{try{k(f.nodeName);var x=!0;break e}catch{}x=!1}x||(f=null)}}else p=="mouseover"?f=a.fromElement:p=="mouseout"&&(f=a.toElement);this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:bt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&tn.aa.h.call(this)}}E(tn,Ue);var bt={2:"touch",3:"pen",4:"mouse"};tn.prototype.h=function(){tn.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),X=0;function Y(a,f,p,_,x){this.listener=a,this.proxy=null,this.src=f,this.type=p,this.capture=!!_,this.ha=x,this.key=++X,this.da=this.fa=!1}function ne(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Te(a){this.src=a,this.g={},this.h=0}Te.prototype.add=function(a,f,p,_,x){var L=a.toString();a=this.g[L],a||(a=this.g[L]=[],this.h++);var G=R(a,f,_,x);return-1<G?(f=a[G],p||(f.fa=!1)):(f=new Y(f,this.src,L,!!_,x),f.fa=p,a.push(f)),f};function ke(a,f){var p=f.type;if(p in a.g){var _=a.g[p],x=Array.prototype.indexOf.call(_,f,void 0),L;(L=0<=x)&&Array.prototype.splice.call(_,x,1),L&&(ne(f),a.g[p].length==0&&(delete a.g[p],a.h--))}}function R(a,f,p,_){for(var x=0;x<a.length;++x){var L=a[x];if(!L.da&&L.listener==f&&L.capture==!!p&&L.ha==_)return x}return-1}var C="closure_lm_"+(1e6*Math.random()|0),M={};function H(a,f,p,_,x){if(Array.isArray(f)){for(var L=0;L<f.length;L++)H(a,f[L],p,_,x);return null}return p=se(p),a&&a[B]?a.K(f,p,h(_)?!!_.capture:!1,x):U(a,f,p,!1,_,x)}function U(a,f,p,_,x,L){if(!f)throw Error("Invalid event type");var G=h(x)?!!x.capture:!!x,Ne=ie(a);if(Ne||(a[C]=Ne=new Te(a)),p=Ne.add(f,p,_,G,L),p.proxy)return p;if(_=$(),p.proxy=_,_.src=a,_.listener=p,a.addEventListener)Bn||(x=G),x===void 0&&(x=!1),a.addEventListener(f.toString(),_,x);else if(a.attachEvent)a.attachEvent(W(f.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function $(){function a(p){return f.call(a.src,a.listener,p)}const f=z;return a}function Q(a,f,p,_,x){if(Array.isArray(f))for(var L=0;L<f.length;L++)Q(a,f[L],p,_,x);else _=h(_)?!!_.capture:!!_,p=se(p),a&&a[B]?(a=a.i,f=String(f).toString(),f in a.g&&(L=a.g[f],p=R(L,p,_,x),-1<p&&(ne(L[p]),Array.prototype.splice.call(L,p,1),L.length==0&&(delete a.g[f],a.h--)))):a&&(a=ie(a))&&(f=a.g[f.toString()],a=-1,f&&(a=R(f,p,_,x)),(p=-1<a?f[a]:null)&&K(p))}function K(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[B])ke(f.i,a);else{var p=a.type,_=a.proxy;f.removeEventListener?f.removeEventListener(p,_,a.capture):f.detachEvent?f.detachEvent(W(p),_):f.addListener&&f.removeListener&&f.removeListener(_),(p=ie(f))?(ke(p,a),p.h==0&&(p.src=null,f[C]=null)):ne(a)}}}function W(a){return a in M?M[a]:M[a]="on"+a}function z(a,f){if(a.da)a=!0;else{f=new tn(f,this);var p=a.listener,_=a.ha||a.src;a.fa&&K(a),a=p.call(_,f)}return a}function ie(a){return a=a[C],a instanceof Te?a:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function se(a){return typeof a=="function"?a:(a[J]||(a[J]=function(f){return a.handleEvent(f)}),a[J])}function re(){Fe.call(this),this.i=new Te(this),this.M=this,this.F=null}E(re,Fe),re.prototype[B]=!0,re.prototype.removeEventListener=function(a,f,p,_){Q(this,a,f,p,_)};function le(a,f){var p,_=a.F;if(_)for(p=[];_;_=_.F)p.push(_);if(a=a.M,_=f.type||f,typeof f=="string")f=new Ue(f,a);else if(f instanceof Ue)f.target=f.target||a;else{var x=f;f=new Ue(_,a),I(f,x)}if(x=!0,p)for(var L=p.length-1;0<=L;L--){var G=f.g=p[L];x=Re(G,_,!0,f)&&x}if(G=f.g=a,x=Re(G,_,!0,f)&&x,x=Re(G,_,!1,f)&&x,p)for(L=0;L<p.length;L++)G=f.g=p[L],x=Re(G,_,!1,f)&&x}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var p=a.g[f],_=0;_<p.length;_++)ne(p[_]);delete a.g[f],a.h--}}this.F=null},re.prototype.K=function(a,f,p,_){return this.i.add(String(a),f,!1,p,_)},re.prototype.L=function(a,f,p,_){return this.i.add(String(a),f,!0,p,_)};function Re(a,f,p,_){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var x=!0,L=0;L<f.length;++L){var G=f[L];if(G&&!G.da&&G.capture==p){var Ne=G.listener,st=G.ha||G.src;G.fa&&ke(a.i,G),x=Ne.call(st,_)!==!1&&x}}return x&&!_.defaultPrevented}function Ie(a,f,p){if(typeof a=="function")p&&(a=g(a,p));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:c.setTimeout(a,f||0)}function ut(a){a.g=Ie(()=>{a.g=null,a.i&&(a.i=!1,ut(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class Ze extends Fe{constructor(f,p){super(),this.m=f,this.l=p,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ut(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rt(a){Fe.call(this),this.h=a,this.g={}}E(rt,Fe);var ht=[];function jn(a){F(a.g,function(f,p){this.g.hasOwnProperty(p)&&K(f)},a),a.g={}}rt.prototype.N=function(){rt.aa.N.call(this),jn(this)},rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jr=c.JSON.stringify,vt=c.JSON.parse,Vt=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Yr(){}Yr.prototype.h=null;function xh(a){return a.h||(a.h=a.i())}function Mh(){}var Qs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ac(){Ue.call(this,"d")}E(Ac,Ue);function Rc(){Ue.call(this,"c")}E(Rc,Ue);var yr={},Lh=null;function mo(){return Lh=Lh||new re}yr.La="serverreachability";function Fh(a){Ue.call(this,yr.La,a)}E(Fh,Ue);function Js(a){const f=mo();le(f,new Fh(f))}yr.STAT_EVENT="statevent";function Uh(a,f){Ue.call(this,yr.STAT_EVENT,a),this.stat=f}E(Uh,Ue);function Et(a){const f=mo();le(f,new Uh(f,a))}yr.Ma="timingevent";function Bh(a,f){Ue.call(this,yr.Ma,a),this.size=f}E(Bh,Ue);function Ys(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},f)}function Xs(){this.g=!0}Xs.prototype.xa=function(){this.g=!1};function nE(a,f,p,_,x,L){a.info(function(){if(a.g)if(L)for(var G="",Ne=L.split("&"),st=0;st<Ne.length;st++){var be=Ne[st].split("=");if(1<be.length){var ft=be[0];be=be[1];var dt=ft.split("_");G=2<=dt.length&&dt[1]=="type"?G+(ft+"="+be+"&"):G+(ft+"=redacted&")}}else G=null;else G=L;return"XMLHTTP REQ ("+_+") [attempt "+x+"]: "+f+`
`+p+`
`+G})}function rE(a,f,p,_,x,L,G){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+x+"]: "+f+`
`+p+`
`+L+" "+G})}function Xr(a,f,p,_){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+iE(a,p)+(_?" "+_:"")})}function sE(a,f){a.info(function(){return"TIMEOUT: "+f})}Xs.prototype.info=function(){};function iE(a,f){if(!a.g)return f;if(!f)return null;try{var p=JSON.parse(f);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var _=p[a];if(!(2>_.length)){var x=_[1];if(Array.isArray(x)&&!(1>x.length)){var L=x[0];if(L!="noop"&&L!="stop"&&L!="close")for(var G=1;G<x.length;G++)x[G]=""}}}}return Jr(p)}catch{return f}}var _o={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sc;function yo(){}E(yo,Yr),yo.prototype.g=function(){return new XMLHttpRequest},yo.prototype.i=function(){return{}},Sc=new yo;function Hn(a,f,p,_){this.j=a,this.i=f,this.l=p,this.R=_||1,this.U=new rt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hh}function Hh(){this.i=null,this.g="",this.h=!1}var $h={},Cc={};function Pc(a,f,p){a.L=1,a.v=wo(_n(f)),a.m=p,a.P=!0,qh(a,null)}function qh(a,f){a.F=Date.now(),vo(a),a.A=_n(a.v);var p=a.A,_=a.R;Array.isArray(_)||(_=[String(_)]),sf(p.i,"t",_),a.C=0,p=a.j.J,a.h=new Hh,a.g=If(a.j,p?f:null,!a.m),0<a.O&&(a.M=new Ze(g(a.Y,a,a.g),a.O)),f=a.U,p=a.g,_=a.ca;var x="readystatechange";Array.isArray(x)||(x&&(ht[0]=x.toString()),x=ht);for(var L=0;L<x.length;L++){var G=H(p,x[L],_||f.handleEvent,!1,f.h||f);if(!G)break;f.g[G.key]=G}f=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),Js(),nE(a.i,a.u,a.A,a.l,a.R,a.m)}Hn.prototype.ca=function(a){a=a.target;const f=this.M;f&&yn(a)==3?f.j():this.Y(a)},Hn.prototype.Y=function(a){try{if(a==this.g)e:{const dt=yn(this.g);var f=this.g.Ba();const ts=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||ff(this.g)))){this.J||dt!=4||f==7||(f==8||0>=ts?Js(3):Js(2)),kc(this);var p=this.g.Z();this.X=p;t:if(zh(this)){var _=ff(this.g);a="";var x=_.length,L=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vr(this),Zs(this);var G="";break t}this.h.i=new c.TextDecoder}for(f=0;f<x;f++)this.h.h=!0,a+=this.h.i.decode(_[f],{stream:!(L&&f==x-1)});_.length=0,this.h.g+=a,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=p==200,rE(this.i,this.u,this.A,this.l,this.R,dt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,st=this.g;if((Ne=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(Ne)){var be=Ne;break t}}be=null}if(p=be)Xr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oc(this,p);else{this.o=!1,this.s=3,Et(12),vr(this),Zs(this);break e}}if(this.P){p=!0;let zt;for(;!this.J&&this.C<G.length;)if(zt=oE(this,G),zt==Cc){dt==4&&(this.s=4,Et(14),p=!1),Xr(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==$h){this.s=4,Et(15),Xr(this.i,this.l,G,"[Invalid Chunk]"),p=!1;break}else Xr(this.i,this.l,zt,null),Oc(this,zt);if(zh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||G.length!=0||this.h.h||(this.s=1,Et(16),p=!1),this.o=this.o&&p,!p)Xr(this.i,this.l,G,"[Invalid Chunked Response]"),vr(this),Zs(this);else if(0<G.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Lc(ft),ft.M=!0,Et(11))}}else Xr(this.i,this.l,G,null),Oc(this,G);dt==4&&vr(this),this.o&&!this.J&&(dt==4?vf(this.j,this):(this.o=!1,vo(this)))}else IE(this.g),p==400&&0<G.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),vr(this),Zs(this)}}}catch{}finally{}};function zh(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function oE(a,f){var p=a.C,_=f.indexOf(`
`,p);return _==-1?Cc:(p=Number(f.substring(p,_)),isNaN(p)?$h:(_+=1,_+p>f.length?Cc:(f=f.slice(_,_+p),a.C=_+p,f)))}Hn.prototype.cancel=function(){this.J=!0,vr(this)};function vo(a){a.S=Date.now()+a.I,Wh(a,a.I)}function Wh(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ys(g(a.ba,a),f)}function kc(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Hn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(sE(this.i,this.A),this.L!=2&&(Js(),Et(17)),vr(this),this.s=2,Zs(this)):Wh(this,this.S-a)};function Zs(a){a.j.G==0||a.J||vf(a.j,a)}function vr(a){kc(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,jn(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function Oc(a,f){try{var p=a.j;if(p.G!=0&&(p.g==a||Nc(p.h,a))){if(!a.K&&Nc(p.h,a)&&p.G==3){try{var _=p.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var x=_;if(x[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)Co(p),Ro(p);else break e;Mc(p),Et(18)}}else p.za=x[1],0<p.za-p.T&&37500>x[2]&&p.F&&p.v==0&&!p.C&&(p.C=Ys(g(p.Za,p),6e3));if(1>=Qh(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Tr(p,11)}else if((a.K||p.g==a)&&Co(p),!N(f))for(x=p.Da.g.parse(f),f=0;f<x.length;f++){let be=x[f];if(p.T=be[0],be=be[1],p.G==2)if(be[0]=="c"){p.K=be[1],p.ia=be[2];const ft=be[3];ft!=null&&(p.la=ft,p.j.info("VER="+p.la));const dt=be[4];dt!=null&&(p.Aa=dt,p.j.info("SVER="+p.Aa));const ts=be[5];ts!=null&&typeof ts=="number"&&0<ts&&(_=1.5*ts,p.L=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;const zt=a.g;if(zt){const ko=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ko){var L=_.h;L.g||ko.indexOf("spdy")==-1&&ko.indexOf("quic")==-1&&ko.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Dc(L,L.h),L.h=null))}if(_.D){const Fc=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fc&&(_.ya=Fc,xe(_.I,_.D,Fc))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),_=p;var G=a;if(_.qa=wf(_,_.J?_.ia:null,_.W),G.K){Jh(_.h,G);var Ne=G,st=_.L;st&&(Ne.I=st),Ne.B&&(kc(Ne),vo(Ne)),_.g=G}else _f(_);0<p.i.length&&So(p)}else be[0]!="stop"&&be[0]!="close"||Tr(p,7);else p.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Tr(p,7):xc(p):be[0]!="noop"&&p.l&&p.l.ta(be),p.v=0)}}Js(4)}catch{}}var aE=class{constructor(a,f){this.g=a,this.map=f}};function Kh(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gh(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Qh(a){return a.h?1:a.g?a.g.size:0}function Nc(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function Dc(a,f){a.g?a.g.add(f):a.h=f}function Jh(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}Kh.prototype.cancel=function(){if(this.i=Yh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Yh(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const p of a.g.values())f=f.concat(p.D);return f}return A(a.i)}function cE(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var f=[],p=a.length,_=0;_<p;_++)f.push(a[_]);return f}f=[],p=0;for(_ in a)f[p++]=a[_];return f}function lE(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var f=[];a=a.length;for(var p=0;p<a;p++)f.push(p);return f}f=[],p=0;for(const _ in a)f[p++]=_;return f}}}function Xh(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var p=lE(a),_=cE(a),x=_.length,L=0;L<x;L++)f.call(void 0,_[L],p&&p[L],a)}var Zh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uE(a,f){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var _=a[p].indexOf("="),x=null;if(0<=_){var L=a[p].substring(0,_);x=a[p].substring(_+1)}else L=a[p];f(L,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Er(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Er){this.h=a.h,Eo(this,a.j),this.o=a.o,this.g=a.g,To(this,a.s),this.l=a.l;var f=a.i,p=new ni;p.i=f.i,f.g&&(p.g=new Map(f.g),p.h=f.h),ef(this,p),this.m=a.m}else a&&(f=String(a).match(Zh))?(this.h=!1,Eo(this,f[1]||"",!0),this.o=ei(f[2]||""),this.g=ei(f[3]||"",!0),To(this,f[4]),this.l=ei(f[5]||"",!0),ef(this,f[6]||"",!0),this.m=ei(f[7]||"")):(this.h=!1,this.i=new ni(null,this.h))}Er.prototype.toString=function(){var a=[],f=this.j;f&&a.push(ti(f,tf,!0),":");var p=this.g;return(p||f=="file")&&(a.push("//"),(f=this.o)&&a.push(ti(f,tf,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(ti(p,p.charAt(0)=="/"?dE:fE,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",ti(p,gE)),a.join("")};function _n(a){return new Er(a)}function Eo(a,f,p){a.j=p?ei(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function To(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function ef(a,f,p){f instanceof ni?(a.i=f,mE(a.i,a.h)):(p||(f=ti(f,pE)),a.i=new ni(f,a.h))}function xe(a,f,p){a.i.set(f,p)}function wo(a){return xe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ei(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ti(a,f,p){return typeof a=="string"?(a=encodeURI(a).replace(f,hE),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function hE(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var tf=/[#\/\?@]/g,fE=/[#\?:]/g,dE=/[#\?]/g,pE=/[#\?@]/g,gE=/#/g;function ni(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function $n(a){a.g||(a.g=new Map,a.h=0,a.i&&uE(a.i,function(f,p){a.add(decodeURIComponent(f.replace(/\+/g," ")),p)}))}t=ni.prototype,t.add=function(a,f){$n(this),this.i=null,a=Zr(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(f),this.h+=1,this};function nf(a,f){$n(a),f=Zr(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function rf(a,f){return $n(a),f=Zr(a,f),a.g.has(f)}t.forEach=function(a,f){$n(this),this.g.forEach(function(p,_){p.forEach(function(x){a.call(f,x,_,this)},this)},this)},t.na=function(){$n(this);const a=Array.from(this.g.values()),f=Array.from(this.g.keys()),p=[];for(let _=0;_<f.length;_++){const x=a[_];for(let L=0;L<x.length;L++)p.push(f[_])}return p},t.V=function(a){$n(this);let f=[];if(typeof a=="string")rf(this,a)&&(f=f.concat(this.g.get(Zr(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)f=f.concat(a[p])}return f},t.set=function(a,f){return $n(this),this.i=null,a=Zr(this,a),rf(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function sf(a,f,p){nf(a,f),0<p.length&&(a.i=null,a.g.set(Zr(a,f),A(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(var p=0;p<f.length;p++){var _=f[p];const L=encodeURIComponent(String(_)),G=this.V(_);for(_=0;_<G.length;_++){var x=L;G[_]!==""&&(x+="="+encodeURIComponent(String(G[_]))),a.push(x)}}return this.i=a.join("&")};function Zr(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function mE(a,f){f&&!a.j&&($n(a),a.i=null,a.g.forEach(function(p,_){var x=_.toLowerCase();_!=x&&(nf(this,_),sf(this,x,p))},a)),a.j=f}function _E(a,f){const p=new Xs;if(c.Image){const _=new Image;_.onload=m(qn,p,"TestLoadImage: loaded",!0,f,_),_.onerror=m(qn,p,"TestLoadImage: error",!1,f,_),_.onabort=m(qn,p,"TestLoadImage: abort",!1,f,_),_.ontimeout=m(qn,p,"TestLoadImage: timeout",!1,f,_),c.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else f(!1)}function yE(a,f){const p=new Xs,_=new AbortController,x=setTimeout(()=>{_.abort(),qn(p,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:_.signal}).then(L=>{clearTimeout(x),L.ok?qn(p,"TestPingServer: ok",!0,f):qn(p,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),qn(p,"TestPingServer: error",!1,f)})}function qn(a,f,p,_,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),_(p)}catch{}}function vE(){this.g=new Vt}function EE(a,f,p){const _=p||"";try{Xh(a,function(x,L){let G=x;h(x)&&(G=Jr(x)),f.push(_+L+"="+encodeURIComponent(G))})}catch(x){throw f.push(_+"type="+encodeURIComponent("_badmap")),x}}function Io(a){this.l=a.Ub||null,this.j=a.eb||!1}E(Io,Yr),Io.prototype.g=function(){return new bo(this.l,this.j)},Io.prototype.i=function(a){return function(){return a}}({});function bo(a,f){re.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(bo,re),t=bo.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,si(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||c).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;of(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function of(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?ri(this):si(this),this.readyState==3&&of(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,ri(this))},t.Qa=function(a){this.g&&(this.response=a,ri(this))},t.ga=function(){this.g&&ri(this)};function ri(a){a.readyState=4,a.l=null,a.j=null,a.v=null,si(a)}t.setRequestHeader=function(a,f){this.u.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var p=f.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=f.next();return a.join(`\r
`)};function si(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(bo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function af(a){let f="";return F(a,function(p,_){f+=_,f+=":",f+=p,f+=`\r
`}),f}function Vc(a,f,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=af(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):xe(a,f,p))}function He(a){re.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(He,re);var TE=/^https?$/i,wE=["POST","PUT"];t=He.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,f,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sc.g(),this.v=this.o?xh(this.o):xh(Sc),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(L){cf(this,L);return}if(a=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var x in _)p.set(x,_[x]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const L of _.keys())p.set(L,_.get(L));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(L=>L.toLowerCase()=="content-type"),x=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(wE,f,void 0))||_||x||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,G]of p)this.g.setRequestHeader(L,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hf(this),this.u=!0,this.g.send(a),this.u=!1}catch(L){cf(this,L)}};function cf(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,lf(a),Ao(a)}function lf(a){a.A||(a.A=!0,le(a,"complete"),le(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,le(this,"complete"),le(this,"abort"),Ao(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ao(this,!0)),He.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?uf(this):this.bb())},t.bb=function(){uf(this)};function uf(a){if(a.h&&typeof o<"u"&&(!a.v[1]||yn(a)!=4||a.Z()!=2)){if(a.u&&yn(a)==4)Ie(a.Ea,0,a);else if(le(a,"readystatechange"),yn(a)==4){a.h=!1;try{const G=a.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var _;if(_=G===0){var x=String(a.D).match(Zh)[1]||null;!x&&c.self&&c.self.location&&(x=c.self.location.protocol.slice(0,-1)),_=!TE.test(x?x.toLowerCase():"")}p=_}if(p)le(a,"complete"),le(a,"success");else{a.m=6;try{var L=2<yn(a)?a.g.statusText:""}catch{L=""}a.l=L+" ["+a.Z()+"]",lf(a)}}finally{Ao(a)}}}}function Ao(a,f){if(a.g){hf(a);const p=a.g,_=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||le(a,"ready");try{p.onreadystatechange=_}catch{}}}function hf(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function yn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),vt(f)}};function ff(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function IE(a){const f={};a=(a.g&&2<=yn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(N(a[_]))continue;var p=P(a[_]);const x=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const L=f[x]||[];f[x]=L,L.push(p)}w(f,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ii(a,f,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||f}function df(a){this.Aa=0,this.i=[],this.j=new Xs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ii("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ii("baseRetryDelayMs",5e3,a),this.cb=ii("retryDelaySeedMs",1e4,a),this.Wa=ii("forwardChannelMaxRetries",2,a),this.wa=ii("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Kh(a&&a.concurrentRequestLimit),this.Da=new vE,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=df.prototype,t.la=8,t.G=1,t.connect=function(a,f,p,_){Et(0),this.W=a,this.H=f||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.I=wf(this,null,this.W),So(this)};function xc(a){if(pf(a),a.G==3){var f=a.U++,p=_n(a.I);if(xe(p,"SID",a.K),xe(p,"RID",f),xe(p,"TYPE","terminate"),oi(a,p),f=new Hn(a,a.j,f),f.L=2,f.v=wo(_n(p)),p=!1,c.navigator&&c.navigator.sendBeacon)try{p=c.navigator.sendBeacon(f.v.toString(),"")}catch{}!p&&c.Image&&(new Image().src=f.v,p=!0),p||(f.g=If(f.j,null),f.g.ea(f.v)),f.F=Date.now(),vo(f)}Tf(a)}function Ro(a){a.g&&(Lc(a),a.g.cancel(),a.g=null)}function pf(a){Ro(a),a.u&&(c.clearTimeout(a.u),a.u=null),Co(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function So(a){if(!Gh(a.h)&&!a.s){a.s=!0;var f=a.Ga;ue||qt(),ee||(ue(),ee=!0),Le.add(f,a),a.B=0}}function bE(a,f){return Qh(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ys(g(a.Ga,a,f),Ef(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const x=new Hn(this,this.j,a);let L=this.o;if(this.S&&(L?(L=v(L),I(L,this.S)):L=this.S),this.m!==null||this.O||(x.H=L,L=null),this.P)e:{for(var f=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,4096<f){f=p;break e}if(f===4096||p===this.i.length-1){f=p+1;break e}}f=1e3}else f=1e3;f=mf(this,x,f),p=_n(this.I),xe(p,"RID",a),xe(p,"CVER",22),this.D&&xe(p,"X-HTTP-Session-Id",this.D),oi(this,p),L&&(this.O?f="headers="+encodeURIComponent(String(af(L)))+"&"+f:this.m&&Vc(p,this.m,L)),Dc(this.h,x),this.Ua&&xe(p,"TYPE","init"),this.P?(xe(p,"$req",f),xe(p,"SID","null"),x.T=!0,Pc(x,p,null)):Pc(x,p,f),this.G=2}}else this.G==3&&(a?gf(this,a):this.i.length==0||Gh(this.h)||gf(this))};function gf(a,f){var p;f?p=f.l:p=a.U++;const _=_n(a.I);xe(_,"SID",a.K),xe(_,"RID",p),xe(_,"AID",a.T),oi(a,_),a.m&&a.o&&Vc(_,a.m,a.o),p=new Hn(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),f&&(a.i=f.D.concat(a.i)),f=mf(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Dc(a.h,p),Pc(p,_,f)}function oi(a,f){a.H&&F(a.H,function(p,_){xe(f,_,p)}),a.l&&Xh({},function(p,_){xe(f,_,p)})}function mf(a,f,p){p=Math.min(a.i.length,p);var _=a.l?g(a.l.Na,a.l,a):null;e:{var x=a.i;let L=-1;for(;;){const G=["count="+p];L==-1?0<p?(L=x[0].g,G.push("ofs="+L)):L=0:G.push("ofs="+L);let Ne=!0;for(let st=0;st<p;st++){let be=x[st].g;const ft=x[st].map;if(be-=L,0>be)L=Math.max(0,x[st].g-100),Ne=!1;else try{EE(ft,G,"req"+be+"_")}catch{_&&_(ft)}}if(Ne){_=G.join("&");break e}}}return a=a.i.splice(0,p),f.D=a,_}function _f(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;ue||qt(),ee||(ue(),ee=!0),Le.add(f,a),a.v=0}}function Mc(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ys(g(a.Fa,a),Ef(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,yf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ys(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),Ro(this),yf(this))};function Lc(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function yf(a){a.g=new Hn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=_n(a.qa);xe(f,"RID","rpc"),xe(f,"SID",a.K),xe(f,"AID",a.T),xe(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&xe(f,"TO",a.ja),xe(f,"TYPE","xmlhttp"),oi(a,f),a.m&&a.o&&Vc(f,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=wo(_n(f)),p.m=null,p.P=!0,qh(p,a)}t.Za=function(){this.C!=null&&(this.C=null,Ro(this),Mc(this),Et(19))};function Co(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function vf(a,f){var p=null;if(a.g==f){Co(a),Lc(a),a.g=null;var _=2}else if(Nc(a.h,f))p=f.D,Jh(a.h,f),_=1;else return;if(a.G!=0){if(f.o)if(_==1){p=f.m?f.m.length:0,f=Date.now()-f.F;var x=a.B;_=mo(),le(_,new Bh(_,p)),So(a)}else _f(a);else if(x=f.s,x==3||x==0&&0<f.X||!(_==1&&bE(a,f)||_==2&&Mc(a)))switch(p&&0<p.length&&(f=a.h,f.i=f.i.concat(p)),x){case 1:Tr(a,5);break;case 4:Tr(a,10);break;case 3:Tr(a,6);break;default:Tr(a,2)}}}function Ef(a,f){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*f}function Tr(a,f){if(a.j.info("Error code "+f),f==2){var p=g(a.fb,a),_=a.Xa;const x=!_;_=new Er(_||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Eo(_,"https"),wo(_),x?_E(_.toString(),p):yE(_.toString(),p)}else Et(2);a.G=0,a.l&&a.l.sa(f),Tf(a),pf(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Tf(a){if(a.G=0,a.ka=[],a.l){const f=Yh(a.h);(f.length!=0||a.i.length!=0)&&(O(a.ka,f),O(a.ka,a.i),a.h.i.length=0,A(a.i),a.i.length=0),a.l.ra()}}function wf(a,f,p){var _=p instanceof Er?_n(p):new Er(p);if(_.g!="")f&&(_.g=f+"."+_.g),To(_,_.s);else{var x=c.location;_=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;var L=new Er(null);_&&Eo(L,_),f&&(L.g=f),x&&To(L,x),p&&(L.l=p),_=L}return p=a.D,f=a.ya,p&&f&&xe(_,p,f),xe(_,"VER",a.la),oi(a,_),_}function If(a,f,p){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new He(new Io({eb:p})):new He(a.pa),f.Ha(a.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bf(){}t=bf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Po(){}Po.prototype.g=function(a,f){return new Pt(a,f)};function Pt(a,f){re.call(this),this.g=new df(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!N(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!N(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new es(this)}E(Pt,re),Pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){xc(this.g)},Pt.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=Jr(a),a=p);f.i.push(new aE(f.Ya++,a)),f.G==3&&So(f)},Pt.prototype.N=function(){this.g.l=null,delete this.j,xc(this.g),delete this.g,Pt.aa.N.call(this)};function Af(a){Ac.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const p in f){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}E(Af,Ac);function Rf(){Rc.call(this),this.status=1}E(Rf,Rc);function es(a){this.g=a}E(es,bf),es.prototype.ua=function(){le(this.g,"a")},es.prototype.ta=function(a){le(this.g,new Af(a))},es.prototype.sa=function(a){le(this.g,new Rf)},es.prototype.ra=function(){le(this.g,"b")},Po.prototype.createWebChannel=Po.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,Oy=function(){return new Po},ky=function(){return mo()},Py=yr,Zl={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_o.NO_ERROR=0,_o.TIMEOUT=8,_o.HTTP_ERROR=6,na=_o,jh.COMPLETE="complete",Cy=jh,Mh.EventType=Qs,Qs.OPEN="a",Qs.CLOSE="b",Qs.ERROR="c",Qs.MESSAGE="d",re.prototype.listen=re.prototype.K,di=Mh,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,Sy=He}).apply(typeof $o<"u"?$o:typeof self<"u"?self:typeof window<"u"?window:{});const Rp="@firebase/firestore",Sp="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zs="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new $u("@firebase/firestore");function os(){return Hr.logLevel}function Z(t,...e){if(Hr.logLevel<=ve.DEBUG){const n=e.map(rh);Hr.debug(`Firestore (${zs}): ${t}`,...n)}}function Mn(t,...e){if(Hr.logLevel<=ve.ERROR){const n=e.map(rh);Hr.error(`Firestore (${zs}): ${t}`,...n)}}function Vs(t,...e){if(Hr.logLevel<=ve.WARN){const n=e.map(rh);Hr.warn(`Firestore (${zs}): ${t}`,...n)}}function rh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Ny(t,r,n)}function Ny(t,e,n){let r=`FIRESTORE (${zs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Mn(r),new Error(r)}function Pe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Ny(e,s,r)}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Un{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class HP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $P{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pe(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ur,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},c=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ur)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string",31837,{l:r}),new Dy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string",2055,{h:e}),new gt(e)}}class qP{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zP{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new qP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Pe(this.o===void 0,3512);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Cp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Cp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=KP(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function eu(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return _e(r,s);{const i=Vy(),o=GP(i.encode(Pp(t,n)),i.encode(Pp(e,n)));return o!==0?o:_e(r,s)}}n+=r>65535?2:1}return _e(t.length,e.length)}function Pp(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function GP(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return _e(t[n],e[n]);return _e(t.length,e.length)}function xs(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp=-62135596800,Op=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Op);return new Ye(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kp)throw new ae(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Op}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-kp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new Ye(0,0))}static max(){return new pe(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="__name__";class on{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&fe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return on.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof on?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=on.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return _e(e.length,n.length)}static compareSegments(e,n){const r=on.isNumericId(e),s=on.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?on.extractNumericId(e).compare(on.extractNumericId(n)):eu(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lr.fromString(e.substring(4,e.length-2))}}class $e extends on{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const QP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends on{construct(e,n,r){return new ct(e,n,r)}static isValidIdentifier(e){return QP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Np}static keyField(){return new ct([Np])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ae(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new ae(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(r+=c,s++):(i(),s++)}if(i(),o)throw new ae(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(n)}static emptyPath(){return new ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce($e.fromString(e))}static fromName(e){return new ce($e.fromString(e).popFirst(5))}static empty(){return new ce($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new $e(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=-1;function JP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=pe.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new hr(s,ce.empty(),e)}function YP(t){return new hr(t.readTime,t.key,zi)}class hr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new hr(pe.min(),ce.empty(),zi)}static max(){return new hr(pe.max(),ce.empty(),zi)}}function XP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==ZP)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let s=0,i=0,o=!1;e.forEach(c=>{++s,c.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(s=>s?j.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new j((r,s)=>{const i=e.length,o=new Array(i);let c=0;for(let l=0;l<i;l++){const h=l;n(e[h]).next(u=>{o[h]=u,++c,c===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new j((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function t1(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ks(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}dc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=-1;function pc(t){return t==null}function Da(t){return t===0&&1/t==-1/0}function n1(t){return typeof t=="number"&&Number.isInteger(t)&&!Da(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="";function r1(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Dp(e)),e=s1(t.get(n),e);return Dp(e)}function s1(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case My:n+="";break;default:n+=i}}return n}function Dp(t){return t+My+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ly(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||ot.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ot.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qo(this.root,e,this.comparator,!1)}getReverseIterator(){return new qo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qo(this.root,e,this.comparator,!0)}}class qo{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ot{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ot.RED,this.left=s??ot.EMPTY,this.right=i??ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ot(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ot.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fe(27949);return e+(this.isRed()?0:1)}}ot.EMPTY=null,ot.RED=!0,ot.BLACK=!1;ot.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xp(this.data.getIterator())}getIteratorFrom(e){return new xp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class xp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new Jt([])}unionWith(e){let n=new Xe(ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Fy("Invalid base64 string: "+i):i}}(e);return new lt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const i1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(t){if(Pe(!!t,39018),typeof t=="string"){let e=0;const n=i1.exec(t);if(Pe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function dr(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="server_timestamp",By="__type__",jy="__previous_value__",Hy="__local_write_time__";function ih(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[By])===null||n===void 0?void 0:n.stringValue)===Uy}function gc(t){const e=t.mapValue.fields[jy];return ih(e)?gc(e):e}function Wi(t){const e=fr(t.mapValue.fields[Hy].timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n,r,s,i,o,c,l,h,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=h,this.isUsingEmulator=u}}const Va="(default)";class Ki{constructor(e,n){this.projectId=e,this.database=n||Va}static empty(){return new Ki("","")}get isDefaultDatabase(){return this.database===Va}isEqual(e){return e instanceof Ki&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="__type__",a1="__max__",zo={mapValue:{}},qy="__vector__",xa="value";function pr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ih(t)?4:l1(t)?9007199254740991:c1(t)?10:11:fe(28295,{value:t})}function pn(t,e){if(t===e)return!0;const n=pr(t);if(n!==pr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wi(t).isEqual(Wi(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=fr(s.timestampValue),c=fr(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return dr(s.bytesValue).isEqual(dr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return qe(s.geoPointValue.latitude)===qe(i.geoPointValue.latitude)&&qe(s.geoPointValue.longitude)===qe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return qe(s.integerValue)===qe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=qe(s.doubleValue),c=qe(i.doubleValue);return o===c?Da(o)===Da(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return xs(t.arrayValue.values||[],e.arrayValue.values||[],pn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},c=i.mapValue.fields||{};if(Vp(o)!==Vp(c))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!pn(o[l],c[l])))return!1;return!0}(t,e);default:return fe(52216,{left:t})}}function Gi(t,e){return(t.values||[]).find(n=>pn(n,e))!==void 0}function Ms(t,e){if(t===e)return 0;const n=pr(t),r=pr(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(i,o){const c=qe(i.integerValue||i.doubleValue),l=qe(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(t,e);case 3:return Mp(t.timestampValue,e.timestampValue);case 4:return Mp(Wi(t),Wi(e));case 5:return eu(t.stringValue,e.stringValue);case 6:return function(i,o){const c=dr(i),l=dr(o);return c.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const c=i.split("/"),l=o.split("/");for(let h=0;h<c.length&&h<l.length;h++){const u=_e(c[h],l[h]);if(u!==0)return u}return _e(c.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const c=_e(qe(i.latitude),qe(o.latitude));return c!==0?c:_e(qe(i.longitude),qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Lp(t.arrayValue,e.arrayValue);case 10:return function(i,o){var c,l,h,u;const d=i.fields||{},g=o.fields||{},m=(c=d[xa])===null||c===void 0?void 0:c.arrayValue,E=(l=g[xa])===null||l===void 0?void 0:l.arrayValue,A=_e(((h=m==null?void 0:m.values)===null||h===void 0?void 0:h.length)||0,((u=E==null?void 0:E.values)===null||u===void 0?void 0:u.length)||0);return A!==0?A:Lp(m,E)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===zo.mapValue&&o===zo.mapValue)return 0;if(i===zo.mapValue)return 1;if(o===zo.mapValue)return-1;const c=i.fields||{},l=Object.keys(c),h=o.fields||{},u=Object.keys(h);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const g=eu(l[d],u[d]);if(g!==0)return g;const m=Ms(c[l[d]],h[u[d]]);if(m!==0)return m}return _e(l.length,u.length)}(t.mapValue,e.mapValue);default:throw fe(23264,{Pe:n})}}function Mp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=fr(t),r=fr(e),s=_e(n.seconds,r.seconds);return s!==0?s:_e(n.nanos,r.nanos)}function Lp(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ms(n[s],r[s]);if(i)return i}return _e(n.length,r.length)}function Ls(t){return tu(t)}function tu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return dr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=tu(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${tu(n.fields[o])}`;return s+"}"}(t.mapValue):fe(61005,{value:t})}function ra(t){switch(pr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gc(t);return e?16+ra(e):16;case 5:return 2*t.stringValue.length;case 6:return dr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+ra(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Wr(r.fields,(i,o)=>{s+=i.length+ra(o)}),s}(t.mapValue);default:throw fe(13486,{value:t})}}function nu(t){return!!t&&"integerValue"in t}function oh(t){return!!t&&"arrayValue"in t}function Fp(t){return!!t&&"nullValue"in t}function Up(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sa(t){return!!t&&"mapValue"in t}function c1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[$y])===null||n===void 0?void 0:n.stringValue)===qy}function Ci(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ci(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ci(t.arrayValue.values[n]);return e}return Object.assign({},t)}function l1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===a1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.value=e}static empty(){return new Lt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ci(n)}setAll(e){let n=ct.emptyPath(),r={},s=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=c.popLast()}o?r[c.lastSegment()]=Ci(o):s.push(c.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());sa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];sa(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Wr(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Lt(Ci(this.value))}}function zy(t){const e=[];return Wr(t.fields,(n,r)=>{const s=new ct([n]);if(sa(r)){const i=zy(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Jt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,r,s,i,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new _t(e,0,pe.min(),pe.min(),pe.min(),Lt.empty(),0)}static newFoundDocument(e,n,r,s){return new _t(e,1,n,pe.min(),r,s,0)}static newNoDocument(e,n){return new _t(e,2,n,pe.min(),pe.min(),Lt.empty(),0)}static newUnknownDocument(e,n){return new _t(e,3,n,pe.min(),pe.min(),Lt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n){this.position=e,this.inclusive=n}}function Bp(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ce.comparator(ce.fromName(o.referenceValue),n.key):r=Ms(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function jp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n="asc"){this.field=e,this.dir=n}}function u1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{}class Qe extends Wy{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new f1(e,n,r):n==="array-contains"?new g1(e,r):n==="in"?new m1(e,r):n==="not-in"?new _1(e,r):n==="array-contains-any"?new y1(e,r):new Qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new d1(e,r):new p1(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ms(n,this.value)):n!==null&&pr(this.value)===pr(n)&&this.matchesComparison(Ms(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gn extends Wy{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new gn(e,n)}matches(e){return Ky(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Ky(t){return t.op==="and"}function Gy(t){return h1(t)&&Ky(t)}function h1(t){for(const e of t.filters)if(e instanceof gn)return!1;return!0}function ru(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+Ls(t.value);if(Gy(t))return t.filters.map(e=>ru(e)).join(",");{const e=t.filters.map(n=>ru(n)).join(",");return`${t.op}(${e})`}}function Qy(t,e){return t instanceof Qe?function(r,s){return s instanceof Qe&&r.op===s.op&&r.field.isEqual(s.field)&&pn(r.value,s.value)}(t,e):t instanceof gn?function(r,s){return s instanceof gn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,c)=>i&&Qy(o,s.filters[c]),!0):!1}(t,e):void fe(19439)}function Jy(t){return t instanceof Qe?function(n){return`${n.field.canonicalString()} ${n.op} ${Ls(n.value)}`}(t):t instanceof gn?function(n){return n.op.toString()+" {"+n.getFilters().map(Jy).join(" ,")+"}"}(t):"Filter"}class f1 extends Qe{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class d1 extends Qe{constructor(e,n){super(e,"in",n),this.keys=Yy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class p1 extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=Yy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Yy(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}class g1 extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return oh(n)&&Gi(n.arrayValue,this.value)}}class m1 extends Qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gi(this.value.arrayValue,n)}}class _1 extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gi(this.value.arrayValue,n)}}class y1 extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!oh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gi(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n=null,r=[],s=[],i=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=c,this.Ie=null}}function Hp(t,e=null,n=[],r=[],s=null,i=null,o=null){return new v1(t,e,n,r,s,i,o)}function ah(t){const e=me(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ru(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),pc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ls(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ls(r)).join(",")),e.Ie=n}return e.Ie}function ch(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!u1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Qy(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jp(t.startAt,e.startAt)&&jp(t.endAt,e.endAt)}function su(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n=null,r=[],s=[],i=null,o="F",c=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function E1(t,e,n,r,s,i,o,c){return new mc(t,e,n,r,s,i,o,c)}function lh(t){return new mc(t)}function $p(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function T1(t){return t.collectionGroup!==null}function Pi(t){const e=me(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Xe(ct.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new La(i,r))}),n.has(ct.keyField().canonicalString())||e.Ee.push(new La(ct.keyField(),r))}return e.Ee}function un(t){const e=me(t);return e.de||(e.de=w1(e,Pi(t))),e.de}function w1(t,e){if(t.limitType==="F")return Hp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new La(s.field,i)});const n=t.endAt?new Ma(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ma(t.startAt.position,t.startAt.inclusive):null;return Hp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function iu(t,e,n){return new mc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _c(t,e){return ch(un(t),un(e))&&t.limitType===e.limitType}function Xy(t){return`${ah(un(t))}|lt:${t.limitType}`}function as(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Jy(s)).join(", ")}]`),pc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ls(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ls(s)).join(",")),`Target(${r})`}(un(t))}; limitType=${t.limitType})`}function yc(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ce.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Pi(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,c,l){const h=Bp(o,c,l);return o.inclusive?h<=0:h<0}(r.startAt,Pi(r),s)||r.endAt&&!function(o,c,l){const h=Bp(o,c,l);return o.inclusive?h>=0:h>0}(r.endAt,Pi(r),s))}(t,e)}function I1(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Zy(t){return(e,n)=>{let r=!1;for(const s of Pi(t)){const i=b1(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function b1(t,e,n){const r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(i,o,c){const l=o.data.field(i),h=c.data.field(i);return l!==null&&h!==null?Ms(l,h):fe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Wr(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Ly(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=new je(ce.comparator);function Ln(){return A1}const ev=new je(ce.comparator);function pi(...t){let e=ev;for(const n of t)e=e.insert(n.key,n);return e}function tv(t){let e=ev;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Or(){return ki()}function nv(){return ki()}function ki(){return new Kr(t=>t.toString(),(t,e)=>t.isEqual(e))}const R1=new je(ce.comparator),S1=new Xe(ce.comparator);function Ee(...t){let e=S1;for(const n of t)e=e.add(n);return e}const C1=new Xe(_e);function P1(){return C1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Da(e)?"-0":e}}function rv(t){return{integerValue:""+t}}function k1(t,e){return n1(e)?rv(e):uh(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this._=void 0}}function O1(t,e,n){return t instanceof Fa?function(s,i){const o={fields:{[By]:{stringValue:Uy},[Hy]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ih(i)&&(i=gc(i)),i&&(o.fields[jy]=i),{mapValue:o}}(n,e):t instanceof Qi?iv(t,e):t instanceof Ji?ov(t,e):function(s,i){const o=sv(s,i),c=qp(o)+qp(s.Re);return nu(o)&&nu(s.Re)?rv(c):uh(s.serializer,c)}(t,e)}function N1(t,e,n){return t instanceof Qi?iv(t,e):t instanceof Ji?ov(t,e):n}function sv(t,e){return t instanceof Ua?function(r){return nu(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Fa extends vc{}class Qi extends vc{constructor(e){super(),this.elements=e}}function iv(t,e){const n=av(e);for(const r of t.elements)n.some(s=>pn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ji extends vc{constructor(e){super(),this.elements=e}}function ov(t,e){let n=av(e);for(const r of t.elements)n=n.filter(s=>!pn(s,r));return{arrayValue:{values:n}}}class Ua extends vc{constructor(e,n){super(),this.serializer=e,this.Re=n}}function qp(t){return qe(t.integerValue||t.doubleValue)}function av(t){return oh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function D1(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Qi&&s instanceof Qi||r instanceof Ji&&s instanceof Ji?xs(r.elements,s.elements,pn):r instanceof Ua&&s instanceof Ua?pn(r.Re,s.Re):r instanceof Fa&&s instanceof Fa}(t.transform,e.transform)}class V1{constructor(e,n){this.version=e,this.transformResults=n}}class Pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ia(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ec{}function cv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new uv(t.key,Pn.none()):new ho(t.key,t.data,Pn.none());{const n=t.data,r=Lt.empty();let s=new Xe(ct.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Gr(t.key,r,new Jt(s.toArray()),Pn.none())}}function x1(t,e,n){t instanceof ho?function(s,i,o){const c=s.value.clone(),l=Wp(s.fieldTransforms,i,o.transformResults);c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Gr?function(s,i,o){if(!ia(s.precondition,i))return void i.convertToUnknownDocument(o.version);const c=Wp(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(lv(s)),l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Oi(t,e,n,r){return t instanceof ho?function(i,o,c,l){if(!ia(i.precondition,o))return c;const h=i.value.clone(),u=Kp(i.fieldTransforms,l,o);return h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gr?function(i,o,c,l){if(!ia(i.precondition,o))return c;const h=Kp(i.fieldTransforms,l,o),u=o.data;return u.setAll(lv(i)),u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,c){return ia(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function M1(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=sv(r.transform,s||null);i!=null&&(n===null&&(n=Lt.empty()),n.set(r.field,i))}return n||null}function zp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&xs(r,s,(i,o)=>D1(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ho extends Ec{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Gr extends Ec{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function lv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Wp(t,e,n){const r=new Map;Pe(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,c=e.data.field(i.field);r.set(i.field,N1(o,c,n[s]))}return r}function Kp(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,O1(i,o,e))}return r}class uv extends Ec{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L1 extends Ec{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&x1(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Oi(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Oi(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nv();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let c=this.applyToLocalView(o,i.mutatedFields);c=n.has(s.key)?null:c;const l=cv(o,c);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&xs(this.mutations,e.mutations,(n,r)=>zp(n,r))&&xs(this.baseMutations,e.baseMutations,(n,r)=>zp(n,r))}}class hh{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Pe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return R1}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new hh(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,we;function j1(t){switch(t){case q.OK:return fe(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return fe(15467,{code:t})}}function hv(t){if(t===void 0)return Mn("GRPC error has no .code"),q.UNKNOWN;switch(t){case We.OK:return q.OK;case We.CANCELLED:return q.CANCELLED;case We.UNKNOWN:return q.UNKNOWN;case We.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case We.INTERNAL:return q.INTERNAL;case We.UNAVAILABLE:return q.UNAVAILABLE;case We.UNAUTHENTICATED:return q.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case We.NOT_FOUND:return q.NOT_FOUND;case We.ALREADY_EXISTS:return q.ALREADY_EXISTS;case We.PERMISSION_DENIED:return q.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case We.ABORTED:return q.ABORTED;case We.OUT_OF_RANGE:return q.OUT_OF_RANGE;case We.UNIMPLEMENTED:return q.UNIMPLEMENTED;case We.DATA_LOSS:return q.DATA_LOSS;default:return fe(39323,{code:t})}}(we=We||(We={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=new lr([4294967295,4294967295],0);function Gp(t){const e=Vy().encode(t),n=new Ry;return n.update(e),new Uint8Array(n.digest())}function Qp(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new lr([n,r],0),new lr([s,i],0)]}class fh{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gi(`Invalid padding: ${n}`);if(r<0)throw new gi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gi(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=lr.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(lr.fromNumber(r)));return s.compare(H1)===1&&(s=new lr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Gp(e),[r,s]=Qp(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.Se(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new fh(i,s,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.pe===0)return;const n=Gp(e),[r,s]=Qp(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,fo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Tc(pe.min(),s,new je(_e),Ln(),Ee())}}class fo{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fo(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class fv{constructor(e,n){this.targetId=e,this.Ce=n}}class dv{constructor(e,n,r=lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Jp{constructor(){this.Fe=0,this.Me=Yp(),this.xe=lt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ee(),n=Ee(),r=Ee();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:fe(38017,{changeType:i})}}),new fo(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Yp()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Pe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class $1{constructor(e){this.ze=e,this.je=new Map,this.He=Ln(),this.Je=Wo(),this.Ye=Wo(),this.Ze=new je(_e)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:fe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(su(i))if(r===0){const o=new ce(i.path);this.tt(n,o,_t.newNoDocument(o,pe.min()))}else Pe(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const c=this.ct(e),l=c?this.lt(c,e,o):1;if(l!==0){this.st(n);const h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,c;try{o=dr(r).toUint8Array()}catch(l){if(l instanceof Fy)return Vs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new fh(o,s,i)}catch(l){return Vs(l instanceof gi?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.pe===0?null:c}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const c=this._t(o);if(c){if(i.current&&su(c.target)){const l=new ce(c.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,_t.newNoDocument(l,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=Ee();this.Ye.forEach((i,o)=>{let c=!0;o.forEachWhile(l=>{const h=this._t(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new Tc(e,n,this.Ze,this.He,r);return this.He=Ln(),this.Je=Wo(),this.Ye=Wo(),this.Ze=new je(_e),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Jp,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Xe(_e),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Xe(_e),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Jp),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Wo(){return new je(ce.comparator)}function Yp(){return new je(ce.comparator)}const q1={asc:"ASCENDING",desc:"DESCENDING"},z1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W1={and:"AND",or:"OR"};class K1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ou(t,e){return t.useProto3Json||pc(e)?e:{value:e}}function Ba(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pv(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function G1(t,e){return Ba(t,e.toTimestamp())}function hn(t){return Pe(!!t,49232),pe.fromTimestamp(function(n){const r=fr(n);return new Ye(r.seconds,r.nanos)}(t))}function dh(t,e){return au(t,e).canonicalString()}function au(t,e){const n=function(s){return new $e(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gv(t){const e=$e.fromString(t);return Pe(Ev(e),10190,{key:e.toString()}),e}function cu(t,e){return dh(t.databaseId,e.path)}function dl(t,e){const n=gv(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(_v(n))}function mv(t,e){return dh(t.databaseId,e)}function Q1(t){const e=gv(t);return e.length===4?$e.emptyPath():_v(e)}function lu(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _v(t){return Pe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Xp(t,e,n){return{name:cu(t,e),fields:n.value.mapValue.fields}}function J1(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:fe(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,u){return h.useProto3Json?(Pe(u===void 0||typeof u=="string",58123),lt.fromBase64String(u||"")):(Pe(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),lt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(h){const u=h.code===void 0?q.UNKNOWN:hv(h.code);return new ae(u,h.message||"")}(o);n=new dv(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=dl(t,r.document.name),i=hn(r.document.updateTime),o=r.document.createTime?hn(r.document.createTime):pe.min(),c=new Lt({mapValue:{fields:r.document.fields}}),l=_t.newFoundDocument(s,i,o,c),h=r.targetIds||[],u=r.removedTargetIds||[];n=new oa(h,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=dl(t,r.document),i=r.readTime?hn(r.readTime):pe.min(),o=_t.newNoDocument(s,i),c=r.removedTargetIds||[];n=new oa([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=dl(t,r.document),i=r.removedTargetIds||[];n=new oa([],i,s,null)}else{if(!("filter"in e))return fe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new B1(s,i),c=r.targetId;n=new fv(c,o)}}return n}function Y1(t,e){let n;if(e instanceof ho)n={update:Xp(t,e.key,e.value)};else if(e instanceof uv)n={delete:cu(t,e.key)};else if(e instanceof Gr)n={update:Xp(t,e.key,e.data),updateMask:ok(e.fieldMask)};else{if(!(e instanceof L1))return fe(16599,{ft:e.type});n={verify:cu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const c=o.transform;if(c instanceof Fa)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Qi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ji)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ua)return{fieldPath:o.field.canonicalString(),increment:c.Re};throw fe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:G1(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe(27497)}(t,e.precondition)),n}function X1(t,e){return t&&t.length>0?(Pe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?hn(s.updateTime):hn(i);return o.isEqual(pe.min())&&(o=hn(i)),new V1(o,s.transformResults||[])}(n,e))):[]}function Z1(t,e){return{documents:[mv(t,e.path)]}}function ek(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mv(t,s);const i=function(h){if(h.length!==0)return vv(gn.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(u=>function(g){return{field:cs(g.field),direction:rk(g.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=ou(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:n,parent:s}}function tk(t){let e=Q1(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Pe(r===1,65062);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(d){const g=yv(d);return g instanceof gn&&Gy(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(g=>function(E){return new La(ls(E.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(g))}(n.orderBy));let c=null;n.limit&&(c=function(d){let g;return g=typeof d=="object"?d.value:d,pc(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(d){const g=!!d.before,m=d.values||[];return new Ma(m,g)}(n.startAt));let h=null;return n.endAt&&(h=function(d){const g=!d.before,m=d.values||[];return new Ma(m,g)}(n.endAt)),E1(e,s,o,i,c,"F",l,h)}function nk(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yv(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ls(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ls(n.unaryFilter.field);return Qe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ls(n.unaryFilter.field);return Qe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ls(n.unaryFilter.field);return Qe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fe(61313);default:return fe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Qe.create(ls(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fe(58110);default:return fe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gn.create(n.compositeFilter.filters.map(r=>yv(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return fe(1026)}}(n.compositeFilter.op))}(t):fe(30097,{filter:t})}function rk(t){return q1[t]}function sk(t){return z1[t]}function ik(t){return W1[t]}function cs(t){return{fieldPath:t.canonicalString()}}function ls(t){return ct.fromServerFormat(t.fieldPath)}function vv(t){return t instanceof Qe?function(n){if(n.op==="=="){if(Up(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NAN"}};if(Fp(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Up(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NOT_NAN"}};if(Fp(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(n.field),op:sk(n.op),value:n.value}}}(t):t instanceof gn?function(n){const r=n.getFilters().map(s=>vv(s));return r.length===1?r[0]:{compositeFilter:{op:ik(n.op),filters:r}}}(t):fe(54877,{filter:t})}function ok(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ev(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n,r,s,i=pe.min(),o=pe.min(),c=lt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.wt=e}}function ck(t){const e=tk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?iu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.Cn=new uk}addToCollectionParentIndex(e,n){return this.Cn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(hr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(hr.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class uk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Xe($e.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Xe($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Tv=41943040;class St{static withCacheSize(e){return new St(e,St.DEFAULT_COLLECTION_PERCENTILE,St.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */St.DEFAULT_COLLECTION_PERCENTILE=10,St.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,St.DEFAULT=new St(Tv,St.DEFAULT_COLLECTION_PERCENTILE,St.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),St.DISABLED=new St(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Fs(0)}static lr(){return new Fs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="LruGarbageCollector",hk=1048576;function tg([t,e],[n,r]){const s=_e(t,n);return s===0?_e(e,r):s}class fk{constructor(e){this.Er=e,this.buffer=new Xe(tg),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tg(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dk{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Z(eg,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ks(n)?Z(eg,"Ignoring IndexedDB error during garbage collection: ",n):await Ws(n)}await this.mr(3e5)})}}class pk{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(dc.le);const r=new fk(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(Zp)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zp):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,c,l,h;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s))).next(d=>(r=d,c=Date.now(),this.removeTargets(e,r,n))).next(d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(h=Date.now(),os()<=ve.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${s} in `+(c-o)+`ms
	Removed ${i} targets in `+(l-c)+`ms
	Removed ${d} documents in `+(h-l)+`ms
Total Duration: ${h-u}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d})))}}function gk(t,e){return new pk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.changes=new Kr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Oi(r.mutation,s,Jt.empty(),Ye.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const s=Or();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=pi();return i.forEach((c,l)=>{o=o.insert(c,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Or();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,s){let i=Ln();const o=ki(),c=function(){return ki()}();return n.forEach((l,h)=>{const u=r.get(h.key);s.has(h.key)&&(u===void 0||u.mutation instanceof Gr)?i=i.insert(h.key,h):u!==void 0?(o.set(h.key,u.mutation.getFieldMask()),Oi(u.mutation,h,u.mutation.getFieldMask(),Ye.now())):o.set(h.key,Jt.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((h,u)=>o.set(h,u)),n.forEach((h,u)=>{var d;return c.set(h,new _k(u,(d=o.get(h))!==null&&d!==void 0?d:null))}),c))}recalculateAndSaveOverlays(e,n){const r=ki();let s=new je((o,c)=>o-c),i=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const c of o)c.keys().forEach(l=>{const h=n.get(l);if(h===null)return;let u=r.get(l)||Jt.empty();u=c.applyToLocalView(h,u),r.set(l,u);const d=(s.get(c.batchId)||Ee()).add(l);s=s.insert(c.batchId,d)})}).next(()=>{const o=[],c=s.getReverseIterator();for(;c.hasNext();){const l=c.getNext(),h=l.key,u=l.value,d=nv();u.forEach(g=>{if(!i.has(g)){const m=cv(n.get(g),r.get(g));m!==null&&d.set(g,m),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,d))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):T1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):j.resolve(Or());let c=zi,l=i;return o.next(h=>j.forEach(h,(u,d)=>(c<d.largestBatchId&&(c=d.largestBatchId),i.get(u)?j.resolve():this.remoteDocumentCache.getEntry(e,u).next(g=>{l=l.insert(u,g)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,l,h,Ee())).next(u=>({batchId:c,changes:tv(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let s=pi();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=pi();return this.indexManager.getCollectionParents(e,i).next(c=>j.forEach(c,l=>{const h=function(d,g){return new mc(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(u=>{u.forEach((d,g)=>{o=o.insert(d,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,h)=>{const u=h.getKey();o.get(u)===null&&(o=o.insert(u,_t.newInvalidDocument(u)))});let c=pi();return o.forEach((l,h)=>{const u=i.get(l);u!==void 0&&Oi(u.mutation,h,Jt.empty(),Ye.now()),yc(n,h)&&(c=c.insert(l,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return j.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:hn(s.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:ck(s.bundledQuery),readTime:hn(s.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.overlays=new je(ce.comparator),this.Qr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Or();return j.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const s=Or(),i=n.length+1,o=new ce(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const l=c.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return j.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new je((h,u)=>h-u);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let u=i.get(h.largestBatchId);u===null&&(u=Or(),i=i.insert(h.largestBatchId,u)),u.set(h.getKey(),h)}}const c=Or(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,u)=>c.set(h,u)),!(c.size()>=s)););return j.resolve(c)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new U1(n,r));let i=this.Qr.get(n);i===void 0&&(i=Ee(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this.$r=new Xe(et.Ur),this.Kr=new Xe(et.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new et(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new et(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ce(new $e([])),r=new et(n,e),s=new et(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ce(new $e([])),r=new et(n,e),s=new et(n,e+1);let i=Ee();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new et(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class et{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ce.comparator(e.key,n.key)||_e(e.Zr,n.Zr)}static Wr(e,n){return _e(e.Zr,n.Zr)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Xe(et.Ur)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new F1(i,n,r,s);this.mutationQueue.push(o);for(const c of s)this.Xr=this.Xr.add(new et(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return j.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?sh:this.nr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new et(n,0),s=new et(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const c=this.ei(o.Zr);i.push(c)}),j.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xe(_e);return n.forEach(s=>{const i=new et(s,0),o=new et(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],c=>{r=r.add(c.Zr)})}),j.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ce.isDocumentKey(i)||(i=i.child(""));const o=new et(new ce(i),0);let c=new Xe(_e);return this.Xr.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(l.Zr)),!0)},o),j.resolve(this.ni(c))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Pe(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return j.forEach(n.mutations,s=>{const i=new et(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new et(n,0),s=this.Xr.firstAfterOrEqual(r);return j.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.ii=e,this.docs=function(){return new je(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let r=Ln();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():_t.newInvalidDocument(s))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ln();const o=n.path,c=new ce(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){const{key:h,value:{document:u}}=l.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||XP(YP(u),r)<=0||(s.has(u.key)||yc(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return j.resolve(i)}getAllFromCollectionGroup(e,n,r,s){fe(9500)}si(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new bk(this)}getSize(e){return j.resolve(this.size)}}class bk extends mk{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.persistence=e,this.oi=new Kr(n=>ah(n),ch),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this._i=0,this.ai=new ph,this.targetCount=0,this.ui=Fs.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),j.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Fs(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Tr(n),j.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),j.waitFor(i).next(()=>s)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),j.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n){this.ci={},this.overlays={},this.li=new dc(0),this.hi=!1,this.hi=!0,this.Pi=new Tk,this.referenceDelegate=e(this),this.Ti=new Ak(this),this.indexManager=new lk,this.remoteDocumentCache=function(s){return new Ik(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new ak(n),this.Ei=new vk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ek,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new wk(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new Rk(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return j.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class Rk extends e1{constructor(e){super(),this.currentSequenceNumber=e}}class gh{constructor(e){this.persistence=e,this.Vi=new ph,this.mi=null}static fi(e){return new gh(e)}get gi(){if(this.mi)return this.mi;throw fe(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),j.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.gi,r=>{const s=ce.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,pe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return j.or([()=>j.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class ja{constructor(e,n){this.persistence=e,this.yi=new Kr(r=>r1(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=gk(this,n)}static fi(e,n){return new ja(e,n)}di(){}Ai(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return j.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?j.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(c=>{c||(r++,i.removeEntry(o,pe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),j.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ra(e.data.value)),n}Dr(e,n,r){return j.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return j.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=Ee(),s=Ee();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new mh(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return IR()?8:t1(yt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Sk;return this.bs(e,n,o).next(c=>{if(i.result=c,this.fs)return this.Ds(e,n,o,c.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(os()<=ve.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",as(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),j.resolve()):(os()<=ve.DEBUG&&Z("QueryEngine","Query:",as(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(os()<=ve.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",as(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,un(n))):j.resolve())}ws(e,n){if($p(n))return j.resolve(null);let r=un(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=iu(n,null,"F"),r=un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ee(...i);return this.ys.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(l=>{const h=this.vs(n,c);return this.Cs(n,h,o,l.readTime)?this.ws(e,iu(n,null,"F")):this.Fs(e,h,n,l)}))})))}Ss(e,n,r,s){return $p(n)||s.isEqual(pe.min())?j.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?j.resolve(null):(os()<=ve.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),as(n)),this.Fs(e,o,n,JP(s,zi)).next(c=>c))})}vs(e,n){let r=new Xe(Zy(e));return n.forEach((s,i)=>{yc(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}bs(e,n,r){return os()<=ve.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",as(n)),this.ys.getDocumentsMatchingQuery(e,n,hr.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="LocalStore",Pk=3e8;class kk{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new je(_e),this.Os=new Kr(i=>ah(i),ch),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yk(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function Ok(t,e,n,r){return new kk(t,e,n,r)}async function Iv(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],c=[];let l=Ee();for(const h of s){o.push(h.batchId);for(const u of h.mutations)l=l.add(u.key)}for(const h of i){c.push(h.batchId);for(const u of h.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(h=>({ks:h,removedBatchIds:o,addedBatchIds:c}))})})}function Nk(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(c,l,h,u){const d=h.batch,g=d.keys();let m=j.resolve();return g.forEach(E=>{m=m.next(()=>u.getEntry(l,E)).next(A=>{const O=h.docVersions.get(E);Pe(O!==null,48541),A.version.compareTo(O)<0&&(d.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),u.addEntry(A)))})}),m.next(()=>c.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let l=Ee();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(l=l.add(c.batch.mutations[h].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function bv(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function Dk(t,e){const n=me(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const c=[];e.targetChanges.forEach((u,d)=>{const g=s.get(d);if(!g)return;c.push(n.Ti.removeMatchingKeys(i,u.removedDocuments,d).next(()=>n.Ti.addMatchingKeys(i,u.addedDocuments,d)));let m=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(lt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),s=s.insert(d,m),function(A,O,D){return A.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=Pk?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(g,m,u)&&c.push(n.Ti.updateTargetData(i,m))});let l=Ln(),h=Ee();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),c.push(Vk(i,o,e.documentUpdates).next(u=>{l=u.qs,h=u.Qs})),!r.isEqual(pe.min())){const u=n.Ti.getLastRemoteSnapshotVersion(i).next(d=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));c.push(u)}return j.waitFor(c).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,h)).next(()=>l)}).then(i=>(n.xs=s,i))}function Vk(t,e,n){let r=Ee(),s=Ee();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ln();return n.forEach((c,l)=>{const h=i.get(c);l.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(c,l.readTime),o=o.insert(c,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),o=o.insert(c,l)):Z(_h,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",l.version)}),{qs:o,Qs:s}})}function xk(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=sh),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Mk(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,j.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new sr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function uu(t,e,n){const r=me(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ks(o))throw o;Z(_h,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function ng(t,e,n){const r=me(t);let s=pe.min(),i=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,h,u){const d=me(l),g=d.Os.get(u);return g!==void 0?j.resolve(d.xs.get(g)):d.Ti.getTargetData(h,u)}(r,o,un(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,c.targetId).next(l=>{i=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:pe.min(),n?i:Ee())).next(c=>(Lk(r,I1(e),c),{documents:c,$s:i})))}function Lk(t,e,n){let r=t.Ns.get(e)||pe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class rg{constructor(){this.activeTargetIds=P1()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fk{constructor(){this.xo=new rg,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new rg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="ConnectivityMonitor";class ig{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Z(sg,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Z(sg,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko=null;function hu(){return Ko===null?Ko=function(){return 268435456+Math.round(2147483648*Math.random())}():Ko++,"0x"+Ko.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl="RestConnection",Bk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jk{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Va?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=hu(),c=this.jo(e,n.toUriEncodedString());Z(pl,`Sending RPC '${e}' ${o}:`,c,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,s,i);const{host:h}=new URL(c),u=io(h);return this.Jo(e,c,l,r,u).then(d=>(Z(pl,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Vs(pl,`RPC '${e}' ${o} failed with error: `,d,"url: ",c,"request:",r),d})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=Bk[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class $k extends jk{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=hu();return new Promise((c,l)=>{const h=new Sy;h.setWithCredentials(!0),h.listenOnce(Cy.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case na.NO_ERROR:const d=h.getResponseJson();Z(pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),c(d);break;case na.TIMEOUT:Z(pt,`RPC '${e}' ${o} timed out`),l(new ae(q.DEADLINE_EXCEEDED,"Request time out"));break;case na.HTTP_ERROR:const g=h.getStatus();if(Z(pt,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let m=h.getResponseJson();Array.isArray(m)&&(m=m[0]);const E=m==null?void 0:m.error;if(E&&E.status&&E.message){const A=function(D){const N=D.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(N)>=0?N:q.UNKNOWN}(E.status);l(new ae(A,E.message))}else l(new ae(q.UNKNOWN,"Server responded with status "+h.getStatus()))}else l(new ae(q.UNAVAILABLE,"Connection failed."));break;default:fe(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Z(pt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(s);Z(pt,`RPC '${e}' ${o} sending request:`,s),h.send(n,"POST",u,r,15)})}T_(e,n,r){const s=hu(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Oy(),c=ky(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");Z(pt,`Creating RPC '${e}' stream ${s}: ${u}`,l);const d=o.createWebChannel(u,l);let g=!1,m=!1;const E=new Hk({Zo:O=>{m?Z(pt,`Not sending because RPC '${e}' stream ${s} is closed:`,O):(g||(Z(pt,`Opening RPC '${e}' stream ${s} transport.`),d.open(),g=!0),Z(pt,`RPC '${e}' stream ${s} sending:`,O),d.send(O))},Xo:()=>d.close()}),A=(O,D,N)=>{O.listen(D,T=>{try{N(T)}catch(k){setTimeout(()=>{throw k},0)}})};return A(d,di.EventType.OPEN,()=>{m||(Z(pt,`RPC '${e}' stream ${s} transport opened.`),E.__())}),A(d,di.EventType.CLOSE,()=>{m||(m=!0,Z(pt,`RPC '${e}' stream ${s} transport closed`),E.u_())}),A(d,di.EventType.ERROR,O=>{m||(m=!0,Vs(pt,`RPC '${e}' stream ${s} transport errored. Name:`,O.name,"Message:",O.message),E.u_(new ae(q.UNAVAILABLE,"The operation could not be completed")))}),A(d,di.EventType.MESSAGE,O=>{var D;if(!m){const N=O.data[0];Pe(!!N,16349);const T=N,k=(T==null?void 0:T.error)||((D=T[0])===null||D===void 0?void 0:D.error);if(k){Z(pt,`RPC '${e}' stream ${s} received error:`,k);const V=k.status;let F=function(y){const I=We[y];if(I!==void 0)return hv(I)}(V),w=k.message;F===void 0&&(F=q.INTERNAL,w="Unknown error status: "+V+" with message "+k.message),m=!0,E.u_(new ae(F,w)),d.close()}else Z(pt,`RPC '${e}' stream ${s} received:`,N),E.c_(N)}}),A(c,Py.STAT_EVENT,O=>{O.stat===Zl.PROXY?Z(pt,`RPC '${e}' stream ${s} detected buffering proxy`):O.stat===Zl.NOPROXY&&Z(pt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.a_()},0),E}}function gl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){return new K1(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=s,this.d_=i,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="PersistentStream";class Rv{constructor(e,n,r,s,i,o,c,l){this.xi=e,this.y_=r,this.w_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Av(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Mn(n.toString()),Mn("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===n&&this.K_(r,s)},r=>{e(()=>{const s=new ae(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Z(og,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(Z(og,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qk extends Rv{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=J1(this.serializer,e),r=function(i){if(!("targetChange"in i))return pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?hn(o.readTime):pe.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=lu(this.serializer),n.addTarget=function(i,o){let c;const l=o.target;if(c=su(l)?{documents:Z1(i,l)}:{query:ek(i,l).gt},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=pv(i,o.resumeToken);const h=ou(i,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(pe.min())>0){c.readTime=Ba(i,o.snapshotVersion.toTimestamp());const h=ou(i,o.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=nk(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=lu(this.serializer),n.removeTarget=e,this.L_(n)}}class zk extends Rv{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=X1(e.writeResults,e.commitTime),r=hn(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=lu(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Y1(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{}class Kk extends Wk{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new ae(q.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,au(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ae(q.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Yo(e,au(n,r),s,o,c,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(q.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class Gk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Mn(n),this.oa=!1):Z("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="RemoteStore";class Qk{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=i,this.Ea.No(o=>{r.enqueueAndForget(async()=>{Qr(this)&&(Z($r,"Restarting streams for network reachability change."),await async function(l){const h=me(l);h.Ta.add(4),await po(h),h.da.set("Unknown"),h.Ta.delete(4),await Ic(h)}(this))})}),this.da=new Gk(r,s)}}async function Ic(t){if(Qr(t))for(const e of t.Ia)await e(!0)}async function po(t){for(const e of t.Ia)await e(!1)}function Sv(t,e){const n=me(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),Th(n)?Eh(n):Gs(n).M_()&&vh(n,e))}function yh(t,e){const n=me(t),r=Gs(n);n.Pa.delete(e),r.M_()&&Cv(n,e),n.Pa.size===0&&(r.M_()?r.N_():Qr(n)&&n.da.set("Unknown"))}function vh(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gs(t).H_(e)}function Cv(t,e){t.Aa.Ke(e),Gs(t).J_(e)}function Eh(t){t.Aa=new $1({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Gs(t).start(),t.da._a()}function Th(t){return Qr(t)&&!Gs(t).F_()&&t.Pa.size>0}function Qr(t){return me(t).Ta.size===0}function Pv(t){t.Aa=void 0}async function Jk(t){t.da.set("Online")}async function Yk(t){t.Pa.forEach((e,n)=>{vh(t,e)})}async function Xk(t,e){Pv(t),Th(t)?(t.da.ca(e),Eh(t)):t.da.set("Unknown")}async function Zk(t,e,n){if(t.da.set("Online"),e instanceof dv&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const c of i.targetIds)s.Pa.has(c)&&(await s.remoteSyncer.rejectListen(c,o),s.Pa.delete(c),s.Aa.removeTarget(c))}(t,e)}catch(r){Z($r,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ha(t,r)}else if(e instanceof oa?t.Aa.Xe(e):e instanceof fv?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(pe.min()))try{const r=await bv(t.localStore);n.compareTo(r)>=0&&await function(i,o){const c=i.Aa.It(o);return c.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.Pa.get(h);u&&i.Pa.set(h,u.withResumeToken(l.resumeToken,o))}}),c.targetMismatches.forEach((l,h)=>{const u=i.Pa.get(l);if(!u)return;i.Pa.set(l,u.withResumeToken(lt.EMPTY_BYTE_STRING,u.snapshotVersion)),Cv(i,l);const d=new sr(u.target,l,h,u.sequenceNumber);vh(i,d)}),i.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){Z($r,"Failed to raise snapshot:",r),await Ha(t,r)}}async function Ha(t,e,n){if(!Ks(e))throw e;t.Ta.add(1),await po(t),t.da.set("Offline"),n||(n=()=>bv(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z($r,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await Ic(t)})}function kv(t,e){return e().catch(n=>Ha(t,n,e))}async function bc(t){const e=me(t),n=gr(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:sh;for(;eO(e);)try{const s=await xk(e.localStore,r);if(s===null){e.ha.length===0&&n.N_();break}r=s.batchId,tO(e,s)}catch(s){await Ha(e,s)}Ov(e)&&Nv(e)}function eO(t){return Qr(t)&&t.ha.length<10}function tO(t,e){t.ha.push(e);const n=gr(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function Ov(t){return Qr(t)&&!gr(t).F_()&&t.ha.length>0}function Nv(t){gr(t).start()}async function nO(t){gr(t).ta()}async function rO(t){const e=gr(t);for(const n of t.ha)e.Z_(n.mutations)}async function sO(t,e,n){const r=t.ha.shift(),s=hh.from(r,e,n);await kv(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await bc(t)}async function iO(t,e){e&&gr(t).Y_&&await async function(r,s){if(function(o){return j1(o)&&o!==q.ABORTED}(s.code)){const i=r.ha.shift();gr(r).O_(),await kv(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await bc(r)}}(t,e),Ov(t)&&Nv(t)}async function ag(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),Z($r,"RemoteStore received new credentials");const r=Qr(n);n.Ta.add(3),await po(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Ic(n)}async function oO(t,e){const n=me(t);e?(n.Ta.delete(2),await Ic(n)):e||(n.Ta.add(2),await po(n),n.da.set("Unknown"))}function Gs(t){return t.Ra||(t.Ra=function(n,r,s){const i=me(n);return i.ra(),new qk(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:Jk.bind(null,t),n_:Yk.bind(null,t),i_:Xk.bind(null,t),j_:Zk.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),Th(t)?Eh(t):t.da.set("Unknown")):(await t.Ra.stop(),Pv(t))})),t.Ra}function gr(t){return t.Va||(t.Va=function(n,r,s){const i=me(n);return i.ra(),new zk(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:nO.bind(null,t),i_:iO.bind(null,t),X_:rO.bind(null,t),ea:sO.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await bc(t)):(await t.Va.stop(),t.ha.length>0&&(Z($r,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,c=new wh(e,n,o,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ih(t,e){if(Mn("AsyncQueue",`${e}: ${t}`),Ks(t))return new ae(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{static emptySet(e){return new bs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=pi(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this.ma=new je(ce.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):fe(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class Us{constructor(e,n,r,s,i,o,c,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new Us(e,n,bs.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class cO{constructor(){this.queries=lg(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const s=me(n),i=s.queries;s.queries=lg(),i.forEach((o,c)=>{for(const l of c.ya)l.onError(r)})})(this,new ae(q.ABORTED,"Firestore shutting down"))}}function lg(){return new Kr(t=>Xy(t),_c)}async function lO(t,e){const n=me(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.wa()&&e.Sa()&&(r=2):(i=new aO,r=e.Sa()?0:1);try{switch(r){case 0:i.pa=await n.onListen(s,!0);break;case 1:i.pa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const c=Ih(o,`Initialization of query '${as(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.ya.push(e),e.Da(n.onlineState),i.pa&&e.va(i.pa)&&bh(n)}async function uO(t,e){const n=me(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ya.indexOf(e);o>=0&&(i.ya.splice(o,1),i.ya.length===0?s=e.Sa()?0:1:!i.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hO(t,e){const n=me(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const c of o.ya)c.va(s)&&(r=!0);o.pa=s}}r&&bh(n)}function fO(t,e,n){const r=me(t),s=r.queries.get(e);if(s)for(const i of s.ya)i.onError(n);r.queries.delete(e)}function bh(t){t.ba.forEach(e=>{e.next()})}var fu,ug;(ug=fu||(fu={})).Ca="default",ug.Cache="cache";class dO{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Us(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=Us.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==fu.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this.key=e}}class Vv{constructor(e){this.key=e}}class pO{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ee(),this.mutatedKeys=Ee(),this.Ha=Zy(e),this.Ja=new bs(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new cg,s=n?n.Ja:this.Ja;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,c=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,d)=>{const g=s.get(u),m=yc(this.query,d)?d:null,E=!!g&&this.mutatedKeys.has(g.key),A=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let O=!1;g&&m?g.data.isEqual(m.data)?E!==A&&(r.track({type:3,doc:m}),O=!0):this.eu(g,m)||(r.track({type:2,doc:m}),O=!0,(l&&this.Ha(m,l)>0||h&&this.Ha(m,h)<0)&&(c=!0)):!g&&m?(r.track({type:0,doc:m}),O=!0):g&&!m&&(r.track({type:1,doc:g}),O=!0,(l||h)&&(c=!0)),O&&(m?(o=o.add(m),i=A?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ja:o,Xa:r,Cs:c,mutatedKeys:i}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((u,d)=>function(m,E){const A=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe(20277,{Vt:O})}};return A(m)-A(E)}(u.type,d.type)||this.Ha(u.doc,d.doc)),this.tu(r),s=s!=null&&s;const c=n&&!s?this.nu():[],l=this.ja.size===0&&this.current&&!s?1:0,h=l!==this.za;return this.za=l,o.length!==0||h?{snapshot:new Us(this.query,e.Ja,i,o,e.mutatedKeys,l===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:c}:{ru:c}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new cg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ee(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new Vv(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new Dv(r))}),n}su(e){this.Ga=e.$s,this.ja=Ee();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return Us.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Ah="SyncEngine";class gO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mO{constructor(e){this.key=e,this._u=!1}}class _O{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new Kr(c=>Xy(c),_c),this.cu=new Map,this.lu=new Set,this.hu=new je(ce.comparator),this.Pu=new Map,this.Tu=new ph,this.Iu={},this.Eu=new Map,this.du=Fs.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function yO(t,e,n=!0){const r=Bv(t);let s;const i=r.uu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ou()):s=await xv(r,e,n,!0),s}async function vO(t,e){const n=Bv(t);await xv(n,e,!0,!1)}async function xv(t,e,n,r){const s=await Mk(t.localStore,un(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await EO(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&Sv(t.remoteStore,s),c}async function EO(t,e,n,r,s){t.Ru=(d,g,m)=>async function(A,O,D,N){let T=O.view.Za(D);T.Cs&&(T=await ng(A.localStore,O.query,!1).then(({documents:w})=>O.view.Za(w,T)));const k=N&&N.targetChanges.get(O.targetId),V=N&&N.targetMismatches.get(O.targetId)!=null,F=O.view.applyChanges(T,A.isPrimaryClient,k,V);return fg(A,O.targetId,F.ru),F.snapshot}(t,d,g,m);const i=await ng(t.localStore,e,!0),o=new pO(e,i.$s),c=o.Za(i.documents),l=fo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=o.applyChanges(c,t.isPrimaryClient,l);fg(t,n,h.ru);const u=new gO(e,n,o);return t.uu.set(e,u),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),h.snapshot}async function TO(t,e,n){const r=me(t),s=r.uu.get(e),i=r.cu.get(s.targetId);if(i.length>1)return r.cu.set(s.targetId,i.filter(o=>!_c(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await uu(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&yh(r.remoteStore,s.targetId),du(r,s.targetId)}).catch(Ws)):(du(r,s.targetId),await uu(r.localStore,s.targetId,!0))}async function wO(t,e){const n=me(t),r=n.uu.get(e),s=n.cu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yh(n.remoteStore,r.targetId))}async function IO(t,e,n){const r=kO(t);try{const s=await function(o,c){const l=me(o),h=Ye.now(),u=c.reduce((m,E)=>m.add(E.key),Ee());let d,g;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let E=Ln(),A=Ee();return l.Bs.getEntries(m,u).next(O=>{E=O,E.forEach((D,N)=>{N.isValidDocument()||(A=A.add(D))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,E)).next(O=>{d=O;const D=[];for(const N of c){const T=M1(N,d.get(N.key).overlayedDocument);T!=null&&D.push(new Gr(N.key,T,zy(T.value.mapValue),Pn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,h,D,c)}).next(O=>{g=O;const D=O.applyToLocalDocumentSet(d,A);return l.documentOverlayCache.saveOverlays(m,O.batchId,D)})}).then(()=>({batchId:g.batchId,changes:tv(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,c,l){let h=o.Iu[o.currentUser.toKey()];h||(h=new je(_e)),h=h.insert(c,l),o.Iu[o.currentUser.toKey()]=h}(r,s.batchId,n),await go(r,s.changes),await bc(r.remoteStore)}catch(s){const i=Ih(s,"Failed to persist write");n.reject(i)}}async function Mv(t,e){const n=me(t);try{const r=await Dk(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Pu.get(i);o&&(Pe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o._u=!0:s.modifiedDocuments.size>0?Pe(o._u,14607):s.removedDocuments.size>0&&(Pe(o._u,42227),o._u=!1))}),await go(n,r,e)}catch(r){await Ws(r)}}function hg(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.uu.forEach((i,o)=>{const c=o.view.Da(e);c.snapshot&&s.push(c.snapshot)}),function(o,c){const l=me(o);l.onlineState=c;let h=!1;l.queries.forEach((u,d)=>{for(const g of d.ya)g.Da(c)&&(h=!0)}),h&&bh(l)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bO(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Pu.get(e),i=s&&s.key;if(i){let o=new je(ce.comparator);o=o.insert(i,_t.newNoDocument(i,pe.min()));const c=Ee().add(i),l=new Tc(pe.min(),new Map,new je(_e),o,c);await Mv(r,l),r.hu=r.hu.remove(i),r.Pu.delete(e),Rh(r)}else await uu(r.localStore,e,!1).then(()=>du(r,e,n)).catch(Ws)}async function AO(t,e){const n=me(t),r=e.batch.batchId;try{const s=await Nk(n.localStore,e);Fv(n,r,null),Lv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await go(n,s)}catch(s){await Ws(s)}}async function RO(t,e,n){const r=me(t);try{const s=await function(o,c){const l=me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let u;return l.mutationQueue.lookupMutationBatch(h,c).next(d=>(Pe(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(h,d))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,u,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,u)).next(()=>l.localDocuments.getDocuments(h,u))})}(r.localStore,e);Fv(r,e,n),Lv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await go(r,s)}catch(s){await Ws(s)}}function Lv(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function Fv(t,e,n){const r=me(t);let s=r.Iu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function du(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||Uv(t,r)})}function Uv(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(yh(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),Rh(t))}function fg(t,e,n){for(const r of n)r instanceof Dv?(t.Tu.addReference(r.key,e),SO(t,r)):r instanceof Vv?(Z(Ah,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||Uv(t,r.key)):fe(19791,{mu:r})}function SO(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(Z(Ah,"New document in limbo: "+n),t.lu.add(r),Rh(t))}function Rh(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new ce($e.fromString(e)),r=t.du.next();t.Pu.set(r,new mO(n)),t.hu=t.hu.insert(n,r),Sv(t.remoteStore,new sr(un(lh(n.path)),r,"TargetPurposeLimboResolution",dc.le))}}async function go(t,e,n){const r=me(t),s=[],i=[],o=[];r.uu.isEmpty()||(r.uu.forEach((c,l)=>{o.push(r.Ru(l,e,n).then(h=>{var u;if((h||n)&&r.isPrimaryClient){const d=h?!h.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(h){s.push(h);const d=mh.Rs(l.targetId,h);i.push(d)}}))}),await Promise.all(o),r.au.j_(s),await async function(l,h){const u=me(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>j.forEach(h,g=>j.forEach(g.ds,m=>u.persistence.referenceDelegate.addReference(d,g.targetId,m)).next(()=>j.forEach(g.As,m=>u.persistence.referenceDelegate.removeReference(d,g.targetId,m)))))}catch(d){if(!Ks(d))throw d;Z(_h,"Failed to update sequence numbers: "+d)}for(const d of h){const g=d.targetId;if(!d.fromCache){const m=u.xs.get(g),E=m.snapshotVersion,A=m.withLastLimboFreeSnapshotVersion(E);u.xs=u.xs.insert(g,A)}}}(r.localStore,i))}async function CO(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){Z(Ah,"User change. New user:",e.toKey());const r=await Iv(n.localStore,e);n.currentUser=e,function(i,o){i.Eu.forEach(c=>{c.forEach(l=>{l.reject(new ae(q.CANCELLED,o))})}),i.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await go(n,r.ks)}}function PO(t,e){const n=me(t),r=n.Pu.get(e);if(r&&r._u)return Ee().add(r.key);{let s=Ee();const i=n.cu.get(e);if(!i)return s;for(const o of i){const c=n.uu.get(o);s=s.unionWith(c.view.Ya)}return s}}function Bv(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bO.bind(null,e),e.au.j_=hO.bind(null,e.eventManager),e.au.Vu=fO.bind(null,e.eventManager),e}function kO(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RO.bind(null,e),e}class $a{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wc(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return Ok(this.persistence,new Ck,e.initialUser,this.serializer)}yu(e){return new wv(gh.fi,this.serializer)}pu(e){return new Fk}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$a.provider={build:()=>new $a};class OO extends $a{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Pe(this.persistence.referenceDelegate instanceof ja,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new dk(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?St.withCacheSize(this.cacheSizeBytes):St.DEFAULT;return new wv(r=>ja.fi(r,n),this.serializer)}}class pu{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CO.bind(null,this.syncEngine),await oO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cO}()}createDatastore(e){const n=wc(e.databaseInfo.databaseId),r=function(i){return new $k(i)}(e.databaseInfo);return function(i,o,c,l){return new Kk(i,o,c,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,c){return new Qk(r,s,i,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>hg(this.syncEngine,n,0),function(){return ig.C()?new ig:new Uk}())}createSyncEngine(e,n){return function(s,i,o,c,l,h,u){const d=new _O(s,i,o,c,l,h);return u&&(d.Au=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=me(s);Z($r,"RemoteStore shutting down."),i.Ta.add(5),await po(i),i.Ea.shutdown(),i.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}pu.provider={build:()=>new pu};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Mn("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="FirestoreClient";class DO{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=gt.UNAUTHENTICATED,this.clientId=xy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z(mr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z(mr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ih(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ml(t,e){t.asyncQueue.verifyOperationInProgress(),Z(mr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Iv(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await VO(t);Z(mr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ag(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>ag(e.remoteStore,s)),t._onlineComponents=e}async function VO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z(mr,"Using user provided OfflineComponentProvider");try{await ml(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===q.FAILED_PRECONDITION||s.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Vs("Error using user provided cache. Falling back to memory cache: "+n),await ml(t,new $a)}}else Z(mr,"Using default OfflineComponentProvider"),await ml(t,new OO(void 0));return t._offlineComponents}async function jv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z(mr,"Using user provided OnlineComponentProvider"),await dg(t,t._uninitializedComponentsProvider._online)):(Z(mr,"Using default OnlineComponentProvider"),await dg(t,new pu))),t._onlineComponents}function xO(t){return jv(t).then(e=>e.syncEngine)}async function MO(t){const e=await jv(t),n=e.eventManager;return n.onListen=yO.bind(null,e.syncEngine),n.onUnlisten=TO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wO.bind(null,e.syncEngine),n}function LO(t,e,n={}){const r=new ur;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,c,l,h){const u=new NO({next:g=>{u.Cu(),o.enqueueAndForget(()=>uO(i,d));const m=g.docs.has(c);!m&&g.fromCache?h.reject(new ae(q.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&l&&l.source==="server"?h.reject(new ae(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),d=new dO(lh(c.path),u,{includeMetadataChanges:!0,La:!0});return lO(i,d)}(await MO(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t,e,n){if(!n)throw new ae(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UO(t,e,n,r){if(e===!0&&r===!0)throw new ae(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gg(t){if(!ce.isDocumentKey(t))throw new ae(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Sh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe(12329,{type:typeof t})}function Yi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sh(t);throw new ae(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="firestore.googleapis.com",mg=!0;class _g{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$v,this.ssl=mg}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:mg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Tv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hk)throw new ae(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hv((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ae(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ae(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ae(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _g({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _g(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jP;switch(r.type){case"firstParty":return new zP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=pg.get(n);r&&(Z("ComponentProvider","Removing Datastore"),pg.delete(n),r.terminate())}(this),Promise.resolve()}}function BO(t,e,n,r={}){var s;t=Yi(t,Ch);const i=io(e),o=t._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(H_(`https://${l}`),$_("Firestore",!0)),o.host!==$v&&o.host!==l&&Vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!Ur(h,c)&&(t._setSettings(h),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=gt.MOCK_USER;else{u=pR(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ae(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new gt(g)}t._authCredentials=new HP(new Dy(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ph(this.firestore,e,this._query)}}class Bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}}class Xi extends Ph{constructor(e,n,r){super(e,n,lh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new ce(e))}withConverter(e){return new Xi(this.firestore,e,this._path)}}function xN(t,e,...n){if(t=$t(t),arguments.length===1&&(e=xy.newId()),FO("doc","path",e),t instanceof Ch){const r=$e.fromString(e,...n);return gg(r),new Bt(t,null,new ce(r))}{if(!(t instanceof Bt||t instanceof Xi))throw new ae(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return gg(r),new Bt(t.firestore,t instanceof Xi?t.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="AsyncQueue";class vg{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Av(this,"async_queue_retry"),this.ec=()=>{const r=gl();r&&Z(yg,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=gl();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=gl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new ur;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Ks(e))throw e;Z(yg,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Mn("INTERNAL UNHANDLED ERROR: ",Eg(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const s=wh.createAndSchedule(this,e,n,r,i=>this.oc(i));return this.Hu.push(s),s}nc(){this.Ju&&fe(47125,{_c:Eg(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function Eg(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class kh extends Ch{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new vg,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vg(e),this._firestoreClient=void 0,await e}}}function jO(t,e){const n=typeof t=="object"?t:K_(),r=typeof t=="string"?t:Va,s=zu(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=fR("firestore");i&&BO(s,...i)}return s}function qv(t){if(t._terminated)throw new ae(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||HO(t),t._firestoreClient}function HO(t){var e,n,r;const s=t._freezeSettings(),i=function(c,l,h,u){return new o1(c,l,h,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Hv(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new DO(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(c){const l=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bs(lt.fromBase64String(e))}catch(n){throw new ae(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bs(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=/^__.*__$/;class qO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ho(e,this.data,n,this.fieldTransforms)}}function Wv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe(40011,{hc:t})}}class Vh{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Vh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return qa(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(Wv(this.hc)&&$O.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class zO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wc(e)}gc(e,n,r,s=!1){return new Vh({hc:e,methodName:n,fc:r,path:ct.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function WO(t){const e=t._freezeSettings(),n=wc(t._databaseId);return new zO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KO(t,e,n,r,s,i={}){const o=t.gc(i.merge||i.mergeFields?2:0,e,n,s);Jv("Data must be an object, but it was:",o,r);const c=Gv(r,o);let l,h;if(i.merge)l=new Jt(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const g=GO(e,d,n);if(!o.contains(g))throw new ae(q.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);JO(u,g)||u.push(g)}l=new Jt(u),h=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,h=o.fieldTransforms;return new qO(new Lt(c),l,h)}function Kv(t,e){if(Qv(t=$t(t)))return Jv("Unsupported field value:",e,t),Gv(t,e);if(t instanceof zv)return function(r,s){if(!Wv(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const c of r){let l=Kv(c,s.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=$t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return k1(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ye.fromDate(r);return{timestampValue:Ba(s.serializer,i)}}if(r instanceof Ye){const i=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ba(s.serializer,i)}}if(r instanceof Nh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bs)return{bytesValue:pv(s.serializer,r._byteString)};if(r instanceof Bt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:dh(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Dh)return function(o,c){return{mapValue:{fields:{[$y]:{stringValue:qy},[xa]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw c.Vc("VectorValues must only contain numeric values.");return uh(c.serializer,h)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${Sh(r)}`)}(t,e)}function Gv(t,e){const n={};return Ly(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wr(t,(r,s)=>{const i=Kv(s,e.Ic(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Qv(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof Nh||t instanceof Bs||t instanceof Bt||t instanceof zv||t instanceof Dh)}function Jv(t,e,n){if(!Qv(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Sh(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function GO(t,e,n){if((e=$t(e))instanceof Oh)return e._internalPath;if(typeof e=="string")return Yv(t,e);throw qa("Field path arguments must be of type string or ",t,!1,void 0,n)}const QO=new RegExp("[~\\*/\\[\\]]");function Yv(t,e,n){if(e.search(QO)>=0)throw qa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Oh(...e.split("."))._internalPath}catch{throw qa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qa(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ae(q.INVALID_ARGUMENT,c+t+l)}function JO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YO extends Xv{data(){return super.data()}}function Zv(t,e){return typeof e=="string"?Yv(t,e):e instanceof Oh?e._internalPath:e._delegate._internalPath}class XO{convertValue(e,n="none"){switch(pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wr(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[xa].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>qe(o.doubleValue));return new Dh(i)}convertGeoPoint(e){return new Nh(qe(e.latitude),qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=gc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wi(e));default:return null}}convertTimestamp(e){const n=fr(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);Pe(Ev(r),9688,{name:e});const s=new Ki(r.get(1),r.get(3)),i=new ce(r.popFirst(5));return s.isEqual(n)||Mn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eE extends Xv{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class tN extends eE{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t){t=Yi(t,Bt);const e=Yi(t.firestore,kh);return LO(qv(e),t._key).then(n=>sN(e,t,n))}class nN extends XO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}}function LN(t,e,n){t=Yi(t,Bt);const r=Yi(t.firestore,kh),s=ZO(t.converter,e);return rN(r,[KO(WO(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Pn.none())])}function rN(t,e){return function(r,s){const i=new ur;return r.asyncQueue.enqueueAndForget(async()=>IO(await xO(r),s,i)),i.promise}(qv(t),e)}function sN(t,e,n){const r=n.docs.get(e._key),s=new nN(t);return new eE(t,s,e._key,r,new eN(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){zs=s})($s),Ns(new Br("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),c=new kh(new $P(r.getProvider("auth-internal")),new WP(o,r.getProvider("app-check-internal")),function(h,u){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ae(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ki(h.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),cr(Rp,Sp,e),cr(Rp,Sp,"esm2017")})();const iN=mn(()=>{const t={apiKey:"AIzaSyBn30p1y46ru6m2SQHMb9U9eQCCxzla7xo",authDomain:"mediamap-app-2ee92.firebaseapp.com",projectId:"mediamap-app-2ee92",storageBucket:"mediamap-app-2ee92.firebasestorage.app",messagingSenderId:"35065730175",appId:"1:35065730175:web:04d4e2814237851451db4a"},e=sp().length===0?W_(t):sp()[0],n=UP(e),r=jO(e);return{provide:{firebase:{app:e,auth:n,firestore:r}}}}),oN=[bb,Pb,GA,QA,JA,YA,ZA,eR,rR,iN],tE=(t="RouteProvider")=>to({name:t,props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const n=e.renderKey,r=e.route,s={};for(const i in e.route)Object.defineProperty(s,i,{get:()=>n===e.renderKey?e.route[i]:r[i],enumerable:!0});return ms(ic,An(s)),()=>Ft(e.vnode,{ref:e.vnodeRef})}}),aN=tE(),Tg=new WeakMap,cN=to({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:e,slots:n,expose:r}){const s=nt(),i=Cn(),o=Nt(ic,null);let c;r({pageRef:i});const l=Nt(P0,null);let h;const u=s.deferHydration();if(s.isHydrating){const g=s.hooks.hookOnce("app:error",u);Ht().beforeEach(g)}t.pageKey&&_s(()=>t.pageKey,(g,m)=>{g!==m&&s.callHook("page:loading:start")});let d=!1;{const g=Ht().beforeResolve(()=>{d=!1});ro(()=>{g()})}return()=>Ft(V_,{name:t.name,route:t.route,...e},{default:g=>{const m=uN(o,g.route,g.Component),E=o&&o.matched.length===g.route.matched.length;if(!g.Component){if(h&&!E)return h;u();return}if(h&&l&&!l.isCurrent(g.route))return h;if(m&&o&&(!l||l!=null&&l.isCurrent(o)))return E?h:null;const A=ql(g,t.pageKey),O=hN(o,g.route,g.Component);!s.isHydrating&&c===A&&!O&&As(()=>{d=!0,s.callHook("page:loading:end")}),c=A;const D=!!(t.transition??g.route.meta.pageTransition??_d),N=D&&lN([t.transition,g.route.meta.pageTransition,_d,{onBeforeLeave(){s._runningTransition=!0},onAfterLeave(){delete s._runningTransition,s.callHook("page:transition:finish",g.Component)}}]),T=t.keepalive??g.route.meta.keepalive??f0;return h=LA(D&&N,MA(T,Ft(Vm,{suspensible:!0,onPending:()=>s.callHook("page:start",g.Component),onResolve:()=>{As(()=>s.callHook("page:finish",g.Component).then(()=>{if(!d&&!O)return d=!0,s.callHook("page:loading:end")}).finally(u))}},{default:()=>{const k={key:A||void 0,vnode:n.default?fN(n.default,g):g.Component,route:g.route,renderKey:A||void 0,trackRootNodes:D,vnodeRef:i};if(!T)return Ft(aN,k);const V=g.Component.type,F=V;let w=Tg.get(F);return w||(w=tE(V.name||V.__name),Tg.set(F,w)),Ft(w,k)}}))).default(),h}})}});function lN(t){const e=t.filter(Boolean).map(n=>({...n,onAfterLeave:n.onAfterLeave?ju(n.onAfterLeave):void 0}));return u_(...e)}function uN(t,e,n){if(!t)return!1;const r=e.matched.findIndex(s=>{var i;return((i=s.components)==null?void 0:i.default)===(n==null?void 0:n.type)});return!r||r===-1?!1:e.matched.slice(0,r).some((s,i)=>{var o,c,l;return((o=s.components)==null?void 0:o.default)!==((l=(c=t.matched[i])==null?void 0:c.components)==null?void 0:l.default)})||n&&ql({route:e,Component:n})!==ql({route:t,Component:n})}function hN(t,e,n){return t?e.matched.findIndex(s=>{var i;return((i=s.components)==null?void 0:i.default)===(n==null?void 0:n.type)})<e.matched.length-1:!1}function fN(t,e){const n=t(e);return n.length===1?Ft(n[0]):Ft(kt,void 0,n)}const dN=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},pN={};function gN(t,e){const n=cN;return an(),Zn(n)}const mN=dN(pN,[["render",gN]]),_N={__name:"nuxt-error-page",props:{error:Object},setup(t){const n=t.error;n.stack&&n.stack.split(`
`).splice(1).map(d=>({text:d.replace("webpack:/","").replace(".vue",".js").trim(),internal:d.includes("node_modules")&&!d.includes(".cache")||d.includes("internal")||d.includes("new Promise")})).map(d=>`<span class="stack${d.internal?" internal":""}">${d.text}</span>`).join(`
`);const r=Number(n.statusCode||500),s=r===404,i=n.statusMessage??(s?"Page Not Found":"Internal Server Error"),o=n.message||n.toString(),c=void 0,u=s?xf(()=>wi(()=>import("./Kfxj7LQ4.js"),__vite__mapDeps([7,8,9]),import.meta.url)):xf(()=>wi(()=>import("./Xp9OHAO7.js"),__vite__mapDeps([10,8,11]),import.meta.url));return(d,g)=>(an(),Zn(Be(u),LE(jm({statusCode:Be(r),statusMessage:Be(i),description:Be(o),stack:Be(c)})),null,16))}},yN={key:0},wg={__name:"nuxt-root",setup(t){const e=()=>null,n=nt(),r=n.deferHydration();if(n.isHydrating){const h=n.hooks.hookOnce("app:error",r);Ht().beforeEach(h)}const s=!1;ms(ic,f_()),n.hooks.callHookWith(h=>h.map(u=>u()),"vue:setup");const i=oc(),o=!1,c=/bot\b|chrome-lighthouse|facebookexternalhit|google\b|googlebot/i;dm((h,u,d)=>{if(n.hooks.callHook("vue:error",h,u,d).catch(g=>console.error("[nuxt] Error in `vue:error` hook",g)),c.test(navigator.userAgent))return n.hooks.callHook("app:error",h),console.error(`[nuxt] Not rendering error page for bot with user agent \`${navigator.userAgent}\`:`,h),!1;if(p_(h)&&(h.fatal||h.unhandled))return n.runWithContext(()=>Sr(h)),!1});const l=!1;return(h,u)=>(an(),Zn(Vm,{onResolve:Be(r)},{default:tm(()=>[Be(o)?(an(),Ew("div",yN)):Be(i)?(an(),Zn(Be(_N),{key:1,error:Be(i)},null,8,["error"])):Be(l)?(an(),Zn(Be(e),{key:2,context:Be(l)},null,8,["context"])):Be(s)?(an(),Zn(BT(Be(s)),{key:3})):(an(),Zn(Be(mN),{key:4}))]),_:1},8,["onResolve"]))}};let Ig;{let t;Ig=async function(){var o,c;if(t)return t;const r=!!(((o=window.__NUXT__)==null?void 0:o.serverRendered)??((c=document.getElementById("__NUXT_DATA__"))==null?void 0:c.dataset.ssr)==="true")?aI(wg):oI(wg),s=_0({vueApp:r});async function i(l){var h;await s.callHook("app:error",l),(h=s.payload).error||(h.error=Lr(l))}r.config.errorHandler=i,s.hook("app:suspense:resolve",()=>{r.config.errorHandler===i&&(r.config.errorHandler=void 0)});try{await E0(s,oN)}catch(l){i(l)}try{await s.hooks.callHook("app:created",r),await s.hooks.callHook("app:beforeMount",r),r.mount(p0),await s.hooks.callHook("app:mounted",r),await As()}catch(l){i(l)}return r},t=Ig().catch(e=>{throw console.error("Error while mounting app:",e),e})}export{fm as $,HE as A,ze as B,tm as C,Hm as D,PN as E,T0 as F,Pu as G,Nt as H,__ as I,Zn as J,bN as K,kt as L,wN as M,Ja as N,ON as O,NN as P,tr as Q,DN as R,xN as S,MN as T,LN as U,EN as V,AN as W,RN as X,IN as Y,_s as Z,dN as _,nt as a,r_ as a0,Be as a1,Je as a2,Hu as b,Qd as c,to as d,ro as e,kN as f,TN as g,Ft as h,O0 as i,nR as j,Kt as k,zr as l,xu as m,sc as n,Cu as o,Jm as p,CN as q,Cn as r,Vi as s,Ui as t,Ht as u,SN as v,DI as w,Ew as x,an as y,Bm as z};
